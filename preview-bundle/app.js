const If="modulepreload",Ff=function(e){return"/"+e},go={},zf=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=Ff(c),c in go)return;go[c]=!0;const u=c.endsWith(".css"),m=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${m}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":If,u||(h.as="script"),h.crossOrigin="",h.href=c,o&&h.setAttribute("nonce",o),document.head.appendChild(h),u)return new Promise((f,w)=>{h.addEventListener("load",f),h.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&l(o.reason);return t().catch(l)})},pl="lifeGoalApp:debug",$f=new Date().toISOString(),Er=(()=>{try{return window.localStorage}catch(e){return console.warn("Local storage is not available:",e),null}})(),Qc=new URLSearchParams(window.location.search),yo=Qc.get("debug"),Xc=yo==="1"||yo==="true"||Qc.has("debug"),ml=()=>{if(!Er)return!1;try{return Er.getItem(pl)==="1"}catch{return!1}},Jc=e=>{if(Er)try{e?Er.setItem(pl,"1"):Er.removeItem(pl)}catch(t){console.warn("Unable to persist debugger preference.",t)}},Of=Xc||ml(),Zc=e=>{if(e==null)return"";if(typeof e=="string")return e;if(e instanceof Error)return`${e.message}
${e.stack??""}`.trim();try{return JSON.stringify(e,null,2)}catch{return String(e)}},Uf=()=>{const e=[];let t=null,n=null,r=null;const i=()=>{if(t)return;t=document.createElement("aside"),t.id="lifegoal-debugger",t.style.cssText=["position:fixed","bottom:16px","right:16px","width:min(420px,92vw)","max-height:70vh","display:none","flex-direction:column","background:rgba(15,23,42,0.94)","color:#f8fafc","border-radius:16px","box-shadow:0 24px 48px rgba(15,23,42,0.45)","font-family:SFMono-Regular,ui-monospace,Menlo,Consolas,'Liberation Mono',monospace","z-index:2147483647","border:1px solid rgba(148,163,184,0.35)","overflow:hidden"].join(";");const f=document.createElement("header");f.style.cssText=["display:flex","align-items:center","justify-content:space-between","gap:0.5rem","padding:0.75rem 1rem","background:rgba(15,23,42,0.85)","border-bottom:1px solid rgba(148,163,184,0.35)"].join(";");const w=document.createElement("strong");w.textContent="LifeGoal debugger",w.style.fontSize="0.95rem";const _=document.createElement("div");_.style.cssText="display:flex;align-items:center;gap:0.5rem;";const v=document.createElement("button");v.type="button",v.textContent="Close",v.style.cssText=["background:transparent","border:1px solid rgba(148,163,184,0.45)","color:#f8fafc","border-radius:999px","padding:0.2rem 0.75rem","font-size:0.75rem","cursor:pointer"].join(";"),v.addEventListener("click",()=>u()),r=document.createElement("button"),r.type="button",r.style.cssText=["background:rgba(59,130,246,0.22)","border:1px solid rgba(148,163,184,0.45)","color:#bfdbfe","border-radius:999px","padding:0.2rem 0.75rem","font-size:0.75rem","cursor:pointer"].join(";"),r.addEventListener("click",()=>{const S=!ml();Jc(S),l()}),_.appendChild(r),_.appendChild(v),f.appendChild(w),f.appendChild(_),n=document.createElement("div"),n.style.cssText=["padding:0.75rem 1rem","overflow:auto","display:flex","flex-direction:column","gap:0.5rem","font-size:0.8rem","line-height:1.45"].join(";"),t.appendChild(f),t.appendChild(n)},l=()=>{if(!r)return;const f=ml();r.textContent=f?"Persisted":"Persist",r.style.background=f?"rgba(16,185,129,0.35)":"rgba(59,130,246,0.22)",r.style.color=f?"#bbf7d0":"#bfdbfe"},a=()=>{const f=n;f&&(f.innerHTML="",e.slice(-100).forEach(w=>{const _=document.createElement("div");_.style.cssText=["display:grid","gap:0.25rem","background:rgba(148,163,184,0.12)","border-radius:10px","padding:0.55rem 0.65rem"].join(";");const v=document.createElement("div");if(v.textContent=`[${w.time}] ${w.level.toUpperCase()} • ${w.message}`,v.style.fontWeight="600",_.appendChild(v),w.detailText){const S=document.createElement("pre");S.textContent=w.detailText,S.style.cssText=["margin:0","white-space:pre-wrap","word-break:break-word","background:rgba(15,23,42,0.6)","border-radius:6px","padding:0.45rem 0.5rem"].join(";"),_.appendChild(S)}f.appendChild(_)}))},o=(f,w,_)=>{e.push({time:new Date().toLocaleTimeString(),level:f,message:w,detailText:Zc(_)}),e.length>200&&e.shift(),a()},c=()=>{i(),t&&(t.isConnected||(document.body.appendChild(t),l()),t.style.display="flex")},u=()=>{t&&(t.style.display="none")},m=()=>{i(),t&&(t.style.display==="none"||t.style.display===""?c():u())},h=()=>{e.length=0,a()};return i(),a(),{show:c,hide:u,toggle:m,clear:h,push:o,updatePersistButton:l}},ut=Uf(),eu={show:()=>ut.show(),hide:()=>ut.hide(),toggle:()=>ut.toggle(),clear:()=>ut.clear(),log:(e,t)=>ut.push("info",e,t),warn:(e,t)=>ut.push("warn",e,t),error:(e,t)=>ut.push("error",e,t),persist:e=>{Jc(!!e),ut.updatePersistButton()},info:{bootStartedAt:$f,userAgent:navigator.userAgent,location:window.location.href}};window.__LifeGoalAppDebugger=eu;ut.push("info","Debugger initialized.",eu.info);Of&&(ut.show(),ut.push("info","Debugger auto-opened.",{reason:Xc?"query":"stored preference"}));window.addEventListener("error",e=>{var t;(t=window.__LifeGoalAppDebugger)==null||t.error("Unhandled error captured.",{message:e.message,source:e.filename,line:e.lineno,column:e.colno})});window.addEventListener("unhandledrejection",e=>{var t;(t=window.__LifeGoalAppDebugger)==null||t.error("Unhandled promise rejection.",{reason:Zc(e.reason)})});const Hf=e=>{const t=document.getElementById("root");if(!t)return;const n=document.createElement("section");n.setAttribute("role","alert"),n.style.cssText=["font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif","max-width:560px","margin:4rem auto","padding:1.75rem","border-radius:18px","background:rgba(15,23,42,0.05)","color:#0f172a","text-align:center","border:1px solid rgba(148,163,184,0.3)","box-shadow:0 24px 45px rgba(15,23,42,0.12)"].join(";");const r=document.createElement("h1");r.textContent="We hit a snag starting LifeGoalApp",r.style.cssText="margin:0 0 0.75rem;font-size:1.5rem;";const i=document.createElement("p");i.textContent="Your browser couldn't load the app bundle. If you're developing locally, run npm run build and serve the dist folder. For production, make sure the compiled assets are deployed.",i.style.cssText="margin:0 0 0.75rem;line-height:1.6;";const l=document.createElement("p");l.textContent=e instanceof Error?e.message:String(e),l.style.cssText="margin:0;color:#b91c1c;font-weight:600;",n.appendChild(r),n.appendChild(i),n.appendChild(l),t.innerHTML="",t.appendChild(n)},Wf=async()=>{var t,n,r;const e=performance.now();(t=window.__LifeGoalAppDebugger)==null||t.log("Loading application entry…",{module:"./main.tsx"});try{await zf(()=>Promise.resolve().then(()=>Cy),void 0);const i=Number((performance.now()-e).toFixed(2));(n=window.__LifeGoalAppDebugger)==null||n.log("Application entry resolved.",{durationMs:i})}catch(i){window.dispatchEvent(new CustomEvent("LifeGoalApp:bootstrap-failed",{detail:{message:i instanceof Error?i.message:String(i)}})),(r=window.__LifeGoalAppDebugger)==null||r.error("Failed to load application entry module.",{message:i instanceof Error?i.message:String(i),stack:i instanceof Error?i.stack:void 0}),ut.show(),Hf(i)}};Wf();function Bf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var tu={exports:{}},vi={},nu={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rs=Symbol.for("react.element"),Gf=Symbol.for("react.portal"),Vf=Symbol.for("react.fragment"),qf=Symbol.for("react.strict_mode"),Yf=Symbol.for("react.profiler"),Kf=Symbol.for("react.provider"),Qf=Symbol.for("react.context"),Xf=Symbol.for("react.forward_ref"),Jf=Symbol.for("react.suspense"),Zf=Symbol.for("react.memo"),eh=Symbol.for("react.lazy"),_o=Symbol.iterator;function th(e){return e===null||typeof e!="object"?null:(e=_o&&e[_o]||e["@@iterator"],typeof e=="function"?e:null)}var ru={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},su=Object.assign,iu={};function dr(e,t,n){this.props=e,this.context=t,this.refs=iu,this.updater=n||ru}dr.prototype.isReactComponent={};dr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function lu(){}lu.prototype=dr.prototype;function ma(e,t,n){this.props=e,this.context=t,this.refs=iu,this.updater=n||ru}var ga=ma.prototype=new lu;ga.constructor=ma;su(ga,dr.prototype);ga.isPureReactComponent=!0;var vo=Array.isArray,au=Object.prototype.hasOwnProperty,ya={current:null},ou={key:!0,ref:!0,__self:!0,__source:!0};function cu(e,t,n){var r,i={},l=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(l=""+t.key),t)au.call(t,r)&&!ou.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:rs,type:e,key:l,ref:a,props:i,_owner:ya.current}}function nh(e,t){return{$$typeof:rs,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function _a(e){return typeof e=="object"&&e!==null&&e.$$typeof===rs}function rh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wo=/\/+/g;function Ai(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rh(""+e.key):t.toString(36)}function Ps(e,t,n,r,i){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(l){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case rs:case Gf:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+Ai(a,0):r,vo(i)?(n="",e!=null&&(n=e.replace(wo,"$&/")+"/"),Ps(i,t,n,"",function(u){return u})):i!=null&&(_a(i)&&(i=nh(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(wo,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",vo(e))for(var o=0;o<e.length;o++){l=e[o];var c=r+Ai(l,o);a+=Ps(l,t,n,c,i)}else if(c=th(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=r+Ai(l,o++),a+=Ps(l,t,n,c,i);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ds(e,t,n){if(e==null)return e;var r=[],i=0;return Ps(e,r,"","",function(l){return t.call(n,l,i++)}),r}function sh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qe={current:null},Ms={transition:null},ih={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:Ms,ReactCurrentOwner:ya};function uu(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:ds,forEach:function(e,t,n){ds(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ds(e,function(){t++}),t},toArray:function(e){return ds(e,function(t){return t})||[]},only:function(e){if(!_a(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=dr;oe.Fragment=Vf;oe.Profiler=Yf;oe.PureComponent=ma;oe.StrictMode=qf;oe.Suspense=Jf;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ih;oe.act=uu;oe.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=su({},e.props),i=e.key,l=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,a=ya.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)au.call(t,c)&&!ou.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:rs,type:e.type,key:i,ref:l,props:r,_owner:a}};oe.createContext=function(e){return e={$$typeof:Qf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kf,_context:e},e.Consumer=e};oe.createElement=cu;oe.createFactory=function(e){var t=cu.bind(null,e);return t.type=e,t};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:Xf,render:e}};oe.isValidElement=_a;oe.lazy=function(e){return{$$typeof:eh,_payload:{_status:-1,_result:e},_init:sh}};oe.memo=function(e,t){return{$$typeof:Zf,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=Ms.transition;Ms.transition={};try{e()}finally{Ms.transition=t}};oe.unstable_act=uu;oe.useCallback=function(e,t){return Qe.current.useCallback(e,t)};oe.useContext=function(e){return Qe.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return Qe.current.useDeferredValue(e)};oe.useEffect=function(e,t){return Qe.current.useEffect(e,t)};oe.useId=function(){return Qe.current.useId()};oe.useImperativeHandle=function(e,t,n){return Qe.current.useImperativeHandle(e,t,n)};oe.useInsertionEffect=function(e,t){return Qe.current.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return Qe.current.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return Qe.current.useMemo(e,t)};oe.useReducer=function(e,t,n){return Qe.current.useReducer(e,t,n)};oe.useRef=function(e){return Qe.current.useRef(e)};oe.useState=function(e){return Qe.current.useState(e)};oe.useSyncExternalStore=function(e,t,n){return Qe.current.useSyncExternalStore(e,t,n)};oe.useTransition=function(){return Qe.current.useTransition()};oe.version="18.3.1";nu.exports=oe;var y=nu.exports;const lh=Bf(y);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ah=y,oh=Symbol.for("react.element"),ch=Symbol.for("react.fragment"),uh=Object.prototype.hasOwnProperty,dh=ah.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fh={key:!0,ref:!0,__self:!0,__source:!0};function du(e,t,n){var r,i={},l=null,a=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)uh.call(t,r)&&!fh.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:oh,type:e,key:l,ref:a,props:i,_owner:dh.current}}vi.Fragment=ch;vi.jsx=du;vi.jsxs=du;tu.exports=vi;var s=tu.exports,gl={},fu={exports:{}},ot={},hu={exports:{}},pu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,R){var B=P.length;P.push(R);e:for(;0<B;){var se=B-1>>>1,ae=P[se];if(0<i(ae,R))P[se]=R,P[B]=ae,B=se;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var R=P[0],B=P.pop();if(B!==R){P[0]=B;e:for(var se=0,ae=P.length,T=ae>>>1;se<T;){var V=2*(se+1)-1,Y=P[V],$=V+1,X=P[$];if(0>i(Y,B))$<ae&&0>i(X,Y)?(P[se]=X,P[$]=B,se=$):(P[se]=Y,P[V]=B,se=V);else if($<ae&&0>i(X,B))P[se]=X,P[$]=B,se=$;else break e}}return R}function i(P,R){var B=P.sortIndex-R.sortIndex;return B!==0?B:P.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var c=[],u=[],m=1,h=null,f=3,w=!1,_=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var R=n(u);R!==null;){if(R.callback===null)r(u);else if(R.startTime<=P)r(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=n(u)}}function x(P){if(v=!1,g(P),!_)if(n(c)!==null)_=!0,ie(C);else{var R=n(u);R!==null&&le(x,R.startTime-P)}}function C(P,R){_=!1,v&&(v=!1,p(D),D=-1),w=!0;var B=f;try{for(g(R),h=n(c);h!==null&&(!(h.expirationTime>R)||P&&!N());){var se=h.callback;if(typeof se=="function"){h.callback=null,f=h.priorityLevel;var ae=se(h.expirationTime<=R);R=e.unstable_now(),typeof ae=="function"?h.callback=ae:h===n(c)&&r(c),g(R)}else r(c);h=n(c)}if(h!==null)var T=!0;else{var V=n(u);V!==null&&le(x,V.startTime-R),T=!1}return T}finally{h=null,f=B,w=!1}}var E=!1,M=null,D=-1,ee=5,O=-1;function N(){return!(e.unstable_now()-O<ee)}function W(){if(M!==null){var P=e.unstable_now();O=P;var R=!0;try{R=M(!0,P)}finally{R?U():(E=!1,M=null)}}else E=!1}var U;if(typeof d=="function")U=function(){d(W)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,J=I.port2;I.port1.onmessage=W,U=function(){J.postMessage(null)}}else U=function(){S(W,0)};function ie(P){M=P,E||(E=!0,U())}function le(P,R){D=S(function(){P(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){_||w||(_=!0,ie(C))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var R=3;break;default:R=f}var B=f;f=R;try{return P()}finally{f=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,R){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var B=f;f=P;try{return R()}finally{f=B}},e.unstable_scheduleCallback=function(P,R,B){var se=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?se+B:se):B=se,P){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=B+ae,P={id:m++,callback:R,priorityLevel:P,startTime:B,expirationTime:ae,sortIndex:-1},B>se?(P.sortIndex=B,t(u,P),n(c)===null&&P===n(u)&&(v?(p(D),D=-1):v=!0,le(x,B-se))):(P.sortIndex=ae,t(c,P),_||w||(_=!0,ie(C))),P},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(P){var R=f;return function(){var B=f;f=R;try{return P.apply(this,arguments)}finally{f=B}}}})(pu);hu.exports=pu;var hh=hu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ph=y,at=hh;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mu=new Set,zr={};function Pn(e,t){rr(e,t),rr(e+"Capture",t)}function rr(e,t){for(zr[e]=t,e=0;e<t.length;e++)mu.add(t[e])}var It=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yl=Object.prototype.hasOwnProperty,mh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xo={},ko={};function gh(e){return yl.call(ko,e)?!0:yl.call(xo,e)?!1:mh.test(e)?ko[e]=!0:(xo[e]=!0,!1)}function yh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _h(e,t,n,r){if(t===null||typeof t>"u"||yh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Xe(e,t,n,r,i,l,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=a}var Oe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Oe[e]=new Xe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Oe[t]=new Xe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Oe[e]=new Xe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Oe[e]=new Xe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Oe[e]=new Xe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Oe[e]=new Xe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Oe[e]=new Xe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Oe[e]=new Xe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Oe[e]=new Xe(e,5,!1,e.toLowerCase(),null,!1,!1)});var va=/[\-:]([a-z])/g;function wa(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(va,wa);Oe[t]=new Xe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(va,wa);Oe[t]=new Xe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(va,wa);Oe[t]=new Xe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Oe[e]=new Xe(e,1,!1,e.toLowerCase(),null,!1,!1)});Oe.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Oe[e]=new Xe(e,1,!1,e.toLowerCase(),null,!0,!0)});function xa(e,t,n,r){var i=Oe.hasOwnProperty(t)?Oe[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_h(t,n,i,r)&&(n=null),r||i===null?gh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ot=ph.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fs=Symbol.for("react.element"),Fn=Symbol.for("react.portal"),zn=Symbol.for("react.fragment"),ka=Symbol.for("react.strict_mode"),_l=Symbol.for("react.profiler"),gu=Symbol.for("react.provider"),yu=Symbol.for("react.context"),ba=Symbol.for("react.forward_ref"),vl=Symbol.for("react.suspense"),wl=Symbol.for("react.suspense_list"),ja=Symbol.for("react.memo"),Gt=Symbol.for("react.lazy"),_u=Symbol.for("react.offscreen"),bo=Symbol.iterator;function pr(e){return e===null||typeof e!="object"?null:(e=bo&&e[bo]||e["@@iterator"],typeof e=="function"?e:null)}var Ne=Object.assign,Ii;function kr(e){if(Ii===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ii=t&&t[1]||""}return`
`+Ii+e}var Fi=!1;function zi(e,t){if(!e||Fi)return"";Fi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),l=r.stack.split(`
`),a=i.length-1,o=l.length-1;1<=a&&0<=o&&i[a]!==l[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==l[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==l[o]){var c=`
`+i[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=o);break}}}finally{Fi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?kr(e):""}function vh(e){switch(e.tag){case 5:return kr(e.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 2:case 15:return e=zi(e.type,!1),e;case 11:return e=zi(e.type.render,!1),e;case 1:return e=zi(e.type,!0),e;default:return""}}function xl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zn:return"Fragment";case Fn:return"Portal";case _l:return"Profiler";case ka:return"StrictMode";case vl:return"Suspense";case wl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yu:return(e.displayName||"Context")+".Consumer";case gu:return(e._context.displayName||"Context")+".Provider";case ba:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ja:return t=e.displayName||null,t!==null?t:xl(e.type)||"Memo";case Gt:t=e._payload,e=e._init;try{return xl(e(t))}catch{}}return null}function wh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xl(t);case 8:return t===ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function on(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function xh(e){var t=vu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,l.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hs(e){e._valueTracker||(e._valueTracker=xh(e))}function wu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=vu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function kl(e,t){var n=t.checked;return Ne({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function jo(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=on(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xu(e,t){t=t.checked,t!=null&&xa(e,"checked",t,!1)}function bl(e,t){xu(e,t);var n=on(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jl(e,t.type,n):t.hasOwnProperty("defaultValue")&&jl(e,t.type,on(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function So(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jl(e,t,n){(t!=="number"||Gs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var br=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+on(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Sl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return Ne({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function No(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(br(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:on(n)}}function ku(e,t){var n=on(t.value),r=on(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Co(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function bu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?bu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ps,ju=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ps=ps||document.createElement("div"),ps.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ps.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $r(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Dr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kh=["Webkit","ms","Moz","O"];Object.keys(Dr).forEach(function(e){kh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Dr[t]=Dr[e]})});function Su(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Dr.hasOwnProperty(e)&&Dr[e]?(""+t).trim():t+"px"}function Nu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Su(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var bh=Ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cl(e,t){if(t){if(bh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function El(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dl=null;function Sa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Tl=null,Xn=null,Jn=null;function Eo(e){if(e=ls(e)){if(typeof Tl!="function")throw Error(L(280));var t=e.stateNode;t&&(t=ji(t),Tl(e.stateNode,e.type,t))}}function Cu(e){Xn?Jn?Jn.push(e):Jn=[e]:Xn=e}function Eu(){if(Xn){var e=Xn,t=Jn;if(Jn=Xn=null,Eo(e),t)for(e=0;e<t.length;e++)Eo(t[e])}}function Du(e,t){return e(t)}function Tu(){}var $i=!1;function Pu(e,t,n){if($i)return e(t,n);$i=!0;try{return Du(e,t,n)}finally{$i=!1,(Xn!==null||Jn!==null)&&(Tu(),Eu())}}function Or(e,t){var n=e.stateNode;if(n===null)return null;var r=ji(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var Pl=!1;if(It)try{var mr={};Object.defineProperty(mr,"passive",{get:function(){Pl=!0}}),window.addEventListener("test",mr,mr),window.removeEventListener("test",mr,mr)}catch{Pl=!1}function jh(e,t,n,r,i,l,a,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(m){this.onError(m)}}var Tr=!1,Vs=null,qs=!1,Ml=null,Sh={onError:function(e){Tr=!0,Vs=e}};function Nh(e,t,n,r,i,l,a,o,c){Tr=!1,Vs=null,jh.apply(Sh,arguments)}function Ch(e,t,n,r,i,l,a,o,c){if(Nh.apply(this,arguments),Tr){if(Tr){var u=Vs;Tr=!1,Vs=null}else throw Error(L(198));qs||(qs=!0,Ml=u)}}function Mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Do(e){if(Mn(e)!==e)throw Error(L(188))}function Eh(e){var t=e.alternate;if(!t){if(t=Mn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var l=i.alternate;if(l===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===l.child){for(l=i.child;l;){if(l===n)return Do(i),e;if(l===r)return Do(i),t;l=l.sibling}throw Error(L(188))}if(n.return!==r.return)n=i,r=l;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=l;break}if(o===r){a=!0,r=i,n=l;break}o=o.sibling}if(!a){for(o=l.child;o;){if(o===n){a=!0,n=l,r=i;break}if(o===r){a=!0,r=l,n=i;break}o=o.sibling}if(!a)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Lu(e){return e=Eh(e),e!==null?Ru(e):null}function Ru(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ru(e);if(t!==null)return t;e=e.sibling}return null}var Au=at.unstable_scheduleCallback,To=at.unstable_cancelCallback,Dh=at.unstable_shouldYield,Th=at.unstable_requestPaint,Ee=at.unstable_now,Ph=at.unstable_getCurrentPriorityLevel,Na=at.unstable_ImmediatePriority,Iu=at.unstable_UserBlockingPriority,Ys=at.unstable_NormalPriority,Mh=at.unstable_LowPriority,Fu=at.unstable_IdlePriority,wi=null,Et=null;function Lh(e){if(Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(wi,e,void 0,(e.current.flags&128)===128)}catch{}}var kt=Math.clz32?Math.clz32:Ih,Rh=Math.log,Ah=Math.LN2;function Ih(e){return e>>>=0,e===0?32:31-(Rh(e)/Ah|0)|0}var ms=64,gs=4194304;function jr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ks(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,l=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=jr(o):(l&=a,l!==0&&(r=jr(l)))}else a=n&~i,a!==0?r=jr(a):l!==0&&(r=jr(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,l=t&-t,i>=l||i===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kt(t),i=1<<n,r|=e[n],t&=~i;return r}function Fh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zh(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,l=e.pendingLanes;0<l;){var a=31-kt(l),o=1<<a,c=i[a];c===-1?(!(o&n)||o&r)&&(i[a]=Fh(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Ll(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function zu(){var e=ms;return ms<<=1,!(ms&4194240)&&(ms=64),e}function Oi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ss(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kt(t),e[t]=n}function $h(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-kt(n),l=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~l}}function Ca(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var he=0;function $u(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ou,Ea,Uu,Hu,Wu,Rl=!1,ys=[],Zt=null,en=null,tn=null,Ur=new Map,Hr=new Map,qt=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Po(e,t){switch(e){case"focusin":case"focusout":Zt=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":tn=null;break;case"pointerover":case"pointerout":Ur.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hr.delete(t.pointerId)}}function gr(e,t,n,r,i,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[i]},t!==null&&(t=ls(t),t!==null&&Ea(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Uh(e,t,n,r,i){switch(t){case"focusin":return Zt=gr(Zt,e,t,n,r,i),!0;case"dragenter":return en=gr(en,e,t,n,r,i),!0;case"mouseover":return tn=gr(tn,e,t,n,r,i),!0;case"pointerover":var l=i.pointerId;return Ur.set(l,gr(Ur.get(l)||null,e,t,n,r,i)),!0;case"gotpointercapture":return l=i.pointerId,Hr.set(l,gr(Hr.get(l)||null,e,t,n,r,i)),!0}return!1}function Bu(e){var t=wn(e.target);if(t!==null){var n=Mn(t);if(n!==null){if(t=n.tag,t===13){if(t=Mu(n),t!==null){e.blockedOn=t,Wu(e.priority,function(){Uu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Al(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Dl=r,n.target.dispatchEvent(r),Dl=null}else return t=ls(n),t!==null&&Ea(t),e.blockedOn=n,!1;t.shift()}return!0}function Mo(e,t,n){Ls(e)&&n.delete(t)}function Hh(){Rl=!1,Zt!==null&&Ls(Zt)&&(Zt=null),en!==null&&Ls(en)&&(en=null),tn!==null&&Ls(tn)&&(tn=null),Ur.forEach(Mo),Hr.forEach(Mo)}function yr(e,t){e.blockedOn===t&&(e.blockedOn=null,Rl||(Rl=!0,at.unstable_scheduleCallback(at.unstable_NormalPriority,Hh)))}function Wr(e){function t(i){return yr(i,e)}if(0<ys.length){yr(ys[0],e);for(var n=1;n<ys.length;n++){var r=ys[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Zt!==null&&yr(Zt,e),en!==null&&yr(en,e),tn!==null&&yr(tn,e),Ur.forEach(t),Hr.forEach(t),n=0;n<qt.length;n++)r=qt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<qt.length&&(n=qt[0],n.blockedOn===null);)Bu(n),n.blockedOn===null&&qt.shift()}var Zn=Ot.ReactCurrentBatchConfig,Qs=!0;function Wh(e,t,n,r){var i=he,l=Zn.transition;Zn.transition=null;try{he=1,Da(e,t,n,r)}finally{he=i,Zn.transition=l}}function Bh(e,t,n,r){var i=he,l=Zn.transition;Zn.transition=null;try{he=4,Da(e,t,n,r)}finally{he=i,Zn.transition=l}}function Da(e,t,n,r){if(Qs){var i=Al(e,t,n,r);if(i===null)Qi(e,t,r,Xs,n),Po(e,r);else if(Uh(i,e,t,n,r))r.stopPropagation();else if(Po(e,r),t&4&&-1<Oh.indexOf(e)){for(;i!==null;){var l=ls(i);if(l!==null&&Ou(l),l=Al(e,t,n,r),l===null&&Qi(e,t,r,Xs,n),l===i)break;i=l}i!==null&&r.stopPropagation()}else Qi(e,t,r,null,n)}}var Xs=null;function Al(e,t,n,r){if(Xs=null,e=Sa(r),e=wn(e),e!==null)if(t=Mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xs=e,null}function Gu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ph()){case Na:return 1;case Iu:return 4;case Ys:case Mh:return 16;case Fu:return 536870912;default:return 16}default:return 16}}var Qt=null,Ta=null,Rs=null;function Vu(){if(Rs)return Rs;var e,t=Ta,n=t.length,r,i="value"in Qt?Qt.value:Qt.textContent,l=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[l-r];r++);return Rs=i.slice(e,1<r?1-r:void 0)}function As(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Lo(){return!1}function ct(e){function t(n,r,i,l,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=l,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?_s:Lo,this.isPropagationStopped=Lo,this}return Ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),t}var fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pa=ct(fr),is=Ne({},fr,{view:0,detail:0}),Gh=ct(is),Ui,Hi,_r,xi=Ne({},is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ma,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_r&&(_r&&e.type==="mousemove"?(Ui=e.screenX-_r.screenX,Hi=e.screenY-_r.screenY):Hi=Ui=0,_r=e),Ui)},movementY:function(e){return"movementY"in e?e.movementY:Hi}}),Ro=ct(xi),Vh=Ne({},xi,{dataTransfer:0}),qh=ct(Vh),Yh=Ne({},is,{relatedTarget:0}),Wi=ct(Yh),Kh=Ne({},fr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qh=ct(Kh),Xh=Ne({},fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Jh=ct(Xh),Zh=Ne({},fr,{data:0}),Ao=ct(Zh),ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},np={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=np[e])?!!t[e]:!1}function Ma(){return rp}var sp=Ne({},is,{key:function(e){if(e.key){var t=ep[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=As(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?tp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ma,charCode:function(e){return e.type==="keypress"?As(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?As(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ip=ct(sp),lp=Ne({},xi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Io=ct(lp),ap=Ne({},is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ma}),op=ct(ap),cp=Ne({},fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),up=ct(cp),dp=Ne({},xi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fp=ct(dp),hp=[9,13,27,32],La=It&&"CompositionEvent"in window,Pr=null;It&&"documentMode"in document&&(Pr=document.documentMode);var pp=It&&"TextEvent"in window&&!Pr,qu=It&&(!La||Pr&&8<Pr&&11>=Pr),Fo=" ",zo=!1;function Yu(e,t){switch(e){case"keyup":return hp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ku(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $n=!1;function mp(e,t){switch(e){case"compositionend":return Ku(t);case"keypress":return t.which!==32?null:(zo=!0,Fo);case"textInput":return e=t.data,e===Fo&&zo?null:e;default:return null}}function gp(e,t){if($n)return e==="compositionend"||!La&&Yu(e,t)?(e=Vu(),Rs=Ta=Qt=null,$n=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qu&&t.locale!=="ko"?null:t.data;default:return null}}var yp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!yp[e.type]:t==="textarea"}function Qu(e,t,n,r){Cu(r),t=Js(t,"onChange"),0<t.length&&(n=new Pa("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mr=null,Br=null;function _p(e){ad(e,0)}function ki(e){var t=Hn(e);if(wu(t))return e}function vp(e,t){if(e==="change")return t}var Xu=!1;if(It){var Bi;if(It){var Gi="oninput"in document;if(!Gi){var Oo=document.createElement("div");Oo.setAttribute("oninput","return;"),Gi=typeof Oo.oninput=="function"}Bi=Gi}else Bi=!1;Xu=Bi&&(!document.documentMode||9<document.documentMode)}function Uo(){Mr&&(Mr.detachEvent("onpropertychange",Ju),Br=Mr=null)}function Ju(e){if(e.propertyName==="value"&&ki(Br)){var t=[];Qu(t,Br,e,Sa(e)),Pu(_p,t)}}function wp(e,t,n){e==="focusin"?(Uo(),Mr=t,Br=n,Mr.attachEvent("onpropertychange",Ju)):e==="focusout"&&Uo()}function xp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ki(Br)}function kp(e,t){if(e==="click")return ki(t)}function bp(e,t){if(e==="input"||e==="change")return ki(t)}function jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jt=typeof Object.is=="function"?Object.is:jp;function Gr(e,t){if(jt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yl.call(t,i)||!jt(e[i],t[i]))return!1}return!0}function Ho(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wo(e,t){var n=Ho(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ho(n)}}function Zu(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Zu(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function ed(){for(var e=window,t=Gs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Ra(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Sp(e){var t=ed(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Zu(n.ownerDocument.documentElement,n)){if(r!==null&&Ra(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,l=Math.min(r.start,i);r=r.end===void 0?l:Math.min(r.end,i),!e.extend&&l>r&&(i=r,r=l,l=i),i=Wo(n,l);var a=Wo(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Np=It&&"documentMode"in document&&11>=document.documentMode,On=null,Il=null,Lr=null,Fl=!1;function Bo(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fl||On==null||On!==Gs(r)||(r=On,"selectionStart"in r&&Ra(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Lr&&Gr(Lr,r)||(Lr=r,r=Js(Il,"onSelect"),0<r.length&&(t=new Pa("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=On)))}function vs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Un={animationend:vs("Animation","AnimationEnd"),animationiteration:vs("Animation","AnimationIteration"),animationstart:vs("Animation","AnimationStart"),transitionend:vs("Transition","TransitionEnd")},Vi={},td={};It&&(td=document.createElement("div").style,"AnimationEvent"in window||(delete Un.animationend.animation,delete Un.animationiteration.animation,delete Un.animationstart.animation),"TransitionEvent"in window||delete Un.transitionend.transition);function bi(e){if(Vi[e])return Vi[e];if(!Un[e])return e;var t=Un[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in td)return Vi[e]=t[n];return e}var nd=bi("animationend"),rd=bi("animationiteration"),sd=bi("animationstart"),id=bi("transitionend"),ld=new Map,Go="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dn(e,t){ld.set(e,t),Pn(t,[e])}for(var qi=0;qi<Go.length;qi++){var Yi=Go[qi],Cp=Yi.toLowerCase(),Ep=Yi[0].toUpperCase()+Yi.slice(1);dn(Cp,"on"+Ep)}dn(nd,"onAnimationEnd");dn(rd,"onAnimationIteration");dn(sd,"onAnimationStart");dn("dblclick","onDoubleClick");dn("focusin","onFocus");dn("focusout","onBlur");dn(id,"onTransitionEnd");rr("onMouseEnter",["mouseout","mouseover"]);rr("onMouseLeave",["mouseout","mouseover"]);rr("onPointerEnter",["pointerout","pointerover"]);rr("onPointerLeave",["pointerout","pointerover"]);Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Vo(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Ch(r,t,void 0,e),e.currentTarget=null}function ad(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==l&&i.isPropagationStopped())break e;Vo(i,o,u),l=c}else for(a=0;a<r.length;a++){if(o=r[a],c=o.instance,u=o.currentTarget,o=o.listener,c!==l&&i.isPropagationStopped())break e;Vo(i,o,u),l=c}}}if(qs)throw e=Ml,qs=!1,Ml=null,e}function we(e,t){var n=t[Hl];n===void 0&&(n=t[Hl]=new Set);var r=e+"__bubble";n.has(r)||(od(t,e,2,!1),n.add(r))}function Ki(e,t,n){var r=0;t&&(r|=4),od(n,e,r,t)}var ws="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[ws]){e[ws]=!0,mu.forEach(function(n){n!=="selectionchange"&&(Dp.has(n)||Ki(n,!1,e),Ki(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ws]||(t[ws]=!0,Ki("selectionchange",!1,t))}}function od(e,t,n,r){switch(Gu(t)){case 1:var i=Wh;break;case 4:i=Bh;break;default:i=Da}n=i.bind(null,t,n,e),i=void 0,!Pl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Qi(e,t,n,r,i){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=wn(o),a===null)return;if(c=a.tag,c===5||c===6){r=l=a;continue e}o=o.parentNode}}r=r.return}Pu(function(){var u=l,m=Sa(n),h=[];e:{var f=ld.get(e);if(f!==void 0){var w=Pa,_=e;switch(e){case"keypress":if(As(n)===0)break e;case"keydown":case"keyup":w=ip;break;case"focusin":_="focus",w=Wi;break;case"focusout":_="blur",w=Wi;break;case"beforeblur":case"afterblur":w=Wi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=Ro;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=op;break;case nd:case rd:case sd:w=Qh;break;case id:w=up;break;case"scroll":w=Gh;break;case"wheel":w=fp;break;case"copy":case"cut":case"paste":w=Jh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=Io}var v=(t&4)!==0,S=!v&&e==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var d=u,g;d!==null;){g=d;var x=g.stateNode;if(g.tag===5&&x!==null&&(g=x,p!==null&&(x=Or(d,p),x!=null&&v.push(qr(d,x,g)))),S)break;d=d.return}0<v.length&&(f=new w(f,_,null,n,m),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",w=e==="mouseout"||e==="pointerout",f&&n!==Dl&&(_=n.relatedTarget||n.fromElement)&&(wn(_)||_[Ft]))break e;if((w||f)&&(f=m.window===m?m:(f=m.ownerDocument)?f.defaultView||f.parentWindow:window,w?(_=n.relatedTarget||n.toElement,w=u,_=_?wn(_):null,_!==null&&(S=Mn(_),_!==S||_.tag!==5&&_.tag!==6)&&(_=null)):(w=null,_=u),w!==_)){if(v=Ro,x="onMouseLeave",p="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(v=Io,x="onPointerLeave",p="onPointerEnter",d="pointer"),S=w==null?f:Hn(w),g=_==null?f:Hn(_),f=new v(x,d+"leave",w,n,m),f.target=S,f.relatedTarget=g,x=null,wn(m)===u&&(v=new v(p,d+"enter",_,n,m),v.target=g,v.relatedTarget=S,x=v),S=x,w&&_)t:{for(v=w,p=_,d=0,g=v;g;g=Rn(g))d++;for(g=0,x=p;x;x=Rn(x))g++;for(;0<d-g;)v=Rn(v),d--;for(;0<g-d;)p=Rn(p),g--;for(;d--;){if(v===p||p!==null&&v===p.alternate)break t;v=Rn(v),p=Rn(p)}v=null}else v=null;w!==null&&qo(h,f,w,v,!1),_!==null&&S!==null&&qo(h,S,_,v,!0)}}e:{if(f=u?Hn(u):window,w=f.nodeName&&f.nodeName.toLowerCase(),w==="select"||w==="input"&&f.type==="file")var C=vp;else if($o(f))if(Xu)C=bp;else{C=xp;var E=wp}else(w=f.nodeName)&&w.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=kp);if(C&&(C=C(e,u))){Qu(h,C,n,m);break e}E&&E(e,f,u),e==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&jl(f,"number",f.value)}switch(E=u?Hn(u):window,e){case"focusin":($o(E)||E.contentEditable==="true")&&(On=E,Il=u,Lr=null);break;case"focusout":Lr=Il=On=null;break;case"mousedown":Fl=!0;break;case"contextmenu":case"mouseup":case"dragend":Fl=!1,Bo(h,n,m);break;case"selectionchange":if(Np)break;case"keydown":case"keyup":Bo(h,n,m)}var M;if(La)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else $n?Yu(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(qu&&n.locale!=="ko"&&($n||D!=="onCompositionStart"?D==="onCompositionEnd"&&$n&&(M=Vu()):(Qt=m,Ta="value"in Qt?Qt.value:Qt.textContent,$n=!0)),E=Js(u,D),0<E.length&&(D=new Ao(D,e,null,n,m),h.push({event:D,listeners:E}),M?D.data=M:(M=Ku(n),M!==null&&(D.data=M)))),(M=pp?mp(e,n):gp(e,n))&&(u=Js(u,"onBeforeInput"),0<u.length&&(m=new Ao("onBeforeInput","beforeinput",null,n,m),h.push({event:m,listeners:u}),m.data=M))}ad(h,t)})}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Js(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,l=i.stateNode;i.tag===5&&l!==null&&(i=l,l=Or(e,n),l!=null&&r.unshift(qr(e,l,i)),l=Or(e,t),l!=null&&r.push(qr(e,l,i))),e=e.return}return r}function Rn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qo(e,t,n,r,i){for(var l=t._reactName,a=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=Or(n,l),c!=null&&a.unshift(qr(n,c,o))):i||(c=Or(n,l),c!=null&&a.push(qr(n,c,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Tp=/\r\n?/g,Pp=/\u0000|\uFFFD/g;function Yo(e){return(typeof e=="string"?e:""+e).replace(Tp,`
`).replace(Pp,"")}function xs(e,t,n){if(t=Yo(t),Yo(e)!==t&&n)throw Error(L(425))}function Zs(){}var zl=null,$l=null;function Ol(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ul=typeof setTimeout=="function"?setTimeout:void 0,Mp=typeof clearTimeout=="function"?clearTimeout:void 0,Ko=typeof Promise=="function"?Promise:void 0,Lp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ko<"u"?function(e){return Ko.resolve(null).then(e).catch(Rp)}:Ul;function Rp(e){setTimeout(function(){throw e})}function Xi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wr(t)}function nn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qo(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),Ct="__reactFiber$"+hr,Yr="__reactProps$"+hr,Ft="__reactContainer$"+hr,Hl="__reactEvents$"+hr,Ap="__reactListeners$"+hr,Ip="__reactHandles$"+hr;function wn(e){var t=e[Ct];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ft]||n[Ct]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qo(e);e!==null;){if(n=e[Ct])return n;e=Qo(e)}return t}e=n,n=e.parentNode}return null}function ls(e){return e=e[Ct]||e[Ft],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function ji(e){return e[Yr]||null}var Wl=[],Wn=-1;function fn(e){return{current:e}}function ke(e){0>Wn||(e.current=Wl[Wn],Wl[Wn]=null,Wn--)}function _e(e,t){Wn++,Wl[Wn]=e.current,e.current=t}var cn={},qe=fn(cn),et=fn(!1),Nn=cn;function sr(e,t){var n=e.type.contextTypes;if(!n)return cn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},l;for(l in n)i[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function tt(e){return e=e.childContextTypes,e!=null}function ei(){ke(et),ke(qe)}function Xo(e,t,n){if(qe.current!==cn)throw Error(L(168));_e(qe,t),_e(et,n)}function cd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(L(108,wh(e)||"Unknown",i));return Ne({},n,r)}function ti(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||cn,Nn=qe.current,_e(qe,e),_e(et,et.current),!0}function Jo(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=cd(e,t,Nn),r.__reactInternalMemoizedMergedChildContext=e,ke(et),ke(qe),_e(qe,e)):ke(et),_e(et,n)}var Mt=null,Si=!1,Ji=!1;function ud(e){Mt===null?Mt=[e]:Mt.push(e)}function Fp(e){Si=!0,ud(e)}function hn(){if(!Ji&&Mt!==null){Ji=!0;var e=0,t=he;try{var n=Mt;for(he=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Mt=null,Si=!1}catch(i){throw Mt!==null&&(Mt=Mt.slice(e+1)),Au(Na,hn),i}finally{he=t,Ji=!1}}return null}var Bn=[],Gn=0,ni=null,ri=0,dt=[],ft=0,Cn=null,Lt=1,Rt="";function yn(e,t){Bn[Gn++]=ri,Bn[Gn++]=ni,ni=e,ri=t}function dd(e,t,n){dt[ft++]=Lt,dt[ft++]=Rt,dt[ft++]=Cn,Cn=e;var r=Lt;e=Rt;var i=32-kt(r)-1;r&=~(1<<i),n+=1;var l=32-kt(t)+i;if(30<l){var a=i-i%5;l=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Lt=1<<32-kt(t)+i|n<<i|r,Rt=l+e}else Lt=1<<l|n<<i|r,Rt=e}function Aa(e){e.return!==null&&(yn(e,1),dd(e,1,0))}function Ia(e){for(;e===ni;)ni=Bn[--Gn],Bn[Gn]=null,ri=Bn[--Gn],Bn[Gn]=null;for(;e===Cn;)Cn=dt[--ft],dt[ft]=null,Rt=dt[--ft],dt[ft]=null,Lt=dt[--ft],dt[ft]=null}var lt=null,it=null,be=!1,xt=null;function fd(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Zo(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,it=nn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cn!==null?{id:Lt,overflow:Rt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,it=null,!0):!1;default:return!1}}function Bl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gl(e){if(be){var t=it;if(t){var n=t;if(!Zo(e,t)){if(Bl(e))throw Error(L(418));t=nn(n.nextSibling);var r=lt;t&&Zo(e,t)?fd(r,n):(e.flags=e.flags&-4097|2,be=!1,lt=e)}}else{if(Bl(e))throw Error(L(418));e.flags=e.flags&-4097|2,be=!1,lt=e}}}function ec(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function ks(e){if(e!==lt)return!1;if(!be)return ec(e),be=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ol(e.type,e.memoizedProps)),t&&(t=it)){if(Bl(e))throw hd(),Error(L(418));for(;t;)fd(e,t),t=nn(t.nextSibling)}if(ec(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=nn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=lt?nn(e.stateNode.nextSibling):null;return!0}function hd(){for(var e=it;e;)e=nn(e.nextSibling)}function ir(){it=lt=null,be=!1}function Fa(e){xt===null?xt=[e]:xt.push(e)}var zp=Ot.ReactCurrentBatchConfig;function vr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var i=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(a){var o=i.refs;a===null?delete o[l]:o[l]=a},t._stringRef=l,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function bs(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tc(e){var t=e._init;return t(e._payload)}function pd(e){function t(p,d){if(e){var g=p.deletions;g===null?(p.deletions=[d],p.flags|=16):g.push(d)}}function n(p,d){if(!e)return null;for(;d!==null;)t(p,d),d=d.sibling;return null}function r(p,d){for(p=new Map;d!==null;)d.key!==null?p.set(d.key,d):p.set(d.index,d),d=d.sibling;return p}function i(p,d){return p=an(p,d),p.index=0,p.sibling=null,p}function l(p,d,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<d?(p.flags|=2,d):g):(p.flags|=2,d)):(p.flags|=1048576,d)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function o(p,d,g,x){return d===null||d.tag!==6?(d=il(g,p.mode,x),d.return=p,d):(d=i(d,g),d.return=p,d)}function c(p,d,g,x){var C=g.type;return C===zn?m(p,d,g.props.children,x,g.key):d!==null&&(d.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gt&&tc(C)===d.type)?(x=i(d,g.props),x.ref=vr(p,d,g),x.return=p,x):(x=Hs(g.type,g.key,g.props,null,p.mode,x),x.ref=vr(p,d,g),x.return=p,x)}function u(p,d,g,x){return d===null||d.tag!==4||d.stateNode.containerInfo!==g.containerInfo||d.stateNode.implementation!==g.implementation?(d=ll(g,p.mode,x),d.return=p,d):(d=i(d,g.children||[]),d.return=p,d)}function m(p,d,g,x,C){return d===null||d.tag!==7?(d=Sn(g,p.mode,x,C),d.return=p,d):(d=i(d,g),d.return=p,d)}function h(p,d,g){if(typeof d=="string"&&d!==""||typeof d=="number")return d=il(""+d,p.mode,g),d.return=p,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case fs:return g=Hs(d.type,d.key,d.props,null,p.mode,g),g.ref=vr(p,null,d),g.return=p,g;case Fn:return d=ll(d,p.mode,g),d.return=p,d;case Gt:var x=d._init;return h(p,x(d._payload),g)}if(br(d)||pr(d))return d=Sn(d,p.mode,g,null),d.return=p,d;bs(p,d)}return null}function f(p,d,g,x){var C=d!==null?d.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return C!==null?null:o(p,d,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case fs:return g.key===C?c(p,d,g,x):null;case Fn:return g.key===C?u(p,d,g,x):null;case Gt:return C=g._init,f(p,d,C(g._payload),x)}if(br(g)||pr(g))return C!==null?null:m(p,d,g,x,null);bs(p,g)}return null}function w(p,d,g,x,C){if(typeof x=="string"&&x!==""||typeof x=="number")return p=p.get(g)||null,o(d,p,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case fs:return p=p.get(x.key===null?g:x.key)||null,c(d,p,x,C);case Fn:return p=p.get(x.key===null?g:x.key)||null,u(d,p,x,C);case Gt:var E=x._init;return w(p,d,g,E(x._payload),C)}if(br(x)||pr(x))return p=p.get(g)||null,m(d,p,x,C,null);bs(d,x)}return null}function _(p,d,g,x){for(var C=null,E=null,M=d,D=d=0,ee=null;M!==null&&D<g.length;D++){M.index>D?(ee=M,M=null):ee=M.sibling;var O=f(p,M,g[D],x);if(O===null){M===null&&(M=ee);break}e&&M&&O.alternate===null&&t(p,M),d=l(O,d,D),E===null?C=O:E.sibling=O,E=O,M=ee}if(D===g.length)return n(p,M),be&&yn(p,D),C;if(M===null){for(;D<g.length;D++)M=h(p,g[D],x),M!==null&&(d=l(M,d,D),E===null?C=M:E.sibling=M,E=M);return be&&yn(p,D),C}for(M=r(p,M);D<g.length;D++)ee=w(M,p,D,g[D],x),ee!==null&&(e&&ee.alternate!==null&&M.delete(ee.key===null?D:ee.key),d=l(ee,d,D),E===null?C=ee:E.sibling=ee,E=ee);return e&&M.forEach(function(N){return t(p,N)}),be&&yn(p,D),C}function v(p,d,g,x){var C=pr(g);if(typeof C!="function")throw Error(L(150));if(g=C.call(g),g==null)throw Error(L(151));for(var E=C=null,M=d,D=d=0,ee=null,O=g.next();M!==null&&!O.done;D++,O=g.next()){M.index>D?(ee=M,M=null):ee=M.sibling;var N=f(p,M,O.value,x);if(N===null){M===null&&(M=ee);break}e&&M&&N.alternate===null&&t(p,M),d=l(N,d,D),E===null?C=N:E.sibling=N,E=N,M=ee}if(O.done)return n(p,M),be&&yn(p,D),C;if(M===null){for(;!O.done;D++,O=g.next())O=h(p,O.value,x),O!==null&&(d=l(O,d,D),E===null?C=O:E.sibling=O,E=O);return be&&yn(p,D),C}for(M=r(p,M);!O.done;D++,O=g.next())O=w(M,p,D,O.value,x),O!==null&&(e&&O.alternate!==null&&M.delete(O.key===null?D:O.key),d=l(O,d,D),E===null?C=O:E.sibling=O,E=O);return e&&M.forEach(function(W){return t(p,W)}),be&&yn(p,D),C}function S(p,d,g,x){if(typeof g=="object"&&g!==null&&g.type===zn&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case fs:e:{for(var C=g.key,E=d;E!==null;){if(E.key===C){if(C=g.type,C===zn){if(E.tag===7){n(p,E.sibling),d=i(E,g.props.children),d.return=p,p=d;break e}}else if(E.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Gt&&tc(C)===E.type){n(p,E.sibling),d=i(E,g.props),d.ref=vr(p,E,g),d.return=p,p=d;break e}n(p,E);break}else t(p,E);E=E.sibling}g.type===zn?(d=Sn(g.props.children,p.mode,x,g.key),d.return=p,p=d):(x=Hs(g.type,g.key,g.props,null,p.mode,x),x.ref=vr(p,d,g),x.return=p,p=x)}return a(p);case Fn:e:{for(E=g.key;d!==null;){if(d.key===E)if(d.tag===4&&d.stateNode.containerInfo===g.containerInfo&&d.stateNode.implementation===g.implementation){n(p,d.sibling),d=i(d,g.children||[]),d.return=p,p=d;break e}else{n(p,d);break}else t(p,d);d=d.sibling}d=ll(g,p.mode,x),d.return=p,p=d}return a(p);case Gt:return E=g._init,S(p,d,E(g._payload),x)}if(br(g))return _(p,d,g,x);if(pr(g))return v(p,d,g,x);bs(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,d!==null&&d.tag===6?(n(p,d.sibling),d=i(d,g),d.return=p,p=d):(n(p,d),d=il(g,p.mode,x),d.return=p,p=d),a(p)):n(p,d)}return S}var lr=pd(!0),md=pd(!1),si=fn(null),ii=null,Vn=null,za=null;function $a(){za=Vn=ii=null}function Oa(e){var t=si.current;ke(si),e._currentValue=t}function Vl(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function er(e,t){ii=e,za=Vn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function mt(e){var t=e._currentValue;if(za!==e)if(e={context:e,memoizedValue:t,next:null},Vn===null){if(ii===null)throw Error(L(308));Vn=e,ii.dependencies={lanes:0,firstContext:e}}else Vn=Vn.next=e;return t}var xn=null;function Ua(e){xn===null?xn=[e]:xn.push(e)}function gd(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Ua(t)):(n.next=i.next,i.next=n),t.interleaved=n,zt(e,r)}function zt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vt=!1;function Ha(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function At(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function rn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,ue&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zt(e,n)}return i=r.interleaved,i===null?(t.next=t,Ua(r)):(t.next=i.next,i.next=t),r.interleaved=t,zt(e,n)}function Is(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}function nc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?i=l=a:l=l.next=a,n=n.next}while(n!==null);l===null?i=l=t:l=l.next=t}else i=l=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function li(e,t,n,r){var i=e.updateQueue;Vt=!1;var l=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,a===null?l=u:a.next=u,a=c;var m=e.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==a&&(o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=c))}if(l!==null){var h=i.baseState;a=0,m=u=c=null,o=l;do{var f=o.lane,w=o.eventTime;if((r&f)===f){m!==null&&(m=m.next={eventTime:w,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var _=e,v=o;switch(f=t,w=n,v.tag){case 1:if(_=v.payload,typeof _=="function"){h=_.call(w,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=v.payload,f=typeof _=="function"?_.call(w,h,f):_,f==null)break e;h=Ne({},h,f);break e;case 2:Vt=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else w={eventTime:w,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(u=m=w,c=h):m=m.next=w,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(m===null&&(c=h),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else l===null&&(i.shared.lanes=0);Dn|=a,e.lanes=a,e.memoizedState=h}}function rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(L(191,i));i.call(r)}}}var as={},Dt=fn(as),Kr=fn(as),Qr=fn(as);function kn(e){if(e===as)throw Error(L(174));return e}function Wa(e,t){switch(_e(Qr,t),_e(Kr,e),_e(Dt,as),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nl(t,e)}ke(Dt),_e(Dt,t)}function ar(){ke(Dt),ke(Kr),ke(Qr)}function _d(e){kn(Qr.current);var t=kn(Dt.current),n=Nl(t,e.type);t!==n&&(_e(Kr,e),_e(Dt,n))}function Ba(e){Kr.current===e&&(ke(Dt),ke(Kr))}var je=fn(0);function ai(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zi=[];function Ga(){for(var e=0;e<Zi.length;e++)Zi[e]._workInProgressVersionPrimary=null;Zi.length=0}var Fs=Ot.ReactCurrentDispatcher,el=Ot.ReactCurrentBatchConfig,En=0,Se=null,Re=null,Ie=null,oi=!1,Rr=!1,Xr=0,$p=0;function Be(){throw Error(L(321))}function Va(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jt(e[n],t[n]))return!1;return!0}function qa(e,t,n,r,i,l){if(En=l,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fs.current=e===null||e.memoizedState===null?Wp:Bp,e=n(r,i),Rr){l=0;do{if(Rr=!1,Xr=0,25<=l)throw Error(L(301));l+=1,Ie=Re=null,t.updateQueue=null,Fs.current=Gp,e=n(r,i)}while(Rr)}if(Fs.current=ci,t=Re!==null&&Re.next!==null,En=0,Ie=Re=Se=null,oi=!1,t)throw Error(L(300));return e}function Ya(){var e=Xr!==0;return Xr=0,e}function Nt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Se.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function gt(){if(Re===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Re.next;var t=Ie===null?Se.memoizedState:Ie.next;if(t!==null)Ie=t,Re=e;else{if(e===null)throw Error(L(310));Re=e,e={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ie===null?Se.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Jr(e,t){return typeof t=="function"?t(e):t}function tl(e){var t=gt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=Re,i=r.baseQueue,l=n.pending;if(l!==null){if(i!==null){var a=i.next;i.next=l.next,l.next=a}r.baseQueue=i=l,n.pending=null}if(i!==null){l=i.next,r=r.baseState;var o=a=null,c=null,u=l;do{var m=u.lane;if((En&m)===m)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:m,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=h,a=r):c=c.next=h,Se.lanes|=m,Dn|=m}u=u.next}while(u!==null&&u!==l);c===null?a=r:c.next=o,jt(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do l=i.lane,Se.lanes|=l,Dn|=l,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function nl(e){var t=gt(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,l=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do l=e(l,a.action),a=a.next;while(a!==i);jt(l,t.memoizedState)||(Ze=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function vd(){}function wd(e,t){var n=Se,r=gt(),i=t(),l=!jt(r.memoizedState,i);if(l&&(r.memoizedState=i,Ze=!0),r=r.queue,Ka(bd.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,Zr(9,kd.bind(null,n,r,i,t),void 0,null),Fe===null)throw Error(L(349));En&30||xd(n,t,i)}return i}function xd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kd(e,t,n,r){t.value=n,t.getSnapshot=r,jd(t)&&Sd(e)}function bd(e,t,n){return n(function(){jd(t)&&Sd(e)})}function jd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jt(e,n)}catch{return!0}}function Sd(e){var t=zt(e,1);t!==null&&bt(t,e,1,-1)}function sc(e){var t=Nt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jr,lastRenderedState:e},t.queue=e,e=e.dispatch=Hp.bind(null,Se,e),[t.memoizedState,e]}function Zr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Se.updateQueue,t===null?(t={lastEffect:null,stores:null},Se.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Nd(){return gt().memoizedState}function zs(e,t,n,r){var i=Nt();Se.flags|=e,i.memoizedState=Zr(1|t,n,void 0,r===void 0?null:r)}function Ni(e,t,n,r){var i=gt();r=r===void 0?null:r;var l=void 0;if(Re!==null){var a=Re.memoizedState;if(l=a.destroy,r!==null&&Va(r,a.deps)){i.memoizedState=Zr(t,n,l,r);return}}Se.flags|=e,i.memoizedState=Zr(1|t,n,l,r)}function ic(e,t){return zs(8390656,8,e,t)}function Ka(e,t){return Ni(2048,8,e,t)}function Cd(e,t){return Ni(4,2,e,t)}function Ed(e,t){return Ni(4,4,e,t)}function Dd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Td(e,t,n){return n=n!=null?n.concat([e]):null,Ni(4,4,Dd.bind(null,t,e),n)}function Qa(){}function Pd(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Va(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=gt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Va(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ld(e,t,n){return En&21?(jt(n,t)||(n=zu(),Se.lanes|=n,Dn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function Op(e,t){var n=he;he=n!==0&&4>n?n:4,e(!0);var r=el.transition;el.transition={};try{e(!1),t()}finally{he=n,el.transition=r}}function Rd(){return gt().memoizedState}function Up(e,t,n){var r=ln(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(e))Id(t,n);else if(n=gd(e,t,n,r),n!==null){var i=Ke();bt(n,e,r,i),Fd(n,t,r)}}function Hp(e,t,n){var r=ln(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(e))Id(t,i);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var a=t.lastRenderedState,o=l(a,n);if(i.hasEagerState=!0,i.eagerState=o,jt(o,a)){var c=t.interleaved;c===null?(i.next=i,Ua(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=gd(e,t,i,r),n!==null&&(i=Ke(),bt(n,e,r,i),Fd(n,t,r))}}function Ad(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function Id(e,t){Rr=oi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Fd(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Ca(e,n)}}var ci={readContext:mt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},Wp={readContext:mt,useCallback:function(e,t){return Nt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:ic,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,zs(4194308,4,Dd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return zs(4,2,e,t)},useMemo:function(e,t){var n=Nt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Nt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Up.bind(null,Se,e),[r.memoizedState,e]},useRef:function(e){var t=Nt();return e={current:e},t.memoizedState=e},useState:sc,useDebugValue:Qa,useDeferredValue:function(e){return Nt().memoizedState=e},useTransition:function(){var e=sc(!1),t=e[0];return e=Op.bind(null,e[1]),Nt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Se,i=Nt();if(be){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Fe===null)throw Error(L(349));En&30||xd(r,t,n)}i.memoizedState=n;var l={value:n,getSnapshot:t};return i.queue=l,ic(bd.bind(null,r,l,e),[e]),r.flags|=2048,Zr(9,kd.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Nt(),t=Fe.identifierPrefix;if(be){var n=Rt,r=Lt;n=(r&~(1<<32-kt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Xr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$p++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Bp={readContext:mt,useCallback:Pd,useContext:mt,useEffect:Ka,useImperativeHandle:Td,useInsertionEffect:Cd,useLayoutEffect:Ed,useMemo:Md,useReducer:tl,useRef:Nd,useState:function(){return tl(Jr)},useDebugValue:Qa,useDeferredValue:function(e){var t=gt();return Ld(t,Re.memoizedState,e)},useTransition:function(){var e=tl(Jr)[0],t=gt().memoizedState;return[e,t]},useMutableSource:vd,useSyncExternalStore:wd,useId:Rd,unstable_isNewReconciler:!1},Gp={readContext:mt,useCallback:Pd,useContext:mt,useEffect:Ka,useImperativeHandle:Td,useInsertionEffect:Cd,useLayoutEffect:Ed,useMemo:Md,useReducer:nl,useRef:Nd,useState:function(){return nl(Jr)},useDebugValue:Qa,useDeferredValue:function(e){var t=gt();return Re===null?t.memoizedState=e:Ld(t,Re.memoizedState,e)},useTransition:function(){var e=nl(Jr)[0],t=gt().memoizedState;return[e,t]},useMutableSource:vd,useSyncExternalStore:wd,useId:Rd,unstable_isNewReconciler:!1};function vt(e,t){if(e&&e.defaultProps){t=Ne({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ql(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ne({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Ci={isMounted:function(e){return(e=e._reactInternals)?Mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ke(),i=ln(e),l=At(r,i);l.payload=t,n!=null&&(l.callback=n),t=rn(e,l,i),t!==null&&(bt(t,e,i,r),Is(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ke(),i=ln(e),l=At(r,i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=rn(e,l,i),t!==null&&(bt(t,e,i,r),Is(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ke(),r=ln(e),i=At(n,r);i.tag=2,t!=null&&(i.callback=t),t=rn(e,i,r),t!==null&&(bt(t,e,r,n),Is(t,e,r))}};function lc(e,t,n,r,i,l,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,a):t.prototype&&t.prototype.isPureReactComponent?!Gr(n,r)||!Gr(i,l):!0}function zd(e,t,n){var r=!1,i=cn,l=t.contextType;return typeof l=="object"&&l!==null?l=mt(l):(i=tt(t)?Nn:qe.current,r=t.contextTypes,l=(r=r!=null)?sr(e,i):cn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ci,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=l),t}function ac(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ci.enqueueReplaceState(t,t.state,null)}function Yl(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ha(e);var l=t.contextType;typeof l=="object"&&l!==null?i.context=mt(l):(l=tt(t)?Nn:qe.current,i.context=sr(e,l)),i.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ql(e,t,l,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ci.enqueueReplaceState(i,i.state,null),li(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function or(e,t){try{var n="",r=t;do n+=vh(r),r=r.return;while(r);var i=n}catch(l){i=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:i,digest:null}}function rl(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Kl(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Vp=typeof WeakMap=="function"?WeakMap:Map;function $d(e,t,n){n=At(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){di||(di=!0,ia=r),Kl(e,t)},n}function Od(e,t,n){n=At(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Kl(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Kl(e,t),typeof r!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function oc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Vp;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=lm.bind(null,e,t,n),t.then(e,e))}function cc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function uc(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=At(-1,1),t.tag=2,rn(n,t,1))),n.lanes|=1),e)}var qp=Ot.ReactCurrentOwner,Ze=!1;function Ye(e,t,n,r){t.child=e===null?md(t,null,n,r):lr(t,e.child,n,r)}function dc(e,t,n,r,i){n=n.render;var l=t.ref;return er(t,i),r=qa(e,t,n,r,l,i),n=Ya(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$t(e,t,i)):(be&&n&&Aa(t),t.flags|=1,Ye(e,t,r,i),t.child)}function fc(e,t,n,r,i){if(e===null){var l=n.type;return typeof l=="function"&&!so(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Ud(e,t,l,r,i)):(e=Hs(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&i)){var a=l.memoizedProps;if(n=n.compare,n=n!==null?n:Gr,n(a,r)&&e.ref===t.ref)return $t(e,t,i)}return t.flags|=1,e=an(l,r),e.ref=t.ref,e.return=t,t.child=e}function Ud(e,t,n,r,i){if(e!==null){var l=e.memoizedProps;if(Gr(l,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=l,(e.lanes&i)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,$t(e,t,i)}return Ql(e,t,n,r,i)}function Hd(e,t,n){var r=t.pendingProps,i=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Yn,st),st|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Yn,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,_e(Yn,st),st|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,_e(Yn,st),st|=r;return Ye(e,t,i,n),t.child}function Wd(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ql(e,t,n,r,i){var l=tt(n)?Nn:qe.current;return l=sr(t,l),er(t,i),n=qa(e,t,n,r,l,i),r=Ya(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,$t(e,t,i)):(be&&r&&Aa(t),t.flags|=1,Ye(e,t,n,i),t.child)}function hc(e,t,n,r,i){if(tt(n)){var l=!0;ti(t)}else l=!1;if(er(t,i),t.stateNode===null)$s(e,t),zd(t,n,r),Yl(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var c=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=mt(u):(u=tt(n)?Nn:qe.current,u=sr(t,u));var m=n.getDerivedStateFromProps,h=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||c!==u)&&ac(t,a,r,u),Vt=!1;var f=t.memoizedState;a.state=f,li(t,r,a,i),c=t.memoizedState,o!==r||f!==c||et.current||Vt?(typeof m=="function"&&(ql(t,n,m,r),c=t.memoizedState),(o=Vt||lc(t,n,o,r,f,c,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:vt(t.type,o),a.props=u,h=t.pendingProps,f=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=mt(c):(c=tt(n)?Nn:qe.current,c=sr(t,c));var w=n.getDerivedStateFromProps;(m=typeof w=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==c)&&ac(t,a,r,c),Vt=!1,f=t.memoizedState,a.state=f,li(t,r,a,i);var _=t.memoizedState;o!==h||f!==_||et.current||Vt?(typeof w=="function"&&(ql(t,n,w,r),_=t.memoizedState),(u=Vt||lc(t,n,u,r,f,_,c)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,_,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,_,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=_),a.props=r,a.state=_,a.context=c,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Xl(e,t,n,r,l,i)}function Xl(e,t,n,r,i,l){Wd(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&Jo(t,n,!1),$t(e,t,l);r=t.stateNode,qp.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=lr(t,e.child,null,l),t.child=lr(t,null,o,l)):Ye(e,t,o,l),t.memoizedState=r.state,i&&Jo(t,n,!0),t.child}function Bd(e){var t=e.stateNode;t.pendingContext?Xo(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xo(e,t.context,!1),Wa(e,t.containerInfo)}function pc(e,t,n,r,i){return ir(),Fa(i),t.flags|=256,Ye(e,t,n,r),t.child}var Jl={dehydrated:null,treeContext:null,retryLane:0};function Zl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Gd(e,t,n){var r=t.pendingProps,i=je.current,l=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_e(je,i&1),e===null)return Gl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,l?(r=t.mode,l=t.child,a={mode:"hidden",children:a},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=a):l=Ti(a,r,0,null),e=Sn(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Zl(n),t.memoizedState=Jl,e):Xa(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Yp(e,t,a,r,o,i,n);if(l){l=r.fallback,a=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=an(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?l=an(o,l):(l=Sn(l,a,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,a=e.child.memoizedState,a=a===null?Zl(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},l.memoizedState=a,l.childLanes=e.childLanes&~n,t.memoizedState=Jl,r}return l=e.child,e=l.sibling,r=an(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xa(e,t){return t=Ti({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function js(e,t,n,r){return r!==null&&Fa(r),lr(t,e.child,null,n),e=Xa(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yp(e,t,n,r,i,l,a){if(n)return t.flags&256?(t.flags&=-257,r=rl(Error(L(422))),js(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,i=t.mode,r=Ti({mode:"visible",children:r.children},i,0,null),l=Sn(l,i,a,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&lr(t,e.child,null,a),t.child.memoizedState=Zl(a),t.memoizedState=Jl,l);if(!(t.mode&1))return js(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,l=Error(L(419)),r=rl(l,r,void 0),js(e,t,a,r)}if(o=(a&e.childLanes)!==0,Ze||o){if(r=Fe,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==l.retryLane&&(l.retryLane=i,zt(e,i),bt(r,e,i,-1))}return ro(),r=rl(Error(L(421))),js(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=am.bind(null,e),i._reactRetry=t,null):(e=l.treeContext,it=nn(i.nextSibling),lt=t,be=!0,xt=null,e!==null&&(dt[ft++]=Lt,dt[ft++]=Rt,dt[ft++]=Cn,Lt=e.id,Rt=e.overflow,Cn=t),t=Xa(t,r.children),t.flags|=4096,t)}function mc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vl(e.return,t,n)}function sl(e,t,n,r,i){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=i)}function Vd(e,t,n){var r=t.pendingProps,i=r.revealOrder,l=r.tail;if(Ye(e,t,r.children,n),r=je.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mc(e,n,t);else if(e.tag===19)mc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(je,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&ai(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),sl(t,!1,i,n,l);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ai(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}sl(t,!0,n,null,l);break;case"together":sl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=an(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=an(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kp(e,t,n){switch(t.tag){case 3:Bd(t),ir();break;case 5:_d(t);break;case 1:tt(t.type)&&ti(t);break;case 4:Wa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_e(si,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(je,je.current&1),t.flags|=128,null):n&t.child.childLanes?Gd(e,t,n):(_e(je,je.current&1),e=$t(e,t,n),e!==null?e.sibling:null);_e(je,je.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Vd(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(je,je.current),r)break;return null;case 22:case 23:return t.lanes=0,Hd(e,t,n)}return $t(e,t,n)}var qd,ea,Yd,Kd;qd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ea=function(){};Yd=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,kn(Dt.current);var l=null;switch(n){case"input":i=kl(e,i),r=kl(e,r),l=[];break;case"select":i=Ne({},i,{value:void 0}),r=Ne({},r,{value:void 0}),l=[];break;case"textarea":i=Sl(e,i),r=Sl(e,r),l=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zs)}Cl(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(zr.hasOwnProperty(u)?l||(l=[]):(l=l||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(l||(l=[]),l.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(zr.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&we("scroll",e),l||o===c||(l=[])):(l=l||[]).push(u,c))}n&&(l=l||[]).push("style",n);var u=l;(t.updateQueue=u)&&(t.flags|=4)}};Kd=function(e,t,n,r){n!==r&&(t.flags|=4)};function wr(e,t){if(!be)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qp(e,t,n){var r=t.pendingProps;switch(Ia(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return tt(t.type)&&ei(),Ge(t),null;case 3:return r=t.stateNode,ar(),ke(et),ke(qe),Ga(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ks(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(oa(xt),xt=null))),ea(e,t),Ge(t),null;case 5:Ba(t);var i=kn(Qr.current);if(n=t.type,e!==null&&t.stateNode!=null)Yd(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return Ge(t),null}if(e=kn(Dt.current),ks(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Ct]=t,r[Yr]=l,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(i=0;i<Sr.length;i++)we(Sr[i],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":jo(r,l),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},we("invalid",r);break;case"textarea":No(r,l),we("invalid",r)}Cl(n,l),i=null;for(var a in l)if(l.hasOwnProperty(a)){var o=l[a];a==="children"?typeof o=="string"?r.textContent!==o&&(l.suppressHydrationWarning!==!0&&xs(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&xs(r.textContent,o,e),i=["children",""+o]):zr.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&we("scroll",r)}switch(n){case"input":hs(r),So(r,l,!0);break;case"textarea":hs(r),Co(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=Zs)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=bu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[Ct]=t,e[Yr]=r,qd(e,t,!1,!1),t.stateNode=e;e:{switch(a=El(n,r),n){case"dialog":we("cancel",e),we("close",e),i=r;break;case"iframe":case"object":case"embed":we("load",e),i=r;break;case"video":case"audio":for(i=0;i<Sr.length;i++)we(Sr[i],e);i=r;break;case"source":we("error",e),i=r;break;case"img":case"image":case"link":we("error",e),we("load",e),i=r;break;case"details":we("toggle",e),i=r;break;case"input":jo(e,r),i=kl(e,r),we("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ne({},r,{value:void 0}),we("invalid",e);break;case"textarea":No(e,r),i=Sl(e,r),we("invalid",e);break;default:i=r}Cl(n,i),o=i;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Nu(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ju(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&$r(e,c):typeof c=="number"&&$r(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(zr.hasOwnProperty(l)?c!=null&&l==="onScroll"&&we("scroll",e):c!=null&&xa(e,l,c,a))}switch(n){case"input":hs(e),So(e,r,!1);break;case"textarea":hs(e),Co(e);break;case"option":r.value!=null&&e.setAttribute("value",""+on(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Qn(e,!!r.multiple,l,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Zs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)Kd(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=kn(Qr.current),kn(Dt.current),ks(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ct]=t,(l=r.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:xs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xs(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ct]=t,t.stateNode=r}return Ge(t),null;case 13:if(ke(je),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(be&&it!==null&&t.mode&1&&!(t.flags&128))hd(),ir(),t.flags|=98560,l=!1;else if(l=ks(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(L(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(L(317));l[Ct]=t}else ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),l=!1}else xt!==null&&(oa(xt),xt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||je.current&1?Ae===0&&(Ae=3):ro())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return ar(),ea(e,t),e===null&&Vr(t.stateNode.containerInfo),Ge(t),null;case 10:return Oa(t.type._context),Ge(t),null;case 17:return tt(t.type)&&ei(),Ge(t),null;case 19:if(ke(je),l=t.memoizedState,l===null)return Ge(t),null;if(r=(t.flags&128)!==0,a=l.rendering,a===null)if(r)wr(l,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ai(e),a!==null){for(t.flags|=128,wr(l,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,a=l.alternate,a===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,l.type=a.type,e=a.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(je,je.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ee()>cr&&(t.flags|=128,r=!0,wr(l,!1),t.lanes=4194304)}else{if(!r)if(e=ai(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),wr(l,!0),l.tail===null&&l.tailMode==="hidden"&&!a.alternate&&!be)return Ge(t),null}else 2*Ee()-l.renderingStartTime>cr&&n!==1073741824&&(t.flags|=128,r=!0,wr(l,!1),t.lanes=4194304);l.isBackwards?(a.sibling=t.child,t.child=a):(n=l.last,n!==null?n.sibling=a:t.child=a,l.last=a)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ee(),t.sibling=null,n=je.current,_e(je,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return no(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?st&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Xp(e,t){switch(Ia(t),t.tag){case 1:return tt(t.type)&&ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ar(),ke(et),ke(qe),Ga(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ba(t),null;case 13:if(ke(je),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ke(je),null;case 4:return ar(),null;case 10:return Oa(t.type._context),null;case 22:case 23:return no(),null;case 24:return null;default:return null}}var Ss=!1,Ve=!1,Jp=typeof WeakSet=="function"?WeakSet:Set,q=null;function qn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(e,t,r)}else n.current=null}function ta(e,t,n){try{n()}catch(r){Ce(e,t,r)}}var gc=!1;function Zp(e,t){if(zl=Qs,e=ed(),Ra(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var a=0,o=-1,c=-1,u=0,m=0,h=e,f=null;t:for(;;){for(var w;h!==n||i!==0&&h.nodeType!==3||(o=a+i),h!==l||r!==0&&h.nodeType!==3||(c=a+r),h.nodeType===3&&(a+=h.nodeValue.length),(w=h.firstChild)!==null;)f=h,h=w;for(;;){if(h===e)break t;if(f===n&&++u===i&&(o=a),f===l&&++m===r&&(c=a),(w=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=w}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($l={focusedElem:e,selectionRange:n},Qs=!1,q=t;q!==null;)if(t=q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,q=e;else for(;q!==null;){t=q;try{var _=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var v=_.memoizedProps,S=_.memoizedState,p=t.stateNode,d=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:vt(t.type,v),S);p.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(x){Ce(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,q=e;break}q=t.return}return _=gc,gc=!1,_}function Ar(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.destroy;i.destroy=void 0,l!==void 0&&ta(t,n,l)}i=i.next}while(i!==r)}}function Ei(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function na(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Qd(e){var t=e.alternate;t!==null&&(e.alternate=null,Qd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ct],delete t[Yr],delete t[Hl],delete t[Ap],delete t[Ip])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xd(e){return e.tag===5||e.tag===3||e.tag===4}function yc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ra(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zs));else if(r!==4&&(e=e.child,e!==null))for(ra(e,t,n),e=e.sibling;e!==null;)ra(e,t,n),e=e.sibling}function sa(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(sa(e,t,n),e=e.sibling;e!==null;)sa(e,t,n),e=e.sibling}var ze=null,wt=!1;function Ht(e,t,n){for(n=n.child;n!==null;)Jd(e,t,n),n=n.sibling}function Jd(e,t,n){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(wi,n)}catch{}switch(n.tag){case 5:Ve||qn(n,t);case 6:var r=ze,i=wt;ze=null,Ht(e,t,n),ze=r,wt=i,ze!==null&&(wt?(e=ze,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ze.removeChild(n.stateNode));break;case 18:ze!==null&&(wt?(e=ze,n=n.stateNode,e.nodeType===8?Xi(e.parentNode,n):e.nodeType===1&&Xi(e,n),Wr(e)):Xi(ze,n.stateNode));break;case 4:r=ze,i=wt,ze=n.stateNode.containerInfo,wt=!0,Ht(e,t,n),ze=r,wt=i;break;case 0:case 11:case 14:case 15:if(!Ve&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var l=i,a=l.destroy;l=l.tag,a!==void 0&&(l&2||l&4)&&ta(n,t,a),i=i.next}while(i!==r)}Ht(e,t,n);break;case 1:if(!Ve&&(qn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ce(n,t,o)}Ht(e,t,n);break;case 21:Ht(e,t,n);break;case 22:n.mode&1?(Ve=(r=Ve)||n.memoizedState!==null,Ht(e,t,n),Ve=r):Ht(e,t,n);break;default:Ht(e,t,n)}}function _c(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Jp),t.forEach(function(r){var i=om.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function _t(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var l=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:ze=o.stateNode,wt=!1;break e;case 3:ze=o.stateNode.containerInfo,wt=!0;break e;case 4:ze=o.stateNode.containerInfo,wt=!0;break e}o=o.return}if(ze===null)throw Error(L(160));Jd(l,a,i),ze=null,wt=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ce(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Zd(t,e),t=t.sibling}function Zd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),St(e),r&4){try{Ar(3,e,e.return),Ei(3,e)}catch(v){Ce(e,e.return,v)}try{Ar(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:_t(t,e),St(e),r&512&&n!==null&&qn(n,n.return);break;case 5:if(_t(t,e),St(e),r&512&&n!==null&&qn(n,n.return),e.flags&32){var i=e.stateNode;try{$r(i,"")}catch(v){Ce(e,e.return,v)}}if(r&4&&(i=e.stateNode,i!=null)){var l=e.memoizedProps,a=n!==null?n.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&xu(i,l),El(o,a);var u=El(o,l);for(a=0;a<c.length;a+=2){var m=c[a],h=c[a+1];m==="style"?Nu(i,h):m==="dangerouslySetInnerHTML"?ju(i,h):m==="children"?$r(i,h):xa(i,m,h,u)}switch(o){case"input":bl(i,l);break;case"textarea":ku(i,l);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!l.multiple;var w=l.value;w!=null?Qn(i,!!l.multiple,w,!1):f!==!!l.multiple&&(l.defaultValue!=null?Qn(i,!!l.multiple,l.defaultValue,!0):Qn(i,!!l.multiple,l.multiple?[]:"",!1))}i[Yr]=l}catch(v){Ce(e,e.return,v)}}break;case 6:if(_t(t,e),St(e),r&4){if(e.stateNode===null)throw Error(L(162));i=e.stateNode,l=e.memoizedProps;try{i.nodeValue=l}catch(v){Ce(e,e.return,v)}}break;case 3:if(_t(t,e),St(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wr(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:_t(t,e),St(e);break;case 13:_t(t,e),St(e),i=e.child,i.flags&8192&&(l=i.memoizedState!==null,i.stateNode.isHidden=l,!l||i.alternate!==null&&i.alternate.memoizedState!==null||(eo=Ee())),r&4&&_c(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Ve=(u=Ve)||m,_t(t,e),Ve=u):_t(t,e),St(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!m&&e.mode&1)for(q=e,m=e.child;m!==null;){for(h=q=m;q!==null;){switch(f=q,w=f.child,f.tag){case 0:case 11:case 14:case 15:Ar(4,f,f.return);break;case 1:qn(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,_.props=t.memoizedProps,_.state=t.memoizedState,_.componentWillUnmount()}catch(v){Ce(r,n,v)}}break;case 5:qn(f,f.return);break;case 22:if(f.memoizedState!==null){wc(h);continue}}w!==null?(w.return=f,q=w):wc(h)}m=m.sibling}e:for(m=null,h=e;;){if(h.tag===5){if(m===null){m=h;try{i=h.stateNode,u?(l=i.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=h.stateNode,c=h.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Su("display",a))}catch(v){Ce(e,e.return,v)}}}else if(h.tag===6){if(m===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;m===h&&(m=null),h=h.return}m===h&&(m=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),St(e),r&4&&_c(e);break;case 21:break;default:_t(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xd(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&($r(i,""),r.flags&=-33);var l=yc(e);sa(e,l,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=yc(e);ra(e,o,a);break;default:throw Error(L(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function em(e,t,n){q=e,ef(e)}function ef(e,t,n){for(var r=(e.mode&1)!==0;q!==null;){var i=q,l=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Ss;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Ve;o=Ss;var u=Ve;if(Ss=a,(Ve=c)&&!u)for(q=i;q!==null;)a=q,c=a.child,a.tag===22&&a.memoizedState!==null?xc(i):c!==null?(c.return=a,q=c):xc(i);for(;l!==null;)q=l,ef(l),l=l.sibling;q=i,Ss=o,Ve=u}vc(e)}else i.subtreeFlags&8772&&l!==null?(l.return=i,q=l):vc(e)}}function vc(e){for(;q!==null;){var t=q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Ei(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ve)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:vt(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&rc(t,l,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rc(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var m=u.memoizedState;if(m!==null){var h=m.dehydrated;h!==null&&Wr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}Ve||t.flags&512&&na(t)}catch(f){Ce(t,t.return,f)}}if(t===e){q=null;break}if(n=t.sibling,n!==null){n.return=t.return,q=n;break}q=t.return}}function wc(e){for(;q!==null;){var t=q;if(t===e){q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,q=n;break}q=t.return}}function xc(e){for(;q!==null;){var t=q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ei(4,t)}catch(c){Ce(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Ce(t,i,c)}}var l=t.return;try{na(t)}catch(c){Ce(t,l,c)}break;case 5:var a=t.return;try{na(t)}catch(c){Ce(t,a,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){q=null;break}var o=t.sibling;if(o!==null){o.return=t.return,q=o;break}q=t.return}}var tm=Math.ceil,ui=Ot.ReactCurrentDispatcher,Ja=Ot.ReactCurrentOwner,pt=Ot.ReactCurrentBatchConfig,ue=0,Fe=null,Pe=null,$e=0,st=0,Yn=fn(0),Ae=0,es=null,Dn=0,Di=0,Za=0,Ir=null,Je=null,eo=0,cr=1/0,Pt=null,di=!1,ia=null,sn=null,Ns=!1,Xt=null,fi=0,Fr=0,la=null,Os=-1,Us=0;function Ke(){return ue&6?Ee():Os!==-1?Os:Os=Ee()}function ln(e){return e.mode&1?ue&2&&$e!==0?$e&-$e:zp.transition!==null?(Us===0&&(Us=zu()),Us):(e=he,e!==0||(e=window.event,e=e===void 0?16:Gu(e.type)),e):1}function bt(e,t,n,r){if(50<Fr)throw Fr=0,la=null,Error(L(185));ss(e,n,r),(!(ue&2)||e!==Fe)&&(e===Fe&&(!(ue&2)&&(Di|=n),Ae===4&&Yt(e,$e)),nt(e,r),n===1&&ue===0&&!(t.mode&1)&&(cr=Ee()+500,Si&&hn()))}function nt(e,t){var n=e.callbackNode;zh(e,t);var r=Ks(e,e===Fe?$e:0);if(r===0)n!==null&&To(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&To(n),t===1)e.tag===0?Fp(kc.bind(null,e)):ud(kc.bind(null,e)),Lp(function(){!(ue&6)&&hn()}),n=null;else{switch($u(r)){case 1:n=Na;break;case 4:n=Iu;break;case 16:n=Ys;break;case 536870912:n=Fu;break;default:n=Ys}n=cf(n,tf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tf(e,t){if(Os=-1,Us=0,ue&6)throw Error(L(327));var n=e.callbackNode;if(tr()&&e.callbackNode!==n)return null;var r=Ks(e,e===Fe?$e:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=hi(e,r);else{t=r;var i=ue;ue|=2;var l=rf();(Fe!==e||$e!==t)&&(Pt=null,cr=Ee()+500,jn(e,t));do try{sm();break}catch(o){nf(e,o)}while(!0);$a(),ui.current=l,ue=i,Pe!==null?t=0:(Fe=null,$e=0,t=Ae)}if(t!==0){if(t===2&&(i=Ll(e),i!==0&&(r=i,t=aa(e,i))),t===1)throw n=es,jn(e,0),Yt(e,r),nt(e,Ee()),n;if(t===6)Yt(e,r);else{if(i=e.current.alternate,!(r&30)&&!nm(i)&&(t=hi(e,r),t===2&&(l=Ll(e),l!==0&&(r=l,t=aa(e,l))),t===1))throw n=es,jn(e,0),Yt(e,r),nt(e,Ee()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:_n(e,Je,Pt);break;case 3:if(Yt(e,r),(r&130023424)===r&&(t=eo+500-Ee(),10<t)){if(Ks(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Ke(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Ul(_n.bind(null,e,Je,Pt),t);break}_n(e,Je,Pt);break;case 4:if(Yt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-kt(r);l=1<<a,a=t[a],a>i&&(i=a),r&=~l}if(r=i,r=Ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tm(r/1960))-r,10<r){e.timeoutHandle=Ul(_n.bind(null,e,Je,Pt),r);break}_n(e,Je,Pt);break;case 5:_n(e,Je,Pt);break;default:throw Error(L(329))}}}return nt(e,Ee()),e.callbackNode===n?tf.bind(null,e):null}function aa(e,t){var n=Ir;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=hi(e,t),e!==2&&(t=Je,Je=n,t!==null&&oa(t)),e}function oa(e){Je===null?Je=e:Je.push.apply(Je,e)}function nm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],l=i.getSnapshot;i=i.value;try{if(!jt(l(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yt(e,t){for(t&=~Za,t&=~Di,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kt(t),r=1<<n;e[n]=-1,t&=~r}}function kc(e){if(ue&6)throw Error(L(327));tr();var t=Ks(e,0);if(!(t&1))return nt(e,Ee()),null;var n=hi(e,t);if(e.tag!==0&&n===2){var r=Ll(e);r!==0&&(t=r,n=aa(e,r))}if(n===1)throw n=es,jn(e,0),Yt(e,t),nt(e,Ee()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,Je,Pt),nt(e,Ee()),null}function to(e,t){var n=ue;ue|=1;try{return e(t)}finally{ue=n,ue===0&&(cr=Ee()+500,Si&&hn())}}function Tn(e){Xt!==null&&Xt.tag===0&&!(ue&6)&&tr();var t=ue;ue|=1;var n=pt.transition,r=he;try{if(pt.transition=null,he=1,e)return e()}finally{he=r,pt.transition=n,ue=t,!(ue&6)&&hn()}}function no(){st=Yn.current,ke(Yn)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Mp(n)),Pe!==null)for(n=Pe.return;n!==null;){var r=n;switch(Ia(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ei();break;case 3:ar(),ke(et),ke(qe),Ga();break;case 5:Ba(r);break;case 4:ar();break;case 13:ke(je);break;case 19:ke(je);break;case 10:Oa(r.type._context);break;case 22:case 23:no()}n=n.return}if(Fe=e,Pe=e=an(e.current,null),$e=st=t,Ae=0,es=null,Za=Di=Dn=0,Je=Ir=null,xn!==null){for(t=0;t<xn.length;t++)if(n=xn[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,l=n.pending;if(l!==null){var a=l.next;l.next=i,r.next=a}n.pending=r}xn=null}return e}function nf(e,t){do{var n=Pe;try{if($a(),Fs.current=ci,oi){for(var r=Se.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}oi=!1}if(En=0,Ie=Re=Se=null,Rr=!1,Xr=0,Ja.current=null,n===null||n.return===null){Ae=1,es=t,Pe=null;break}e:{var l=e,a=n.return,o=n,c=t;if(t=$e,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,m=o,h=m.tag;if(!(m.mode&1)&&(h===0||h===11||h===15)){var f=m.alternate;f?(m.updateQueue=f.updateQueue,m.memoizedState=f.memoizedState,m.lanes=f.lanes):(m.updateQueue=null,m.memoizedState=null)}var w=cc(a);if(w!==null){w.flags&=-257,uc(w,a,o,l,t),w.mode&1&&oc(l,u,t),t=w,c=u;var _=t.updateQueue;if(_===null){var v=new Set;v.add(c),t.updateQueue=v}else _.add(c);break e}else{if(!(t&1)){oc(l,u,t),ro();break e}c=Error(L(426))}}else if(be&&o.mode&1){var S=cc(a);if(S!==null){!(S.flags&65536)&&(S.flags|=256),uc(S,a,o,l,t),Fa(or(c,o));break e}}l=c=or(c,o),Ae!==4&&(Ae=2),Ir===null?Ir=[l]:Ir.push(l),l=a;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var p=$d(l,c,t);nc(l,p);break e;case 1:o=c;var d=l.type,g=l.stateNode;if(!(l.flags&128)&&(typeof d.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sn===null||!sn.has(g)))){l.flags|=65536,t&=-t,l.lanes|=t;var x=Od(l,o,t);nc(l,x);break e}}l=l.return}while(l!==null)}lf(n)}catch(C){t=C,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function rf(){var e=ui.current;return ui.current=ci,e===null?ci:e}function ro(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Fe===null||!(Dn&268435455)&&!(Di&268435455)||Yt(Fe,$e)}function hi(e,t){var n=ue;ue|=2;var r=rf();(Fe!==e||$e!==t)&&(Pt=null,jn(e,t));do try{rm();break}catch(i){nf(e,i)}while(!0);if($a(),ue=n,ui.current=r,Pe!==null)throw Error(L(261));return Fe=null,$e=0,Ae}function rm(){for(;Pe!==null;)sf(Pe)}function sm(){for(;Pe!==null&&!Dh();)sf(Pe)}function sf(e){var t=of(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?lf(e):Pe=t,Ja.current=null}function lf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xp(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,Pe=null;return}}else if(n=Qp(n,t,st),n!==null){Pe=n;return}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ae===0&&(Ae=5)}function _n(e,t,n){var r=he,i=pt.transition;try{pt.transition=null,he=1,im(e,t,n,r)}finally{pt.transition=i,he=r}return null}function im(e,t,n,r){do tr();while(Xt!==null);if(ue&6)throw Error(L(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if($h(e,l),e===Fe&&(Pe=Fe=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ns||(Ns=!0,cf(Ys,function(){return tr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=pt.transition,pt.transition=null;var a=he;he=1;var o=ue;ue|=4,Ja.current=null,Zp(e,n),Zd(n,e),Sp($l),Qs=!!zl,$l=zl=null,e.current=n,em(n),Th(),ue=o,he=a,pt.transition=l}else e.current=n;if(Ns&&(Ns=!1,Xt=e,fi=i),l=e.pendingLanes,l===0&&(sn=null),Lh(n.stateNode),nt(e,Ee()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(di)throw di=!1,e=ia,ia=null,e;return fi&1&&e.tag!==0&&tr(),l=e.pendingLanes,l&1?e===la?Fr++:(Fr=0,la=e):Fr=0,hn(),null}function tr(){if(Xt!==null){var e=$u(fi),t=pt.transition,n=he;try{if(pt.transition=null,he=16>e?16:e,Xt===null)var r=!1;else{if(e=Xt,Xt=null,fi=0,ue&6)throw Error(L(331));var i=ue;for(ue|=4,q=e.current;q!==null;){var l=q,a=l.child;if(q.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(q=u;q!==null;){var m=q;switch(m.tag){case 0:case 11:case 15:Ar(8,m,l)}var h=m.child;if(h!==null)h.return=m,q=h;else for(;q!==null;){m=q;var f=m.sibling,w=m.return;if(Qd(m),m===u){q=null;break}if(f!==null){f.return=w,q=f;break}q=w}}}var _=l.alternate;if(_!==null){var v=_.child;if(v!==null){_.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}q=l}}if(l.subtreeFlags&2064&&a!==null)a.return=l,q=a;else e:for(;q!==null;){if(l=q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ar(9,l,l.return)}var p=l.sibling;if(p!==null){p.return=l.return,q=p;break e}q=l.return}}var d=e.current;for(q=d;q!==null;){a=q;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,q=g;else e:for(a=d;q!==null;){if(o=q,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ei(9,o)}}catch(C){Ce(o,o.return,C)}if(o===a){q=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,q=x;break e}q=o.return}}if(ue=i,hn(),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(wi,e)}catch{}r=!0}return r}finally{he=n,pt.transition=t}}return!1}function bc(e,t,n){t=or(n,t),t=$d(e,t,1),e=rn(e,t,1),t=Ke(),e!==null&&(ss(e,1,t),nt(e,t))}function Ce(e,t,n){if(e.tag===3)bc(e,e,n);else for(;t!==null;){if(t.tag===3){bc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sn===null||!sn.has(r))){e=or(n,e),e=Od(t,e,1),t=rn(t,e,1),e=Ke(),t!==null&&(ss(t,1,e),nt(t,e));break}}t=t.return}}function lm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ke(),e.pingedLanes|=e.suspendedLanes&n,Fe===e&&($e&n)===n&&(Ae===4||Ae===3&&($e&130023424)===$e&&500>Ee()-eo?jn(e,0):Za|=n),nt(e,t)}function af(e,t){t===0&&(e.mode&1?(t=gs,gs<<=1,!(gs&130023424)&&(gs=4194304)):t=1);var n=Ke();e=zt(e,t),e!==null&&(ss(e,t,n),nt(e,n))}function am(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),af(e,n)}function om(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),af(e,n)}var of;of=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,Kp(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,be&&t.flags&1048576&&dd(t,ri,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$s(e,t),e=t.pendingProps;var i=sr(t,qe.current);er(t,n),i=qa(null,t,r,e,i,n);var l=Ya();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(l=!0,ti(t)):l=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ha(t),i.updater=Ci,t.stateNode=i,i._reactInternals=t,Yl(t,r,e,n),t=Xl(null,t,r,!0,l,n)):(t.tag=0,be&&l&&Aa(t),Ye(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($s(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=um(r),e=vt(r,e),i){case 0:t=Ql(null,t,r,e,n);break e;case 1:t=hc(null,t,r,e,n);break e;case 11:t=dc(null,t,r,e,n);break e;case 14:t=fc(null,t,r,vt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),Ql(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),hc(e,t,r,i,n);case 3:e:{if(Bd(t),e===null)throw Error(L(387));r=t.pendingProps,l=t.memoizedState,i=l.element,yd(e,t),li(t,r,null,n);var a=t.memoizedState;if(r=a.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){i=or(Error(L(423)),t),t=pc(e,t,r,n,i);break e}else if(r!==i){i=or(Error(L(424)),t),t=pc(e,t,r,n,i);break e}else for(it=nn(t.stateNode.containerInfo.firstChild),lt=t,be=!0,xt=null,n=md(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ir(),r===i){t=$t(e,t,n);break e}Ye(e,t,r,n)}t=t.child}return t;case 5:return _d(t),e===null&&Gl(t),r=t.type,i=t.pendingProps,l=e!==null?e.memoizedProps:null,a=i.children,Ol(r,i)?a=null:l!==null&&Ol(r,l)&&(t.flags|=32),Wd(e,t),Ye(e,t,a,n),t.child;case 6:return e===null&&Gl(t),null;case 13:return Gd(e,t,n);case 4:return Wa(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=lr(t,null,r,n):Ye(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),dc(e,t,r,i,n);case 7:return Ye(e,t,t.pendingProps,n),t.child;case 8:return Ye(e,t,t.pendingProps.children,n),t.child;case 12:return Ye(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,l=t.memoizedProps,a=i.value,_e(si,r._currentValue),r._currentValue=a,l!==null)if(jt(l.value,a)){if(l.children===i.children&&!et.current){t=$t(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){a=l.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=At(-1,n&-n),c.tag=2;var u=l.updateQueue;if(u!==null){u=u.shared;var m=u.pending;m===null?c.next=c:(c.next=m.next,m.next=c),u.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),Vl(l.return,n,t),o.lanes|=n;break}c=c.next}}else if(l.tag===10)a=l.type===t.type?null:l.child;else if(l.tag===18){if(a=l.return,a===null)throw Error(L(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Vl(a,n,t),a=l.sibling}else a=l.child;if(a!==null)a.return=l;else for(a=l;a!==null;){if(a===t){a=null;break}if(l=a.sibling,l!==null){l.return=a.return,a=l;break}a=a.return}l=a}Ye(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,er(t,n),i=mt(i),r=r(i),t.flags|=1,Ye(e,t,r,n),t.child;case 14:return r=t.type,i=vt(r,t.pendingProps),i=vt(r.type,i),fc(e,t,r,i,n);case 15:return Ud(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:vt(r,i),$s(e,t),t.tag=1,tt(r)?(e=!0,ti(t)):e=!1,er(t,n),zd(t,r,i),Yl(t,r,i,n),Xl(null,t,r,!0,e,n);case 19:return Vd(e,t,n);case 22:return Hd(e,t,n)}throw Error(L(156,t.tag))};function cf(e,t){return Au(e,t)}function cm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,r){return new cm(e,t,n,r)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function um(e){if(typeof e=="function")return so(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ba)return 11;if(e===ja)return 14}return 2}function an(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hs(e,t,n,r,i,l){var a=2;if(r=e,typeof e=="function")so(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case zn:return Sn(n.children,i,l,t);case ka:a=8,i|=8;break;case _l:return e=ht(12,n,t,i|2),e.elementType=_l,e.lanes=l,e;case vl:return e=ht(13,n,t,i),e.elementType=vl,e.lanes=l,e;case wl:return e=ht(19,n,t,i),e.elementType=wl,e.lanes=l,e;case _u:return Ti(n,i,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gu:a=10;break e;case yu:a=9;break e;case ba:a=11;break e;case ja:a=14;break e;case Gt:a=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=ht(a,n,t,i),t.elementType=e,t.type=r,t.lanes=l,t}function Sn(e,t,n,r){return e=ht(7,e,r,t),e.lanes=n,e}function Ti(e,t,n,r){return e=ht(22,e,r,t),e.elementType=_u,e.lanes=n,e.stateNode={isHidden:!1},e}function il(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function ll(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dm(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Oi(0),this.expirationTimes=Oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Oi(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function io(e,t,n,r,i,l,a,o,c){return e=new dm(e,t,n,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ht(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ha(l),e}function fm(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uf(e){if(!e)return cn;e=e._reactInternals;e:{if(Mn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(tt(n))return cd(e,n,t)}return t}function df(e,t,n,r,i,l,a,o,c){return e=io(n,r,!0,e,i,l,a,o,c),e.context=uf(null),n=e.current,r=Ke(),i=ln(n),l=At(r,i),l.callback=t??null,rn(n,l,i),e.current.lanes=i,ss(e,i,r),nt(e,r),e}function Pi(e,t,n,r){var i=t.current,l=Ke(),a=ln(i);return n=uf(n),t.context===null?t.context=n:t.pendingContext=n,t=At(l,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=rn(i,t,a),e!==null&&(bt(e,i,a,l),Is(e,i,a)),a}function pi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function lo(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}function hm(){return null}var ff=typeof reportError=="function"?reportError:function(e){console.error(e)};function ao(e){this._internalRoot=e}Mi.prototype.render=ao.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));Pi(e,t,null,null)};Mi.prototype.unmount=ao.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tn(function(){Pi(null,e,null,null)}),t[Ft]=null}};function Mi(e){this._internalRoot=e}Mi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Hu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<qt.length&&t!==0&&t<qt[n].priority;n++);qt.splice(n,0,e),n===0&&Bu(e)}};function oo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sc(){}function pm(e,t,n,r,i){if(i){if(typeof r=="function"){var l=r;r=function(){var u=pi(a);l.call(u)}}var a=df(t,r,e,0,null,!1,!1,"",Sc);return e._reactRootContainer=a,e[Ft]=a.current,Vr(e.nodeType===8?e.parentNode:e),Tn(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=pi(c);o.call(u)}}var c=io(e,0,!1,null,null,!1,!1,"",Sc);return e._reactRootContainer=c,e[Ft]=c.current,Vr(e.nodeType===8?e.parentNode:e),Tn(function(){Pi(t,c,n,r)}),c}function Ri(e,t,n,r,i){var l=n._reactRootContainer;if(l){var a=l;if(typeof i=="function"){var o=i;i=function(){var c=pi(a);o.call(c)}}Pi(t,a,e,i)}else a=pm(n,t,e,i,r);return pi(a)}Ou=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jr(t.pendingLanes);n!==0&&(Ca(t,n|1),nt(t,Ee()),!(ue&6)&&(cr=Ee()+500,hn()))}break;case 13:Tn(function(){var r=zt(e,1);if(r!==null){var i=Ke();bt(r,e,1,i)}}),lo(e,1)}};Ea=function(e){if(e.tag===13){var t=zt(e,134217728);if(t!==null){var n=Ke();bt(t,e,134217728,n)}lo(e,134217728)}};Uu=function(e){if(e.tag===13){var t=ln(e),n=zt(e,t);if(n!==null){var r=Ke();bt(n,e,t,r)}lo(e,t)}};Hu=function(){return he};Wu=function(e,t){var n=he;try{return he=e,t()}finally{he=n}};Tl=function(e,t,n){switch(t){case"input":if(bl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ji(r);if(!i)throw Error(L(90));wu(r),bl(r,i)}}}break;case"textarea":ku(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};Du=to;Tu=Tn;var mm={usingClientEntryPoint:!1,Events:[ls,Hn,ji,Cu,Eu,to]},xr={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gm={bundleType:xr.bundleType,version:xr.version,rendererPackageName:xr.rendererPackageName,rendererConfig:xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ot.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Lu(e),e===null?null:e.stateNode},findFiberByHostInstance:xr.findFiberByHostInstance||hm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cs.isDisabled&&Cs.supportsFiber)try{wi=Cs.inject(gm),Et=Cs}catch{}}ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mm;ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oo(t))throw Error(L(200));return fm(e,t,null,n)};ot.createRoot=function(e,t){if(!oo(e))throw Error(L(299));var n=!1,r="",i=ff;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=io(e,1,!1,null,null,n,!1,r,i),e[Ft]=t.current,Vr(e.nodeType===8?e.parentNode:e),new ao(t)};ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Lu(t),e=e===null?null:e.stateNode,e};ot.flushSync=function(e){return Tn(e)};ot.hydrate=function(e,t,n){if(!Li(t))throw Error(L(200));return Ri(null,e,t,!0,n)};ot.hydrateRoot=function(e,t,n){if(!oo(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,i=!1,l="",a=ff;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=df(t,null,e,1,n??null,i,!1,l,a),e[Ft]=t.current,Vr(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Mi(t)};ot.render=function(e,t,n){if(!Li(t))throw Error(L(200));return Ri(null,e,t,!1,n)};ot.unmountComponentAtNode=function(e){if(!Li(e))throw Error(L(40));return e._reactRootContainer?(Tn(function(){Ri(null,null,e,!1,function(){e._reactRootContainer=null,e[Ft]=null})}),!0):!1};ot.unstable_batchedUpdates=to;ot.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Li(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return Ri(e,t,n,!1,r)};ot.version="18.3.1-next-f1338f8080-20240426";function hf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hf)}catch(e){console.error(e)}}hf(),fu.exports=ot;var ym=fu.exports,Nc=ym;gl.createRoot=Nc.createRoot,gl.hydrateRoot=Nc.hydrateRoot;let pf=null;const _m="/auth/callback";function mf(){return!1}function Wt(e){pf=e}function vm(){return!!pf}function ve(){return mf()&&vm()}function ye(){throw new Error("Supabase credentials are missing. Set VITE_SUPABASE_URL and VITE_SUPABASE_ANON_KEY in your environment.")}function wm(){var e;return typeof window<"u"&&((e=window.location)!=null&&e.origin)?`${window.location.origin}${_m}`:null}const ge="demo-user-0001",gf="demo@lifegoalapp.com",ca="Demo Creator",yf="lifegoalapp-demo-db-v1",Cc=typeof globalThis.structuredClone=="function"?globalThis.structuredClone:void 0;function de(e){return Cc?Cc(e):JSON.parse(JSON.stringify(e))}function te(e){if(typeof crypto<"u"&&"randomUUID"in crypto)return crypto.randomUUID();const t=Math.random().toString(16).slice(2,10);return`${e}-${t}`}const Q=new Date,me=e=>e.toISOString(),Le={goals:[{id:te("goal"),user_id:ge,title:"Launch the LifeGoal beta cohort",description:"Invite 25 early adopters, gather feedback, and iterate on the habit tracker experience.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-2,4)),target_date:me(new Date(Q.getFullYear(),Q.getMonth()+1,15)),progress_notes:"Beta content is finalized. Scheduling 1:1 kickoff calls next week and preparing support docs for onboarding.",status_tag:"on_track",life_wheel_category:null,start_date:null,timing_notes:null,estimated_duration_days:null},{id:te("goal"),user_id:ge,title:"Design the 2024 vision board refresh",description:"Collect inspiring imagery, craft narrative captions, and share with accountability partners.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-1,12)),target_date:me(new Date(Q.getFullYear(),Q.getMonth()+2,1)),progress_notes:"Gathered 60% of imagery, but workshop facilitation partner is double-booked. Need a backup facilitator.",status_tag:"off_track",life_wheel_category:null,start_date:null,timing_notes:null,estimated_duration_days:null},{id:te("goal"),user_id:ge,title:"Archive the pilot insights playbook",description:"Synthesize interviews, share top 10 learnings, and distribute the retrospective deck to the team.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-3,22)),target_date:me(new Date(Q.getFullYear(),Q.getMonth()-1,30)),progress_notes:"Deliverables shipped! Scheduling a celebration retro and exporting learnings to Notion.",status_tag:"achieved",life_wheel_category:null,start_date:null,timing_notes:null,estimated_duration_days:null}],habits:[],habitLogs:[],visionImages:[],checkins:[],notificationPreferences:null,goalReflections:[]};(function(){const t=Le.goals[0],n=Le.goals[1],r=Le.goals[2],i=te("habit"),l=te("habit"),a=te("habit");Le.habits=[{id:i,goal_id:t.id,name:"Morning focus ritual",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"career",label:"Career & Mission"}}},{id:l,goal_id:t.id,name:"Reach out to a beta tester",frequency:"weekly",schedule:{type:"weekly",days:["mon","wed","fri"],life_wheel_domain:{key:"relationships",label:"Relationships & Community"}}},{id:a,goal_id:n.id,name:"Source a new inspiration image",frequency:"weekly",schedule:{type:"weekly",days:["sat"],life_wheel_domain:{key:"creativity",label:"Creativity & Expression"}}},{id:te("habit"),goal_id:t.id,name:"Hydrate with 80 oz of water",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"health",label:"Health & Vitality"}}},{id:te("habit"),goal_id:t.id,name:"Midday stretch walk",frequency:"weekly",schedule:{type:"weekly",days:["mon","tue","wed","thu","fri"],life_wheel_domain:{key:"health",label:"Health & Vitality"}}},{id:te("habit"),goal_id:t.id,name:"Inbox zero sweep",frequency:"weekly",schedule:{type:"weekly",days:["mon","tue","wed","thu"],life_wheel_domain:{key:"career",label:"Career & Mission"}}},{id:te("habit"),goal_id:t.id,name:"Review tomorrow's priorities",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"mindset",label:"Mindset & Clarity"}}},{id:te("habit"),goal_id:t.id,name:"Capture product insight",frequency:"weekly",schedule:{type:"weekly",days:["mon","wed","fri"],life_wheel_domain:{key:"career",label:"Career & Mission"}}},{id:te("habit"),goal_id:t.id,name:"Update roadmap milestone",frequency:"weekly",schedule:{type:"weekly",days:["mon"],life_wheel_domain:{key:"career",label:"Career & Mission"}}},{id:te("habit"),goal_id:t.id,name:"Host accountability check-in",frequency:"weekly",schedule:{type:"weekly",days:["wed"],life_wheel_domain:{key:"relationships",label:"Relationships & Community"}}},{id:te("habit"),goal_id:t.id,name:"Share progress update with community",frequency:"weekly",schedule:{type:"weekly",days:["fri"],life_wheel_domain:{key:"community",label:"Community & Impact"}}},{id:te("habit"),goal_id:t.id,name:"Schedule deep work block",frequency:"weekly",schedule:{type:"weekly",days:["tue","thu"],life_wheel_domain:{key:"career",label:"Career & Mission"}}},{id:te("habit"),goal_id:t.id,name:"Strength training circuit",frequency:"weekly",schedule:{type:"weekly",days:["tue","thu"],life_wheel_domain:{key:"health",label:"Health & Vitality"}}},{id:te("habit"),goal_id:t.id,name:"Digital sunset ritual",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"wellness",label:"Rest & Recovery"}}},{id:te("habit"),goal_id:t.id,name:"Sleep by 10:30 routine",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"wellness",label:"Rest & Recovery"}}},{id:te("habit"),goal_id:t.id,name:"Balanced breakfast prep",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"health",label:"Health & Vitality"}}},{id:te("habit"),goal_id:n.id,name:"Reflect in vision journal",frequency:"weekly",schedule:{type:"weekly",days:["sun"],life_wheel_domain:{key:"personal_growth",label:"Personal Growth"}}},{id:te("habit"),goal_id:n.id,name:"Curate mood board snippet",frequency:"weekly",schedule:{type:"weekly",days:["thu"],life_wheel_domain:{key:"creativity",label:"Creativity & Expression"}}},{id:te("habit"),goal_id:n.id,name:"Capture photo inspiration",frequency:"weekly",schedule:{type:"weekly",days:["sat","sun"],life_wheel_domain:{key:"creativity",label:"Creativity & Expression"}}},{id:te("habit"),goal_id:n.id,name:"Schedule creative play session",frequency:"weekly",schedule:{type:"weekly",days:["sat"],life_wheel_domain:{key:"fun",label:"Fun & Adventure"}}},{id:te("habit"),goal_id:n.id,name:"Sketch storyboard concept",frequency:"weekly",schedule:{type:"weekly",days:["tue"],life_wheel_domain:{key:"creativity",label:"Creativity & Expression"}}},{id:te("habit"),goal_id:n.id,name:"Practice gratitude note",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"mindset",label:"Mindset & Clarity"}}},{id:te("habit"),goal_id:n.id,name:"10-minute mindful breathing",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"personal_growth",label:"Personal Growth"}}},{id:te("habit"),goal_id:n.id,name:"Write 3 lines in reflection journal",frequency:"daily",schedule:{type:"daily",life_wheel_domain:{key:"personal_growth",label:"Personal Growth"}}},{id:te("habit"),goal_id:n.id,name:"Plan weekend adventure",frequency:"weekly",schedule:{type:"weekly",days:["thu"],life_wheel_domain:{key:"fun",label:"Fun & Adventure"}}},{id:te("habit"),goal_id:r.id,name:"Review financial dashboard",frequency:"weekly",schedule:{type:"weekly",days:["mon"],life_wheel_domain:{key:"finances",label:"Finances & Wealth"}}},{id:te("habit"),goal_id:r.id,name:"Reconcile budget entries",frequency:"weekly",schedule:{type:"weekly",days:["fri"],life_wheel_domain:{key:"finances",label:"Finances & Wealth"}}},{id:te("habit"),goal_id:r.id,name:"Offer mentorship comment",frequency:"weekly",schedule:{type:"weekly",days:["wed"],life_wheel_domain:{key:"giving_back",label:"Giving Back"}}},{id:te("habit"),goal_id:r.id,name:"Declutter workspace reset",frequency:"weekly",schedule:{type:"weekly",days:["fri"],life_wheel_domain:{key:"environment",label:"Environment & Surroundings"}}},{id:te("habit"),goal_id:r.id,name:"Tend to plant watering",frequency:"weekly",schedule:{type:"weekly",days:["wed"],life_wheel_domain:{key:"environment",label:"Environment & Surroundings"}}}];const o=new Date(Q);o.setDate(o.getDate()-6);for(let c=0;c<7;c+=1){const u=new Date(o);u.setDate(o.getDate()+c);const m=u.toISOString().slice(0,10);Le.habitLogs.push({id:te("habit-log"),habit_id:i,date:m,completed:c%7!==2},{id:te("habit-log"),habit_id:l,date:m,completed:c%3===0})}Le.visionImages=[{id:te("vision"),user_id:ge,image_path:"https://images.unsplash.com/photo-1521737604893-d14cc237f11d?auto=format&fit=crop&w=800&q=80",caption:"Morning deep work setup to stay consistent with focus ritual.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-1,5))},{id:te("vision"),user_id:ge,image_path:"https://images.unsplash.com/photo-1487014679447-9f8336841d58?auto=format&fit=crop&w=800&q=80",caption:"Community celebration after the beta launch milestone.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-1,20))}],Le.checkins=[{id:te("checkin"),user_id:ge,date:me(new Date(Q.getFullYear(),Q.getMonth()-2,1)),scores:{health:7,relationships:6,career:8,personal_growth:7,fun:5,finances:6,giving_back:4,environment:8}},{id:te("checkin"),user_id:ge,date:me(new Date(Q.getFullYear(),Q.getMonth()-1,1)),scores:{health:8,relationships:7,career:8,personal_growth:8,fun:6,finances:6,giving_back:5,environment:8}},{id:te("checkin"),user_id:ge,date:me(new Date(Q.getFullYear(),Q.getMonth(),1)),scores:{health:8,relationships:8,career:9,personal_growth:8,fun:6,finances:7,giving_back:6,environment:8}}],Le.notificationPreferences={user_id:ge,habit_reminders_enabled:!0,habit_reminder_time:"08:00",checkin_nudges_enabled:!0,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone??"UTC",subscription:null,created_at:me(new Date(Q.getFullYear(),Q.getMonth()-2,12)),updated_at:me(new Date(Q.getFullYear(),Q.getMonth(),2))},Le.goalReflections=[{id:te("reflection"),goal_id:t.id,user_id:ge,entry_date:me(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()-6)).slice(0,10),confidence:4,highlight:"Completed onboarding playbook recordings and received strong feedback from the first beta captain.",challenge:"Need to coordinate calendar slots with three testers who have limited availability this week.",created_at:me(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()-6))},{id:te("reflection"),goal_id:t.id,user_id:ge,entry_date:me(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()-3)).slice(0,10),confidence:5,highlight:"Shipped revised habit tracker walkthrough and booked 5 new intro calls.",challenge:"Document follow-up questions so we can convert interest into active beta signups.",created_at:me(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()-3))},{id:te("reflection"),goal_id:t.id,user_id:ge,entry_date:me(new Date(Q.getFullYear(),Q.getMonth()-1,19)).slice(0,10),confidence:4,highlight:"Wrapped partner onboarding guides and scheduled joint announcement with marketing.",challenge:"Need a final review of the pricing FAQ before we hit publish.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-1,19))},{id:te("reflection"),goal_id:t.id,user_id:ge,entry_date:me(new Date(Q.getFullYear(),Q.getMonth()-2,21)).slice(0,10),confidence:3,highlight:"Outlined migration checklist and synced with engineering on rollout blockers.",challenge:"Still clarifying analytics requirements with two stakeholders.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-2,21))},{id:te("reflection"),goal_id:n.id,user_id:ge,entry_date:me(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()-8)).slice(0,10),confidence:3,highlight:"Gathered quotes for printing the updated vision board and drafted storytelling script.",challenge:"Still missing imagery for the community impact section and facilitator backup.",created_at:me(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()-8))},{id:te("reflection"),goal_id:n.id,user_id:ge,entry_date:me(new Date(Q.getFullYear(),Q.getMonth()-1,7)).slice(0,10),confidence:4,highlight:"Finalized the mood board color palette and secured three new contributor stories.",challenge:"Need approval on licensing terms for two photos sourced from the community.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-1,7))},{id:te("reflection"),goal_id:n.id,user_id:ge,entry_date:me(new Date(Q.getFullYear(),Q.getMonth()-2,11)).slice(0,10),confidence:2,highlight:"Mapped storytelling outline and flagged where we need additional imagery.",challenge:"Waiting on legal review for featuring partner logos in the board.",created_at:me(new Date(Q.getFullYear(),Q.getMonth()-2,11))}]})();function os(e){let t=e.status_tag??"on_track";return(t==="blocked"||t==="off-track")&&(t="off_track"),{...e,description:e.description??null,target_date:e.target_date??null,progress_notes:e.progress_notes??null,status_tag:t}}function xm(){if(typeof window>"u")return de(Le);try{const e=window.localStorage.getItem(yf);if(!e)return de(Le);const t=JSON.parse(e);return{goals:(t.goals??de(Le.goals)).map(os),habits:t.habits??de(Le.habits),habitLogs:t.habitLogs??de(Le.habitLogs),visionImages:t.visionImages??de(Le.visionImages),checkins:t.checkins??de(Le.checkins),notificationPreferences:t.notificationPreferences??de(Le.notificationPreferences),goalReflections:t.goalReflections??de(Le.goalReflections)}}catch(e){return console.warn("Unable to parse demo data state, falling back to defaults.",e),de(Le)}}let Te=xm();function km(){if(!(typeof window>"u"))try{window.localStorage.setItem(yf,JSON.stringify(Te))}catch(e){console.warn("Unable to persist demo data to localStorage.",e)}}function rt(e){Te=e(Te),km()}function bm(e){return[...e].sort((t,n)=>{const r=t.created_at??t.date??"",i=n.created_at??n.date??"";return r>i?-1:r<i?1:0})}function _f(e){return de(bm(Te.goals.filter(t=>t.user_id===e).map(os)))}function jm(e){const t=os({id:e.id??te("goal"),user_id:e.user_id,title:e.title,description:e.description??null,created_at:e.created_at??new Date().toISOString(),target_date:e.target_date??null,progress_notes:e.progress_notes??null,status_tag:e.status_tag??null,life_wheel_category:e.life_wheel_category??null,start_date:e.start_date??null,timing_notes:e.timing_notes??null,estimated_duration_days:e.estimated_duration_days??null});return rt(n=>({...n,goals:[t,...n.goals]})),de(t)}function Sm(e,t){let n=null;return rt(r=>{const i=r.goals.map(l=>l.id!==e?l:(n=os({...l,...t,description:t.description??l.description,target_date:t.target_date??l.target_date,progress_notes:t.progress_notes??l.progress_notes,status_tag:t.status_tag??l.status_tag,life_wheel_category:t.life_wheel_category??l.life_wheel_category,start_date:t.start_date??l.start_date,timing_notes:t.timing_notes??l.timing_notes,estimated_duration_days:t.estimated_duration_days??l.estimated_duration_days}),n));return{...r,goals:i}}),n?de(n):null}function Nm(e){let t=null;return rt(n=>{const r=n.goals.filter(c=>c.id===e?(t=c,!1):!0),i=n.habits.filter(c=>c.goal_id!==e),l=new Set(i.map(c=>c.id)),a=n.habitLogs.filter(c=>l.has(c.habit_id)),o=n.goalReflections.filter(c=>c.goal_id!==e);return{...n,goals:r,habits:i,habitLogs:a,goalReflections:o}}),t?de(os(t)):null}function Cm(e){const t=new Set(Te.goals.filter(n=>n.user_id===e).map(n=>n.id));return de(Te.habits.filter(n=>t.has(n.goal_id)).sort((n,r)=>n.name.localeCompare(r.name)))}function Em(e){let t=null;if(rt(n=>{const r=[...n.habits];if(e.id){const i=r.findIndex(l=>l.id===e.id);if(i>=0){const l=r[i];return t={...l,...e,schedule:e.schedule??l.schedule},r[i]=t,{...n,habits:r}}}return t={id:e.id??te("habit"),goal_id:e.goal_id??e.goal_id,name:e.name??e.name,frequency:e.frequency??e.frequency,schedule:e.schedule??null},r.push(t),r.sort((i,l)=>i.name.localeCompare(l.name)),{...n,habits:r}}),!t)throw new Error("Unable to resolve habit payload.");return de(t)}function Dm(e){const t={id:e.id??te("habit-log"),habit_id:e.habit_id,date:e.date,completed:e.completed??!0};return rt(n=>({...n,habitLogs:[...n.habitLogs,t]})),de(t)}function Tm(e,t){let n=null;return rt(r=>{const i=r.habitLogs.filter(l=>l.habit_id===e&&l.date===t?(n=l,!1):!0);return{...r,habitLogs:i}}),n?de(n):null}function Pm(e,t,n){if(!e.length)return[];const r=new Set(e);return de(Te.habitLogs.filter(i=>r.has(i.habit_id)?i.date>=t&&i.date<=n:!1))}function Mm(e){return de(Te.visionImages.filter(t=>t.user_id===e).sort((t,n)=>t.created_at>n.created_at?-1:t.created_at<n.created_at?1:0))}function Lm(e){const t={id:e.id??te("vision"),user_id:e.user_id,image_path:e.image_path,caption:e.caption??null,created_at:e.created_at??new Date().toISOString()};return rt(n=>({...n,visionImages:[t,...n.visionImages]})),de(t)}function Rm(e){let t=null;return rt(n=>{const r=n.visionImages.filter(i=>i.id===e?(t=i,!1):!0);return{...n,visionImages:r}}),t?de(t):null}function Am(e,t=12){const n=Te.checkins.filter(r=>r.user_id===e).sort((r,i)=>r.date>i.date?-1:r.date<i.date?1:0).slice(0,t);return de(n)}function Im(e){const t={id:e.id??te("checkin"),user_id:e.user_id,date:e.date,scores:e.scores};return rt(n=>({...n,checkins:[t,...n.checkins]})),de(t)}function Fm(e,t){let n=null;return rt(r=>{const i=r.checkins.map(l=>l.id!==e?l:(n={...l,...t,scores:t.scores??l.scores},n));return{...r,checkins:i}}),n?de(n):null}function zm(e){var t;return((t=Te.notificationPreferences)==null?void 0:t.user_id)!==e?null:de(Te.notificationPreferences)}function $m(e,t){var r,i,l,a,o,c;const n={user_id:e,habit_reminders_enabled:"habit_reminders_enabled"in t?!!t.habit_reminders_enabled:((r=Te.notificationPreferences)==null?void 0:r.habit_reminders_enabled)??!1,habit_reminder_time:"habit_reminder_time"in t?t.habit_reminder_time??null:((i=Te.notificationPreferences)==null?void 0:i.habit_reminder_time)??null,checkin_nudges_enabled:"checkin_nudges_enabled"in t?!!t.checkin_nudges_enabled:((l=Te.notificationPreferences)==null?void 0:l.checkin_nudges_enabled)??!1,timezone:"timezone"in t?t.timezone??null:((a=Te.notificationPreferences)==null?void 0:a.timezone)??null,subscription:"subscription"in t?t.subscription:((o=Te.notificationPreferences)==null?void 0:o.subscription)??null,created_at:((c=Te.notificationPreferences)==null?void 0:c.created_at)??new Date().toISOString(),updated_at:new Date().toISOString()};return rt(u=>({...u,notificationPreferences:n})),de(n)}function Om(e){var n;if(((n=Te.notificationPreferences)==null?void 0:n.user_id)!==e)return null;const t={...Te.notificationPreferences,habit_reminders_enabled:!1,checkin_nudges_enabled:!1,habit_reminder_time:null,subscription:null,updated_at:new Date().toISOString()};return rt(r=>({...r,notificationPreferences:t})),de(t)}async function Um(e){if(typeof window>"u"||typeof FileReader>"u")throw new Error("FileReader is not available in this environment.");return new Promise((t,n)=>{const r=new FileReader;r.onload=()=>{typeof r.result=="string"?t(r.result):n(new Error("Unable to read file as data URL."))},r.onerror=()=>n(new Error("Failed to read file.")),r.readAsDataURL(e)})}function Hm(e){return de(Te.goalReflections.filter(t=>t.goal_id===e).sort((t,n)=>t.entry_date>n.entry_date?-1:t.entry_date<n.entry_date?1:0))}function Wm(e){const t={id:e.id??te("reflection"),goal_id:e.goal_id,user_id:e.user_id,entry_date:e.entry_date,confidence:e.confidence??null,highlight:e.highlight??null,challenge:e.challenge??null,created_at:e.created_at??new Date().toISOString()};return rt(n=>({...n,goalReflections:[t,...n.goalReflections]})),de(t)}function Bm(e){let t=null;return rt(n=>{const r=n.goalReflections.filter(i=>i.id===e?(t=i,!1):!0);return{...n,goalReflections:r}}),t?de(t):null}function Nr(){const e=new Date().toISOString(),t=Math.floor(Date.now()/1e3);return{access_token:"demo-access-token",refresh_token:"demo-refresh-token",token_type:"bearer",user:{id:ge,app_metadata:{provider:"demo",providers:["demo"]},user_metadata:{full_name:ca,onboarding_complete:!0},aud:"authenticated",confirmation_sent_at:e,confirmed_at:e,created_at:e,email:gf,email_confirmed_at:e,factors:[],identities:[],invited_at:e,last_sign_in_at:e,phone:"",phone_confirmed_at:null,recovery_sent_at:e,role:"authenticated",updated_at:e,raw_app_meta_data:{provider:"demo",providers:["demo"]},raw_user_meta_data:{full_name:ca,onboarding_complete:!0}},expires_in:3600,expires_at:t+3600,provider_refresh_token:null,provider_token:null}}const vf=y.createContext(void 0);function Gm({children:e}){const t=mf()?"supabase":"demo",[n,r]=y.useState(null),[i,l]=y.useState(t==="supabase"),[a,o]=y.useState(null),[c,u]=y.useState(null);y.useEffect(()=>{if(t==="demo"){u(null),o(null),r(null),Wt(null),l(!1);return}try{u(ye()),o(null)}catch(p){u(null),o(p instanceof Error?p:new Error("Failed to initialize Supabase client."))}},[t]),y.useEffect(()=>{let p=!0;if(!c||t!=="supabase")return l(!1),()=>{p=!1};c.auth.getSession().then(({data:g})=>{if(!p)return;const x=g.session??null;r(x),Wt(x)}).finally(()=>{p&&l(!1)});const{data:{subscription:d}}=c.auth.onAuthStateChange((g,x)=>{const C=x??null;r(C),Wt(C)});return()=>{p=!1,d.unsubscribe()}},[t,c]);const m=y.useCallback(async p=>{if(t==="demo"){r(Nr()),Wt(null);return}if(!c)throw a??new Error("Supabase credentials are not configured.");const{error:d}=await c.auth.signInWithPassword(p);if(d)throw d},[t,c,a]),h=y.useCallback(async p=>{if(t==="demo"){r(Nr()),Wt(null);return}if(!c)throw a??new Error("Supabase credentials are not configured.");const{error:d}=await c.auth.signUp(p);if(d)throw d},[t,c,a]),f=y.useCallback(async p=>{if(t==="demo"){r(Nr()),Wt(null);return}if(!c)throw a??new Error("Supabase credentials are not configured.");const{error:d}=await c.auth.signInWithOtp({email:p});if(d)throw d},[t,c,a]),w=y.useCallback(async()=>{if(t==="demo"){r(Nr()),Wt(null);return}if(!c)throw a??new Error("Supabase credentials are not configured.");const p=wm()??"https://www.lifegoalapp.com/auth/callback",{error:d}=await c.auth.signInWithOAuth({provider:"google",options:{redirectTo:p}});if(d)throw d},[t,c,a]),_=y.useCallback(async p=>{if(t==="demo")return;if(!c)throw a??new Error("Supabase credentials are not configured.");const{error:d}=await c.auth.resetPasswordForEmail(p);if(d)throw d},[t,c,a]),v=y.useCallback(async()=>{if(t==="demo"){r(null),Wt(null);return}if(!c)throw a??new Error("Supabase credentials are not configured.");const{error:p}=await c.auth.signOut();if(p)throw p},[t,c,a]),S=y.useMemo(()=>({session:n,initializing:i,isConfigured:t==="demo"?!0:!!c,isAuthenticated:!!n,mode:t,client:c,signInWithPassword:m,signUpWithPassword:h,signInWithOtp:f,signInWithGoogle:w,sendPasswordReset:_,signOut:v}),[n,i,t,c,m,h,f,w,_,v]);return s.jsx(vf.Provider,{value:S,children:e})}function Ut(){const e=y.useContext(vf);if(!e)throw new Error("useSupabaseAuth must be used within a SupabaseAuthProvider");return e}async function co(){return ve()?ye().from("goals").select("*").order("created_at",{ascending:!1}).returns():{data:_f(ge),error:null}}async function wf(e){return ve()?ye().from("goals").insert(e).select().returns().single():{data:jm(e),error:null}}async function Vm(e,t){return ve()?ye().from("goals").update(t).eq("id",e).select().returns().single():{data:Sm(e,t),error:null}}async function qm(e){return ve()?ye().from("goals").delete().eq("id",e).select().single():{data:Nm(e),error:null}}const ur=["on_track","at_risk","off_track","achieved"],Jt={on_track:{label:"On track",description:"Progress is moving smoothly with no blockers.",empty:"No goals have been marked on track yet."},at_risk:{label:"At risk",description:"Momentum is slowing down and needs attention.",empty:"No goals flagged at risk—keep monitoring your progress."},off_track:{label:"Off track",description:"Major blockers or misses require a reset or new plan.",empty:"No goals are off track right now."},achieved:{label:"Achieved",description:"The goal has been completed—celebrate the win!",empty:"Celebrate once goals start crossing the finish line."}},xf=ur.map(e=>({value:e,label:Jt[e].label,description:Jt[e].description})),ts="on_track";function bn(e){if(!e)return ts;const t=e.toLowerCase().replace(/-/g,"_");return t==="blocked"?"off_track":ur.includes(t)?t:ts}const mi=xf,Ym=ts,gn={title:"",description:"",targetDate:"",progressNotes:"",statusTag:Ym};function al({session:e}){var K;const{isConfigured:t,mode:n,isAuthenticated:r}=Ut(),i=n==="demo"||!r,[l,a]=y.useState([]),[o,c]=y.useState(!1),[u,m]=y.useState(null),[h,f]=y.useState(null),[w,_]=y.useState(gn),[v,S]=y.useState(!1),[p,d]=y.useState(!1),[g,x]=y.useState(null),[C,E]=y.useState(gn),[M,D]=y.useState(null),[ee,O]=y.useState(null),[N,W]=y.useState(null),[U,I]=y.useState("all"),J=y.useCallback(async()=>{if(!t){a([]),d(!1);return}c(!0),m(null),f(null);try{const{data:k,error:F}=await co();if(F)throw F;a(k??[]),x(null),O(null)}catch(k){m(k instanceof Error?k.message:"Unable to load goals. Try again in a moment.")}finally{d(!0),c(!1)}},[t]);y.useEffect(()=>{t&&J()},[(K=e==null?void 0:e.user)==null?void 0:K.id,t,J]),y.useEffect(()=>{t||(a([]),d(!1),x(null),O(null))},[t]);const ie=y.useMemo(()=>{const k=ur.reduce((F,H)=>(F[H]=0,F),{});return l.reduce((F,H)=>{const j=bn(H.status_tag);return F[j]=(F[j]??0)+1,F},k)},[l]),le=y.useMemo(()=>U==="all"?l:l.filter(k=>bn(k.status_tag)===U),[l,U]),P=y.useMemo(()=>le.filter(k=>!!(k.target_date&&new Date(k.target_date).getTime()<Date.now())),[le]),R=l.length,B=y.useMemo(()=>[{value:"all",label:"All statuses",count:R,description:"View every goal in this workspace."},...ur.map(k=>({value:k,label:Jt[k].label,count:ie[k]??0,description:Jt[k].description}))],[ie,R]),se=y.useMemo(()=>{if(!t&&!i)return"Connect Supabase to sync your goals.";if(R===0)return p?"No goals yet—start by capturing your first big win.":"Loading goals…";if(U==="all")return`${R} goal${R===1?"":"s"} in flight`;const k=Jt[U].label.toLowerCase();return`Showing ${le.length} of ${R} goal${R===1?"":"s"} marked ${k}.`},[le.length,p,t,i,U,R]),ae=k=>F=>{_(H=>({...H,[k]:F.target.value}))},T=k=>F=>{const H=F.target.value;E(j=>({...j,[k]:H}))},V=async k=>{if(k.preventDefault(),f(null),!t){m("Supabase credentials are not configured. Add them to continue.");return}const F=w.title.trim();if(!F){m("Name your goal before saving.");return}S(!0),m(null),f(null);try{const H={title:F,description:w.description.trim()||null,target_date:w.targetDate?w.targetDate:null,user_id:e.user.id,progress_notes:w.progressNotes.trim()||null,status_tag:w.statusTag},{data:j,error:b}=await wf(H);if(b)throw b;j&&a(z=>[j,...z]),_(gn),f(i?"Goal saved to demo data.":"Goal saved.")}catch(H){m(H instanceof Error?H.message:"Unable to save your goal.")}finally{S(!1)}},Y=k=>{x(k.id),O(null),m(null),f(null),E({title:k.title??"",description:k.description??"",targetDate:k.target_date?k.target_date.slice(0,10):"",progressNotes:k.progress_notes??"",statusTag:bn(k.status_tag)})},$=()=>{x(null),E(gn)},X=async k=>{if(k.preventDefault(),f(null),!g){m("Select a goal to update before saving changes.");return}if(!t){m("Supabase credentials are not configured. Add them to continue.");return}const F=C.title.trim();if(!F){m("Name your goal before saving changes.");return}D(g),m(null),f(null);try{const H={title:F,description:C.description.trim()||null,target_date:C.targetDate||null,progress_notes:C.progressNotes.trim()||null,status_tag:C.statusTag},{data:j,error:b}=await Vm(g,H);if(b)throw b;a(z=>z.map(G=>G.id!==g?G:j||{...G,...H})),f(i?"Goal updated in demo data.":"Goal updated."),x(null),E(gn)}catch(H){m(H instanceof Error?H.message:"Unable to update the goal.")}finally{D(null)}},re=k=>{O(k),x(F=>F===k?(E(gn),null):F),m(null),f(null)},fe=()=>{O(null)},A=async k=>{if(!t){m("Supabase credentials are not configured. Add them to continue.");return}W(k),m(null),f(null);try{const{error:F}=await qm(k);if(F)throw F;a(H=>H.filter(j=>j.id!==k)),f(i?"Goal removed from demo data.":"Goal removed."),g===k&&(x(null),E(gn))}catch(F){m(F instanceof Error?F.message:"Unable to delete the goal right now.")}finally{W(null),O(null)}};return s.jsxs("section",{className:"goal-workspace",children:[s.jsxs("header",{className:"goal-workspace__header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Goals & Habits workspace"}),s.jsx("p",{children:"Map your long-term goals and align the habits that will make them real. Everything saved here syncs with your Supabase project."})]}),s.jsx("button",{type:"button",className:"goal-workspace__refresh",onClick:J,disabled:o||!t,children:o?"Refreshing…":"Refresh goals"})]}),i?s.jsx("p",{className:"goal-workspace__status goal-workspace__status--info",children:"You're working with demo Supabase data stored locally. Capture goals freely and connect Supabase later to sync them to the cloud."}):t?null:s.jsxs("p",{className:"goal-workspace__status goal-workspace__status--warning",children:["Add your Supabase credentials to ",s.jsx("code",{children:".env.local"})," to load and persist goals. Until then, you can plan offline, but nothing will sync yet."]}),h?s.jsx("p",{className:"goal-workspace__status goal-workspace__status--success",children:h}):null,u?s.jsx("p",{className:"goal-workspace__status goal-workspace__status--error",children:u}):null,s.jsxs("div",{className:"goal-workspace__grid",children:[s.jsxs("form",{className:"goal-form",onSubmit:V,children:[s.jsx("h3",{children:"Capture a new goal"}),s.jsxs("label",{className:"goal-form__field",children:[s.jsx("span",{children:"Goal title"}),s.jsx("input",{type:"text",value:w.title,onChange:ae("title"),placeholder:"Launch the habit tracker beta",required:!0})]}),s.jsxs("label",{className:"goal-form__field",children:[s.jsx("span",{children:"Why it matters"}),s.jsx("textarea",{value:w.description,onChange:ae("description"),placeholder:"Describe the outcome, success criteria, and the motivation behind this goal.",rows:4})]}),s.jsxs("label",{className:"goal-form__field",children:[s.jsx("span",{children:"Target date"}),s.jsx("input",{type:"date",value:w.targetDate,onChange:ae("targetDate")})]}),s.jsxs("label",{className:"goal-form__field",children:[s.jsx("span",{children:"Status for weekly review"}),s.jsx("select",{value:w.statusTag,onChange:ae("statusTag"),children:mi.map(k=>s.jsx("option",{value:k.value,children:k.label},k.value))}),s.jsx("small",{className:"goal-form__hint",children:Ec(w.statusTag)})]}),s.jsxs("label",{className:"goal-form__field",children:[s.jsx("span",{children:"Weekly progress notes"}),s.jsx("textarea",{value:w.progressNotes,onChange:ae("progressNotes"),placeholder:"Capture highlights, blockers, or next actions for your next review.",rows:4})]}),s.jsx("button",{type:"submit",className:"goal-form__submit",disabled:v,children:v?"Saving…":"Save goal"})]}),s.jsxs("div",{className:"goal-list",children:[s.jsxs("div",{className:"goal-list__header",children:[s.jsx("h3",{children:"Active goals"}),s.jsx("span",{className:"goal-list__meta",children:se})]}),R>0?s.jsx("div",{className:"goal-list__filters",role:"group","aria-label":"Filter goals by status",children:B.map(k=>s.jsxs("button",{type:"button",className:`goal-list__filter ${U===k.value?"goal-list__filter--active":""}`,onClick:()=>I(k.value),"aria-pressed":U===k.value,children:[s.jsx("span",{className:"goal-list__filter-label",children:k.label}),s.jsx("span",{className:"goal-list__filter-count",children:k.count})]},k.value))}):null,s.jsx("ul",{className:"goal-list__items",children:le.map(k=>{const F=g===k.id,H=ee===k.id,j=M===k.id,b=N===k.id;return s.jsx("li",{className:"goal-card",children:F?s.jsxs("form",{className:"goal-card__editor",onSubmit:X,children:[s.jsx("h4",{children:"Edit goal"}),s.jsxs("label",{className:"goal-card__field",children:[s.jsx("span",{children:"Goal title"}),s.jsx("input",{type:"text",value:C.title,onChange:T("title"),required:!0})]}),s.jsxs("label",{className:"goal-card__field",children:[s.jsx("span",{children:"Why it matters"}),s.jsx("textarea",{value:C.description,onChange:T("description"),rows:3})]}),s.jsxs("label",{className:"goal-card__field",children:[s.jsx("span",{children:"Target date"}),s.jsx("input",{type:"date",value:C.targetDate,onChange:T("targetDate")})]}),s.jsxs("label",{className:"goal-card__field",children:[s.jsx("span",{children:"Status for weekly review"}),s.jsx("select",{value:C.statusTag,onChange:T("statusTag"),children:mi.map(z=>s.jsx("option",{value:z.value,children:z.label},z.value))}),s.jsx("small",{className:"goal-card__hint",children:Ec(C.statusTag)})]}),s.jsxs("label",{className:"goal-card__field",children:[s.jsx("span",{children:"Weekly progress notes"}),s.jsx("textarea",{value:C.progressNotes,onChange:T("progressNotes"),rows:3,placeholder:"Summarize learnings, blockers, or wins."})]}),s.jsxs("div",{className:"goal-card__editor-actions",children:[s.jsx("button",{type:"submit",className:"goal-card__button goal-card__button--primary",disabled:j,children:j?"Saving…":"Save changes"}),s.jsx("button",{type:"button",className:"goal-card__button goal-card__button--ghost",onClick:$,disabled:j,children:"Cancel"})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"goal-card__header",children:[s.jsxs("div",{className:"goal-card__title",children:[s.jsx("h4",{children:k.title}),s.jsx("span",{className:"goal-card__date",children:k.target_date?`Target: ${Km(k.target_date)}`:"No target date set"})]}),s.jsx("span",{className:`goal-status goal-status--${bn(k.status_tag)}`,children:Qm(k.status_tag)})]}),k.description?s.jsx("p",{children:k.description}):null,k.progress_notes?s.jsxs("div",{className:"goal-card__notes",children:[s.jsx("h5",{children:"Weekly notes"}),s.jsx("p",{children:k.progress_notes})]}):s.jsx("div",{className:"goal-card__notes goal-card__notes--empty",children:s.jsx("p",{children:"Use weekly notes to track wins and surface blockers for your next review."})}),s.jsxs("footer",{className:"goal-card__footer",children:[s.jsxs("span",{children:["Created ",Xm(k.created_at)]}),s.jsx("div",{className:"goal-card__actions",children:H?s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"goal-card__button goal-card__button--danger",onClick:()=>void A(k.id),disabled:b,children:b?"Removing…":"Confirm delete"}),s.jsx("button",{type:"button",className:"goal-card__button goal-card__button--ghost",onClick:fe,disabled:b,children:"Cancel"})]}):s.jsxs(s.Fragment,{children:[s.jsx("button",{type:"button",className:"goal-card__button goal-card__button--primary",onClick:()=>Y(k),children:"Edit"}),s.jsx("button",{type:"button",className:"goal-card__button goal-card__button--danger",onClick:()=>re(k.id),children:"Delete"})]})})]})]})},k.id)})}),le.length===0&&R>0?s.jsx("p",{className:"goal-list__empty",children:U==="all"?"No goals match the current filters.":Jt[U].empty}):null,le.length>0&&P.length>0?s.jsx("p",{className:"goal-list__status",children:P.length===le.length?"Every goal here has passed its target date—time to celebrate and set the next milestone!":`${P.length} goal${P.length===1?" has":"s have"} crossed the target date.`}):null]})]})]})}function Km(e){const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function Qm(e){const t=bn(e),n=mi.find(r=>r.value===t);return(n==null?void 0:n.label)??"On track"}function Ec(e){const t=mi.find(n=>n.value===e);return(t==null?void 0:t.description)??""}function Xm(e){const t=new Date(e);if(Number.isNaN(t.getTime()))return e;const n=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"}),r=Date.now(),i=t.getTime()-r,l=1e3*60*60*24,a=Math.round(i/l);if(Math.abs(a)<1){const u=Math.round(i/36e5);return u===0?"just now":n.format(u,"hour")}if(Math.abs(a)<30)return n.format(a,"day");const o=Math.round(a/30);if(Math.abs(o)<12)return n.format(o,"month");const c=Math.round(o/12);return n.format(c,"year")}async function Jm(e){return ve()?ye().from("goal_reflections").select("*").eq("goal_id",e).order("entry_date",{ascending:!1}).order("created_at",{ascending:!1}).returns():{data:Hm(e),error:null}}async function Zm(e){return ve()?ye().from("goal_reflections").insert(e).select().returns().single():{data:Wm(e),error:null}}async function eg(e){return ve()?ye().from("goal_reflections").delete().eq("id",e).select().returns().single():{data:Bm(e),error:null}}async function tg(e,t,n){if(!e)return{data:[],error:null,source:"demo"};if(!ve())return{data:Es(e,t,n),error:null,source:"demo"};const r=ye();try{const i={goalId:e,goalTitle:t,reflections:n.slice(0,10).map(c=>({id:c.id,entryDate:c.entry_date,confidence:c.confidence??null,highlight:c.highlight??null,challenge:c.challenge??null}))},{data:l,error:a}=await r.functions.invoke("generate-reflection-prompts",{body:i});if(a)return console.warn("Falling back to demo follow-up prompts after Supabase function error.",a),{data:Es(e,t,n),error:null,source:"demo"};const o=ng(e,l);return o.length>0?{data:o,error:null,source:"supabase"}:{data:Es(e,t,n),error:null,source:"demo"}}catch(i){return console.warn("Falling back to demo follow-up prompts after invocation failure.",i),{data:Es(e,t,n),error:null,source:"demo"}}}function ng(e,t){return!t||!Array.isArray(t.prompts)?[]:t.prompts.map((n,r)=>{const i=Array.isArray(n.actions)?n.actions.filter(Boolean):[];return!n.title||!n.summary||i.length===0?null:{id:n.id||`${e}-supabase-${r}`,title:n.title,summary:n.summary,focus:n.focus||"Next step",actions:i,confidenceSignal:n.confidenceSignal??"sustain"}}).filter(n=>!!n)}function Es(e,t,n){if(!n.length)return[];const i=[...n].sort((f,w)=>{const _=new Date(f.entry_date??f.created_at??0).getTime();return new Date(w.entry_date??w.created_at??0).getTime()-_}).slice(0,6),l=i[0];if(!l)return[];const a=i[1]??null,o=kf(l.confidence),c=Dc(i.slice(0,3)),u=Dc(i.slice(3,6)),m=c!==null&&u!==null?Number((c-u).toFixed(1)):null,h=[];return l.highlight&&h.push({id:`${e}-celebrate`,title:"Amplify this week’s highlight",summary:`Protect the momentum from “${l.highlight}” so it becomes a repeatable win${t?` for ${t}`:""}.`,focus:rg(l.highlight),actions:ig(l.highlight),confidenceSignal:o&&o>=4?"celebrate":"sustain"}),l.challenge&&h.push({id:`${e}-challenge`,title:"Coach through the current blocker",summary:`Break “${l.challenge}” into the next coaching experiment so progress returns quickly.`,focus:sg(l.challenge),actions:lg(l.challenge),confidenceSignal:o&&o<=3?"boost":"sustain"}),m!==null&&(m<=-.3?h.push({id:`${e}-stabilize`,title:"Stabilize the confidence trend",summary:`Confidence dipped ${Math.abs(m)} points across recent reflections. Design a reset ritual to steady the next review.`,focus:"Confidence recovery",actions:ag(l,a),confidenceSignal:"boost"}):m>=.3&&h.push({id:`${e}-double-down`,title:"Double down on what’s working",summary:`Confidence climbed ${m} points lately. Capture the routines that created the lift so you can repeat them.`,focus:"Momentum design",actions:og(l,a),confidenceSignal:"celebrate"})),h.length===0&&h.push({id:`${e}-reflection-cadence`,title:"Plan the next reflection touchpoint",summary:"Translate your notes into one concrete win, one unlock, and one check-in date.",focus:"Weekly cadence",actions:["List one win you want to extend into next week and add it to your calendar.","Identify the single biggest unlock you can deliver in the next 72 hours.","Schedule your next reflection to keep the coaching rhythm alive."],confidenceSignal:"sustain"}),h.slice(0,3)}function kf(e){return typeof e!="number"||Number.isNaN(e)?null:Math.min(5,Math.max(1,Number(e.toFixed(1))))}function Dc(e){const t=e.map(r=>kf(r.confidence)).filter(r=>r!==null);if(t.length===0)return null;const n=t.reduce((r,i)=>r+i,0);return Number((n/t.length).toFixed(1))}function rg(e){const t=e.toLowerCase();return/(team|collaboration|partner|client)/.test(t)?"Relationship win":t.includes("launch")||t.includes("release")||t.includes("ship")?"Delivery milestone":t.includes("learning")||t.includes("workshop")||t.includes("research")?"Learning loop":"Momentum boost"}function sg(e){const t=e.toLowerCase();return t.includes("time")||t.includes("schedule")||t.includes("calendar")?"Timeboxing":t.includes("stakeholder")||t.includes("communication")||t.includes("alignment")?"Stakeholder sync":t.includes("resource")||t.includes("budget")||t.includes("support")?"Resource planning":t.includes("clarity")||t.includes("scope")||t.includes("plan")?"Clarity reset":"Blocker focus"}function ig(e){const t=e.toLowerCase();return t.includes("team")||t.includes("partner")||t.includes("client")?["Capture the collaboration moves that made the win possible in your playbook.","Send a quick thank-you or recap to the partner to reinforce the behavior.","Book a 15-minute retro to agree on how to repeat the success next sprint."]:t.includes("launch")||t.includes("release")||t.includes("ship")?["Document the launch checklist that kept the delivery smooth.","Identify one metric that proves the launch is creating impact.","Schedule a quick review to decide the next enhancement while excitement is high."]:t.includes("learning")||t.includes("research")||t.includes("experiment")?["Summarize the top insight you want to apply immediately.","Share the learning with one teammate or stakeholder.","Pick a follow-up experiment to run within the next week."]:["Write down the core behavior that led to the win and add it to your weekly ritual.","Identify who needs to know about the progress and send a short update.","Set a reminder to repeat the winning action in next week’s schedule."]}function lg(e){const t=e.toLowerCase();return t.includes("time")||t.includes("schedule")||t.includes("calendar")?["Block a focused working session dedicated to the stuck work.","Drop one lower-priority commitment to create breathing room.","Share your updated schedule with stakeholders so expectations stay aligned."]:t.includes("stakeholder")||t.includes("communication")||t.includes("alignment")?["Draft the single message you need stakeholders to align on.","Book a quick sync to close gaps or reset expectations.","Document decisions in a shared space so momentum is easy to reference."]:t.includes("resource")||t.includes("budget")||t.includes("support")?["List the resources you truly need versus nice-to-haves.","Identify one sponsor who can unlock the missing support.","Propose a lightweight experiment that fits within the current constraints."]:t.includes("clarity")||t.includes("scope")||t.includes("plan")?["Rewrite the desired outcome in one sentence to regain clarity.","Break the work into the next two concrete milestones.","Confirm the plan with your team or coach to reduce ambiguity."]:["Define what success looks like for the blocked area in one sentence.","List the first tiny move that would create momentum within 48 hours.","Ask for a specific resource, partner, or decision to clear the path."]}function ag(e,t){const n=e.highlight?`Bring back the energy from “${e.highlight}.”`:"Reconnect with last month’s wins.",r=t!=null&&t.challenge?`Close the loop on the lingering blocker: “${t.challenge}.”`:"Review your prior blockers to confirm they are resolved.";return[n,r,"Decide on one ritual (daily standup, end-of-week retro, etc.) that will rebuild confidence steadily."]}function og(e,t){const n=e.highlight?`List the ingredients that made “${e.highlight}” possible.`:"Capture the behaviors that lifted confidence.",r=t!=null&&t.highlight?`Contrast this win with last week’s highlight (“${t.highlight}”) to spot the throughline.`:"Note the throughline between recent reflections to make the momentum durable.";return[n,r,"Decide how you will celebrate progress and communicate the next bold step."]}const cg=[{value:5,label:"Energized",description:"Progress is flowing and support is locked in."},{value:4,label:"Optimistic",description:"Momentum is strong with a few items to watch."},{value:3,label:"Steady",description:"Holding steady with balanced wins and challenges."},{value:2,label:"Wobbly",description:"Momentum is slipping—focus on unblocking the next step."},{value:1,label:"Stalled",description:"Goal needs attention and a fresh plan to move forward."}],gi=cg.reduce((e,t)=>(e[t.value]=t,e),{}),ug=new Intl.DateTimeFormat(void 0,{month:"short",year:"numeric"}),dg=640,fg=260,In=48;function hg(e){const t=new Date(e);return Number.isNaN(t.getTime())?e:t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}function Tc(e){if(!e||!gi[e])return"Not recorded";const t=gi[e];return`${e}/5 · ${t.label}`}function pg(e){if(typeof e!="number"||Number.isNaN(e))return null;const t=Math.min(5,Math.max(1,e));return Math.round(t*10)/10}function mg(e){const t=new Map;for(const a of e){if(!a.entry_date)continue;const o=new Date(a.entry_date);if(Number.isNaN(o.getTime()))continue;const c=new Date(o.getFullYear(),o.getMonth(),1),u=`${c.getFullYear()}-${String(c.getMonth()+1).padStart(2,"0")}`,m=pg(a.confidence??null);if(m===null)continue;const h=t.get(u);h?h.confidences.push(m):t.set(u,{monthStart:c,confidences:[m]})}if(t.size===0)return null;const n=Array.from(t.entries()).map(([a,o])=>{const c=o.confidences.reduce((m,h)=>m+h,0),u=Number((c/o.confidences.length).toFixed(2));return{label:ug.format(o.monthStart),monthKey:a,monthStart:o.monthStart,average:u,entryCount:o.confidences.length}}).sort((a,o)=>a.monthStart.getTime()-o.monthStart.getTime()),r=n.length>0?n[n.length-1]:void 0;if(!r)return null;const i=n.length>1?n[n.length-2]:null,l=i?gg(r,i):`Confidence is averaging ${r.average.toFixed(1)} this month. Add more reflections to build your trendline.`;return{points:n,summary:l}}function gg(e,t){const n=Number((e.average-t.average).toFixed(1));return Math.abs(n)<.05?`Confidence held steady at ${e.average.toFixed(1)} from ${t.label} to ${e.label}.`:`Confidence ${n>0?"climbed":"dipped"} ${yg(n)} between ${t.label} and ${e.label}.`}function yg(e,t=1){const n=Math.abs(e).toFixed(t);return`${e>0?"+":"−"}${n}`}function _g(e){if(e.length===0)return null;const t=dg,n=fg,r=In,i=t-r*2,l=n-r*2,a=n-r,o=e.map((v,S)=>e.length===1?r+i/2:r+S/(e.length-1)*i),c=e.map(v=>{const S=(v.average-1)/4;return a-S*l}),u=o.map((v,S)=>{const p=c[S];return`${S===0?"M":"L"}${v.toFixed(2)},${p.toFixed(2)}`}).join(" "),m=o[0],h=o[o.length-1],f=[`M${m.toFixed(2)},${a.toFixed(2)}`].concat(o.map((v,S)=>`L${v.toFixed(2)},${c[S].toFixed(2)}`),`L${h.toFixed(2)},${a.toFixed(2)}`,"Z").join(" "),w=e.map((v,S)=>({cx:Number(o[S].toFixed(2)),cy:Number(c[S].toFixed(2)),label:v.label,average:Number(v.average.toFixed(1))})),_=[5,4,3,2,1].map(v=>{const S=(v-1)/4,p=a-S*l;return{value:v,y:Number(p.toFixed(2))}});return{width:t,height:n,path:u,areaPath:f,points:w,baselineY:a,yTicks:_}}function ol(){return new Date().toISOString().slice(0,10)}function Pc({session:e}){var H,j;const{isConfigured:t,mode:n,isAuthenticated:r}=Ut(),i=n==="demo"||!r,[l,a]=y.useState([]),[o,c]=y.useState([]),[u,m]=y.useState(""),[h,f]=y.useState(!1),[w,_]=y.useState(!1),[v,S]=y.useState(null),[p,d]=y.useState(!1),[g,x]=y.useState(null),[C,E]=y.useState(null),[M,D]=y.useState([]),[ee,O]=y.useState(null),[N,W]=y.useState(!1),[U,I]=y.useState(null),[J,ie]=y.useState(ol()),[le,P]=y.useState(4),[R,B]=y.useState(""),[se,ae]=y.useState(""),T=y.useId(),V=y.useMemo(()=>l.find(b=>b.id===u)??null,[l,u]),Y=y.useMemo(()=>mg(o),[o]),$=y.useMemo(()=>Y?_g(Y.points):null,[Y]),X=y.useCallback(async()=>{if(!t){a([]),m("");return}f(!0),E(null);try{const{data:b,error:z}=await co();if(z)throw z;const G=(b??[]).filter(Z=>Z.user_id===e.user.id);if(a(G),G.length===0){m(""),c([]);return}m(Z=>{var pe;return Z&&G.some(ce=>ce.id===Z)?Z:((pe=G[0])==null?void 0:pe.id)??""})}catch(b){E(b instanceof Error?b.message:"Unable to load goals for reflections right now."),a([]),m("")}finally{f(!1)}},[e,t,i]),re=y.useCallback(async b=>{if(!b){c([]),D([]),O(null),I(null);return}if(!t){c([]),D([]),O(null),I(null);return}_(!0),E(null);try{const{data:z,error:G}=await Jm(b);if(G)throw G;c(z??[])}catch(z){E(z instanceof Error?z.message:"Unable to load your reflection history. Please try again shortly."),c([]),D([]),O(null),I(null)}finally{_(!1)}},[e,t,i]);y.useEffect(()=>{if(!t&&!i){a([]),c([]),D([]),O(null),I(null),m("");return}X()},[(H=e==null?void 0:e.user)==null?void 0:H.id,t,i,X]),y.useEffect(()=>{if(!u){c([]),D([]),O(null),I(null);return}re(u)},[u,re]),y.useEffect(()=>{S(null)},[u]);const fe=b=>{m(b.target.value)},A=async b=>{if(b.preventDefault(),!t&&!i){S({kind:"error",message:"Connect Supabase to save reflections."});return}if(!u){S({kind:"error",message:"Choose a goal before saving a reflection."});return}const z=R.trim(),G=se.trim();if(!z){S({kind:"error",message:"Capture at least one highlight from your latest progress."});return}d(!0),S(null);try{const{data:Z,error:pe}=await Zm({goal_id:u,user_id:e.user.id,entry_date:J,confidence:le,highlight:z,challenge:G||null});if(pe)throw pe;Z&&c(ce=>[Z,...ce.filter(Me=>Me.id!==Z.id)]),S({kind:"success",message:"Reflection saved. Keep momentum insights flowing."}),ie(ol()),P(4),B(""),ae("")}catch(Z){S({kind:"error",message:Z instanceof Error?Z.message:"Unable to save this reflection. Please try again."})}finally{d(!1)}},K=async b=>{if(!t&&!i){S({kind:"error",message:"Connect Supabase to manage saved reflections."});return}if(window.confirm("Remove this reflection? This action cannot be undone.")){x(b.id),S(null);try{const{error:G}=await eg(b.id);if(G)throw G;c(Z=>Z.filter(pe=>pe.id!==b.id)),S({kind:"success",message:"Reflection removed."})}catch(G){S({kind:"error",message:G instanceof Error?G.message:"Unable to delete the reflection right now."})}finally{x(null)}}};y.useEffect(()=>{if(!u||o.length===0){D([]),O(null),I(null),W(!1);return}let b=!1;W(!0),I(null);const z=V==null?void 0:V.title;return(async()=>{try{const{data:G,source:Z}=await tg(u,z,o);if(b)return;D(G??[]),O(Z)}catch(G){if(b)return;D([]),O(null),I(G instanceof Error?G.message:"Unable to translate reflections into prompts right now.")}finally{if(b)return;W(!1)}})(),()=>{b=!0}},[u,o,V==null?void 0:V.title]);const k=((j=gi[le])==null?void 0:j.description)??"",F=y.useMemo(()=>l.length>0&&!!u,[l,u]);return s.jsxs("section",{className:"goal-reflection-journal",children:[s.jsxs("header",{className:"goal-reflection-journal__header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Goal reflection journal"}),s.jsx("p",{children:"Log weekly insights for each goal, capture what worked, and note the challenges that need support. The confidence score keeps your focus tuned to momentum swings."})]}),l.length>0?s.jsxs("label",{className:"goal-reflection-journal__goal-picker",children:[s.jsx("span",{children:"Viewing"}),s.jsx("select",{value:u,onChange:fe,disabled:h,children:l.map(b=>s.jsx("option",{value:b.id,children:b.title},b.id))})]}):null]}),i?s.jsx("p",{className:"goal-reflection-journal__status goal-reflection-journal__status--info",children:"Reflections are stored locally while you explore the demo workspace. Add Supabase credentials to sync journal entries across devices."}):t?null:s.jsx("p",{className:"goal-reflection-journal__status goal-reflection-journal__status--warning",children:"Connect Supabase to persist reflections and collaborate with your team."}),v?s.jsx("p",{className:`goal-reflection-journal__status goal-reflection-journal__status--${v.kind}`,role:"status",children:v.message}):null,C?s.jsx("p",{className:"goal-reflection-journal__status goal-reflection-journal__status--error",children:C}):null,!t&&!i?s.jsx("p",{className:"goal-reflection-journal__empty",children:"Add your Supabase credentials to unlock the reflection journal and keep weekly reviews in sync."}):l.length===0&&!h?s.jsx("p",{className:"goal-reflection-journal__empty",children:"Create a goal first, then return here to log highlights, challenges, and confidence."}):s.jsxs("div",{className:"goal-reflection-journal__layout",children:[s.jsxs("form",{className:"goal-reflection-journal__form",onSubmit:A,children:[s.jsx("h3",{children:"Log a reflection"}),s.jsxs("label",{className:"goal-reflection-journal__field",children:[s.jsx("span",{children:"Date"}),s.jsx("input",{type:"date",value:J,max:ol(),onChange:b=>ie(b.target.value),required:!0,disabled:!F})]}),s.jsxs("label",{className:"goal-reflection-journal__field",children:[s.jsx("span",{children:"Confidence"}),s.jsx("input",{type:"range",min:1,max:5,step:1,value:le,onChange:b=>P(Number(b.target.value)),disabled:!F}),s.jsxs("div",{className:"goal-reflection-journal__confidence",children:[s.jsx("strong",{children:Tc(le)}),s.jsx("span",{children:k})]})]}),s.jsxs("label",{className:"goal-reflection-journal__field",children:[s.jsx("span",{children:"Highlight"}),s.jsx("textarea",{value:R,onChange:b=>B(b.target.value),placeholder:"Wins, breakthroughs, or learning moments from this week.",rows:3,disabled:!F,required:!0})]}),s.jsxs("label",{className:"goal-reflection-journal__field",children:[s.jsx("span",{children:"Challenge"}),s.jsx("textarea",{value:se,onChange:b=>ae(b.target.value),placeholder:"Roadblocks to unblock next week. Optional but encouraged.",rows:3,disabled:!F})]}),s.jsx("button",{type:"submit",className:"goal-reflection-journal__submit",disabled:!F||p,children:p?"Saving…":"Save reflection"})]}),s.jsxs("div",{className:"goal-reflection-journal__history",children:[s.jsxs("div",{className:"goal-reflection-journal__history-header",children:[s.jsx("h3",{children:"Reflection history"}),s.jsx("p",{children:V?`Tracking ${o.length} reflection${o.length===1?"":"s"} for ${V.title}.`:"Select a goal to view its reflection history."})]}),s.jsxs("article",{className:"goal-reflection-journal__trend-card",children:[s.jsxs("header",{className:"goal-reflection-journal__trend-header",children:[s.jsx("h4",{children:"Confidence trendline"}),s.jsx("p",{children:w?"Crunching confidence history…":(Y==null?void 0:Y.summary)??"Log reflections each month to reveal how confidence shifts over time."})]}),w?s.jsx("p",{className:"goal-reflection-journal__trend-empty",children:"Loading trend…"}):Y&&$?s.jsxs(s.Fragment,{children:[s.jsx("figure",{className:"goal-reflection-journal__trend-chart",children:s.jsxs("svg",{viewBox:`0 0 ${$.width} ${$.height}`,role:"img","aria-labelledby":T,children:[s.jsx("title",{id:T,children:"Confidence trendline"}),s.jsxs("desc",{children:["Monthly average confidence scores for ",(V==null?void 0:V.title)??"the selected goal","."]}),s.jsx("defs",{children:s.jsxs("linearGradient",{id:`${T}-gradient`,x1:"0",y1:"0",x2:"0",y2:"1",children:[s.jsx("stop",{offset:"0%",stopColor:"#2563eb",stopOpacity:"0.4"}),s.jsx("stop",{offset:"100%",stopColor:"#2563eb",stopOpacity:"0"})]})}),s.jsx("g",{className:"goal-reflection-journal__trend-grid",children:$.yTicks.map(b=>s.jsxs("g",{children:[s.jsx("line",{x1:In,x2:$.width-In,y1:b.y,y2:b.y,className:"goal-reflection-journal__trend-gridline"}),s.jsx("text",{x:In-14,y:b.y+4,className:"goal-reflection-journal__trend-axis-label",children:b.value})]},b.value))}),s.jsx("path",{d:$.areaPath,fill:`url(#${T}-gradient)`}),s.jsx("path",{d:$.path,fill:"none",stroke:"#2563eb",strokeWidth:3,strokeLinejoin:"round",strokeLinecap:"round"}),$.points.map(b=>s.jsxs("g",{className:"goal-reflection-journal__trend-point",children:[s.jsx("circle",{cx:b.cx,cy:b.cy,r:10,fill:"none",stroke:"#bfdbfe",strokeWidth:2}),s.jsx("circle",{cx:b.cx,cy:b.cy,r:6,fill:"#2563eb"})]},b.label)),s.jsx("line",{x1:In,x2:$.width-In,y1:$.baselineY,y2:$.baselineY,className:"goal-reflection-journal__trend-baseline"})]})}),s.jsx("ul",{className:"goal-reflection-journal__trend-legend",children:Y.points.map(b=>s.jsxs("li",{children:[s.jsx("span",{className:"goal-reflection-journal__trend-month",children:b.label}),s.jsx("strong",{className:"goal-reflection-journal__trend-average",children:b.average.toFixed(1)}),s.jsx("span",{className:"goal-reflection-journal__trend-count",children:b.entryCount===1?"1 entry":`${b.entryCount} entries`})]},b.monthKey))})]}):s.jsx("p",{className:"goal-reflection-journal__trend-empty",children:"Log at least one reflection per month to unlock the confidence trendline."})]}),s.jsxs("article",{className:"goal-reflection-journal__prompts-card",children:[s.jsxs("header",{className:"goal-reflection-journal__prompts-header",children:[s.jsx("h4",{children:"AI-assisted follow-up prompts"}),s.jsx("p",{children:"Turn your latest reflections into next-step coaching experiments that keep the goal moving."})]}),U?s.jsx("p",{className:"goal-reflection-journal__prompts-status goal-reflection-journal__prompts-status--error",children:U}):null,N?s.jsx("p",{className:"goal-reflection-journal__prompts-status",children:"Generating tailored prompts…"}):M.length>0?s.jsx("ul",{className:"goal-reflection-journal__prompts-list",children:M.map(b=>s.jsxs("li",{className:`goal-reflection-journal__prompt goal-reflection-journal__prompt--${b.confidenceSignal}`,children:[s.jsx("span",{className:"goal-reflection-journal__prompt-focus",children:b.focus}),s.jsx("h5",{children:b.title}),s.jsx("p",{children:b.summary}),s.jsx("ol",{children:b.actions.map((z,G)=>s.jsx("li",{children:z},G))})]},b.id))}):s.jsx("p",{className:"goal-reflection-journal__prompts-status",children:"Add a new reflection to unlock tailored next steps for your weekly review."}),ee==="demo"?s.jsxs("p",{className:"goal-reflection-journal__prompts-footnote",children:["Prompts are generated locally so you can iterate without Supabase. Connect your Supabase Edge Function named ",s.jsx("code",{children:"generate-reflection-prompts"})," to power AI-authored guidance for your team."]}):null]}),w?s.jsx("p",{className:"goal-reflection-journal__empty",children:"Loading reflections…"}):o.length===0?s.jsx("p",{className:"goal-reflection-journal__empty",children:"Log your first reflection to start visualizing confidence swings and weekly momentum."}):s.jsx("ul",{className:"goal-reflection-journal__list",children:o.map(b=>{const z=Tc(b.confidence),G=b.confidence?gi[b.confidence]:void 0;return s.jsxs("li",{className:"goal-reflection-journal__item",children:[s.jsxs("header",{children:[s.jsxs("div",{children:[s.jsx("h4",{children:hg(b.entry_date)}),s.jsx("p",{className:"goal-reflection-journal__confidence-label",children:z}),G?s.jsx("p",{className:"goal-reflection-journal__confidence-description",children:G.description}):null]}),s.jsx("button",{type:"button",onClick:()=>void K(b),className:"goal-reflection-journal__delete",disabled:g===b.id||p,children:g===b.id?"Removing…":"Delete"})]}),s.jsxs("div",{className:"goal-reflection-journal__note",children:[s.jsx("h5",{children:"Highlight"}),s.jsx("p",{children:b.highlight})]}),b.challenge?s.jsxs("div",{className:"goal-reflection-journal__note goal-reflection-journal__note--challenge",children:[s.jsx("h5",{children:"Challenge"}),s.jsx("p",{children:b.challenge})]}):null]},b.id)})})]})]})]})}async function vg(e,t=12){return ve()?ye().from("checkins").select("*").eq("user_id",e).order("date",{ascending:!1}).limit(t).returns():{data:Am(e||ge,t),error:null}}async function Mc(e){return ve()?ye().from("checkins").insert(e).select().returns().single():{data:Im(e),error:null}}async function wg(e,t){return ve()?ye().from("checkins").update(t).eq("id",e).select().returns().single():{data:Fm(e,t),error:null}}const xe=[{key:"spirituality_community",label:"Spirituality & Community"},{key:"finance_wealth",label:"Finance & Wealth"},{key:"love_relations",label:"Love & Relations"},{key:"fun_creativity",label:"Fun & Creativity"},{key:"career_development",label:"Career & Self Development"},{key:"health_fitness",label:"Health & Fitness"},{key:"family_friends",label:"Family & Friends"},{key:"living_spaces",label:"Living Spaces"}],Tt=[{id:"q1",categoryKey:"spirituality_community",text:"How connected do you feel to your spiritual or community practices?",imageNumber:1},{id:"q2",categoryKey:"spirituality_community",text:"How often do you engage in activities that nurture your sense of purpose?",imageNumber:2},{id:"q3",categoryKey:"spirituality_community",text:"How supported do you feel by your community or spiritual circle?",imageNumber:3},{id:"q4",categoryKey:"finance_wealth",text:"How satisfied are you with your current financial situation?",imageNumber:4},{id:"q5",categoryKey:"finance_wealth",text:"How well are you managing your savings and investments?",imageNumber:5},{id:"q6",categoryKey:"finance_wealth",text:"How confident do you feel about your financial future?",imageNumber:6},{id:"q7",categoryKey:"love_relations",text:"How fulfilling is your romantic relationship or dating life?",imageNumber:7},{id:"q8",categoryKey:"love_relations",text:"How well do you communicate with your romantic partner?",imageNumber:8},{id:"q9",categoryKey:"love_relations",text:"How much quality time do you spend with your loved one?",imageNumber:9},{id:"q10",categoryKey:"fun_creativity",text:"How much time do you dedicate to hobbies and creative pursuits?",imageNumber:10},{id:"q11",categoryKey:"fun_creativity",text:"How often do you engage in activities that bring you joy?",imageNumber:11},{id:"q12",categoryKey:"fun_creativity",text:"How satisfied are you with your work-life balance for fun activities?",imageNumber:12},{id:"q13",categoryKey:"career_development",text:"How satisfied are you with your career progress?",imageNumber:13},{id:"q14",categoryKey:"career_development",text:"How much are you learning and growing in your professional life?",imageNumber:14},{id:"q15",categoryKey:"career_development",text:"How aligned is your work with your personal goals?",imageNumber:15},{id:"q16",categoryKey:"health_fitness",text:"How would you rate your overall physical health?",imageNumber:16},{id:"q17",categoryKey:"health_fitness",text:"How consistent are you with exercise and movement?",imageNumber:17},{id:"q18",categoryKey:"health_fitness",text:"How well are you taking care of your nutrition and sleep?",imageNumber:18},{id:"q19",categoryKey:"family_friends",text:"How strong is your connection with family members?",imageNumber:19},{id:"q20",categoryKey:"family_friends",text:"How often do you spend quality time with friends?",imageNumber:20},{id:"q21",categoryKey:"family_friends",text:"How supported do you feel by your family and friends?",imageNumber:21},{id:"q22",categoryKey:"living_spaces",text:"How comfortable and organized is your living environment?",imageNumber:22},{id:"q23",categoryKey:"living_spaces",text:"How much does your home reflect your personality and values?",imageNumber:23},{id:"q24",categoryKey:"living_spaces",text:"How satisfied are you with your current living situation?",imageNumber:24}],uo=10,Cr=320,Lc=5,Ws=new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",year:"numeric"});function Rc(e){return e.toISOString().slice(0,10)}function vn(){return xe.reduce((e,t)=>(e[t.key]=5,e),{})}function Kn(e){const t=vn();if(e&&typeof e=="object"&&!Array.isArray(e)){const n=e;for(const r of xe){const i=n[r.key];t[r.key]=typeof i=="number"?ns(i):0}}return t}function ns(e){return Number.isNaN(e)?0:Math.min(uo,Math.max(0,Math.round(e)))}function yi(e){const t=xe.reduce((n,r)=>n+(e[r.key]??0),0);return Number((t/xe.length).toFixed(1))}function xg(e){if(e.length<2)return null;const[t,n]=e,r=Kn(t.scores),i=Kn(n.scores),l=xe.map(_=>{const v=ns(r[_.key]??0),S=ns(i[_.key]??0);return{key:_.key,label:_.label,delta:v-S,latest:v,previous:S}}),a=l.filter(_=>_.delta>0).sort((_,v)=>v.delta-_.delta).slice(0,3),o=l.filter(_=>_.delta<0).sort((_,v)=>_.delta-v.delta).slice(0,3),c=l.filter(_=>_.delta===0).length,u=yi(r),m=yi(i),h=Number((u-m).toFixed(1)),f=Math.abs(h)<.05?0:h,w=f>0?"up":f<0?"down":"steady";return{previousLabel:Ws.format(new Date(n.date)),latestAverage:u,previousAverage:m,averageDelta:f,averageDirection:w,improvements:a,declines:o,stableCount:c}}function Ac(e){return e===0?"0":`${e>0?"+":"−"}${Math.abs(e)}`}function kg(e,t=1){if(Math.abs(e)<.05)return"0";const n=Math.abs(e).toFixed(t);return`${e>0?"+":"−"}${n}`}function cl(e){return Math.round((e-1)*5)}function Ic(e){const t=Cr/2,n=t-36,r=(c,u)=>{const m=Math.PI*2*u/xe.length-Math.PI/2,h=t+Math.cos(m)*n*c,f=t+Math.sin(m)*n*c;return{x:h,y:f}},i=xe.map((c,u)=>{const h=ns(e[c.key]??0)/uo,{x:f,y:w}=r(h,u);return`${f},${w}`}).join(" "),l=Array.from({length:Lc},(c,u)=>{const m=(u+1)/Lc,h=xe.map((f,w)=>{const{x:_,y:v}=r(m,w);return`${_},${v}`}).join(" ");return{ratio:m,points:h}}),a=xe.map((c,u)=>{const{x:m,y:h}=r(1,u);return{key:c.key,x1:t,y1:t,x2:m,y2:h}}),o=xe.map((c,u)=>{const m=n+20,h=Math.PI*2*u/xe.length-Math.PI/2,f=t+Math.cos(h)*m,w=t+Math.sin(h)*m;let _;Math.abs(Math.cos(h))<.2?_="middle":Math.cos(h)>0?_="start":_="end";let v;return Math.sin(h)>.2?v="text-before-edge":Math.sin(h)<-.2?v="text-after-edge":v="middle",{key:c.key,text:c.label,x:f,y:w,anchor:_,baseline:v}});return{polygonPoints:i,levelPolygons:l,axes:a,labels:o}}function Fc({session:e}){var fe;const{isConfigured:t,mode:n,isAuthenticated:r}=Ut(),i=n==="demo"||!r,[l,a]=y.useState([]),[o,c]=y.useState(!1),[u,m]=y.useState(!1),[h,f]=y.useState(null),[w,_]=y.useState(null),[v,S]=y.useState(()=>Rc(new Date)),[p,d]=y.useState(()=>vn()),[g,x]=y.useState(null),[C,E]=y.useState(!1),[M,D]=y.useState(0),[ee,O]=y.useState(new Map),[N,W]=y.useState(null),[U,I]=y.useState(""),J=y.useCallback(async()=>{if(!t&&!i){a([]),x(null);return}c(!0),f(null);try{const{data:A,error:K}=await vg(e.user.id);if(K)throw K;const k=A??[];a(k),k.length>0?x(F=>F??k[0].id):x(null)}catch(A){f(A instanceof Error?A.message:"Unable to load check-in history right now. Please try again soon.")}finally{c(!1)}},[t,i,e.user.id]);y.useEffect(()=>{t&&J()},[(fe=e==null?void 0:e.user)==null?void 0:fe.id,t,i,J]),y.useEffect(()=>{!t&&!i&&(a([]),x(null))},[t,i]),y.useEffect(()=>{if(l.length===0){d(vn());return}const A=l[0];d(Kn(A.scores))},[l]);const ie=y.useMemo(()=>g?l.find(A=>A.id===g)??null:l[0]??null,[g,l]),le=y.useMemo(()=>ie?Kn(ie.scores):null,[ie]),P=y.useMemo(()=>le?Ic(le):null,[le]),R=y.useMemo(()=>le?yi(le):0,[le]),B=y.useMemo(()=>xg(l),[l]),se=A=>K=>{const k=ns(Number(K.target.value));d(F=>({...F,[A]:k}))},ae=async A=>{if(A.preventDefault(),f(null),_(null),!e){f("Sign in to record your life wheel check-ins.");return}if(!t&&!i){f("Supabase credentials are missing. Update your environment variables to continue.");return}m(!0);try{const K=l.find(k=>k.date===v);if(K){const{data:k,error:F}=await wg(K.id,{date:v,scores:p});if(F)throw F;k&&(a(H=>H.map(b=>b.id===k.id?k:b).sort((b,z)=>z.date.localeCompare(b.date))),x(k.id)),_("Check-in updated. Your radar view is refreshed.")}else{const{data:k,error:F}=await Mc({user_id:e.user.id,date:v,scores:p});if(F)throw F;k&&(a(H=>[k,...H].sort((b,z)=>z.date.localeCompare(b.date))),x(k.id)),_("Check-in saved! Revisit the history to spot your trends.")}}catch(K){f(K instanceof Error?K.message:"Unable to save your check-in right now.")}finally{m(!1)}},T=()=>{if(l.length===0){d(vn());return}d(Kn(l[0].scores))},V=()=>{E(!0),D(0),O(new Map),W(null),I(""),d(vn())},Y=()=>{if(N===null)return;const A=Tt[M],K={questionId:A.id,score:N,customNote:U.trim()},k=new Map(ee);k.set(A.id,K),O(k);const F=Tt.filter(H=>H.categoryKey===A.categoryKey).map(H=>{var j;return((j=k.get(H.id))==null?void 0:j.score)||0}).filter(H=>H>0);if(F.length>0){const H=F.reduce((b,z)=>b+z,0)/F.length,j=cl(H);d(b=>({...b,[A.categoryKey]:j}))}M<Tt.length-1?(D(M+1),W(null),I("")):$(k)},$=async A=>{m(!0),f(null),_(null);try{const K=vn();xe.forEach(H=>{const b=Tt.filter(z=>z.categoryKey===H.key).map(z=>{var G;return((G=A.get(z.id))==null?void 0:G.score)||0}).filter(z=>z>0);if(b.length>0){const z=b.reduce((G,Z)=>G+Z,0)/b.length;K[H.key]=cl(z)}});const{data:k,error:F}=await Mc({user_id:e.user.id,date:v,scores:K});if(F)throw F;k&&(a(H=>[k,...H].sort((b,z)=>z.date.localeCompare(b.date))),x(k.id)),_("Wellbeing check-in completed! Your life wheel has been updated."),E(!1)}catch(K){f(K instanceof Error?K.message:"Unable to save your check-in.")}finally{m(!1)}},X=y.useMemo(()=>{if(!C)return null;const A=vn();return xe.forEach(K=>{const F=Tt.filter(H=>H.categoryKey===K.key).map(H=>{var j;return((j=ee.get(H.id))==null?void 0:j.score)||0}).filter(H=>H>0);if(F.length>0){const H=F.reduce((j,b)=>j+b,0)/F.length;A[K.key]=cl(H)}}),A},[C,ee]),re=y.useMemo(()=>X?Ic(X):null,[X]);if(C){const A=Tt[M],K=(M+1)/Tt.length*100;return s.jsx("section",{className:"life-wheel life-wheel--questionnaire",children:s.jsxs("div",{className:"questionnaire-container",children:[s.jsxs("div",{className:"questionnaire-progress",children:[s.jsx("div",{className:"questionnaire-progress__bar",style:{width:`${K}%`}}),s.jsxs("span",{className:"questionnaire-progress__text",children:["Question ",M+1," of ",Tt.length]})]}),s.jsxs("div",{className:"questionnaire-content",children:[s.jsx("div",{className:"questionnaire-image",children:A.imageNumber}),s.jsx("h3",{className:"questionnaire-question",children:A.text}),s.jsxs("div",{className:"questionnaire-options",children:[s.jsxs("button",{type:"button",className:`questionnaire-option ${N===1?"questionnaire-option--selected":""}`,onClick:()=>W(1),children:[s.jsx("span",{className:"questionnaire-option__label",children:"Not Well"}),s.jsx("span",{className:"questionnaire-option__score",children:"1"})]}),s.jsxs("button",{type:"button",className:`questionnaire-option ${N===2?"questionnaire-option--selected":""}`,onClick:()=>W(2),children:[s.jsx("span",{className:"questionnaire-option__label",children:"Okay"}),s.jsx("span",{className:"questionnaire-option__score",children:"2"})]}),s.jsxs("button",{type:"button",className:`questionnaire-option ${N===3?"questionnaire-option--selected":""}`,onClick:()=>W(3),children:[s.jsx("span",{className:"questionnaire-option__label",children:"Excellent"}),s.jsx("span",{className:"questionnaire-option__score",children:"3"})]})]}),s.jsxs("div",{className:"questionnaire-note",children:[s.jsx("label",{htmlFor:"custom-note",children:"Add your thoughts (optional)"}),s.jsx("textarea",{id:"custom-note",value:U,onChange:k=>I(k.target.value),placeholder:"Share any additional insights about this area of your life...",rows:3})]}),s.jsx("button",{type:"button",className:"questionnaire-submit",onClick:Y,disabled:N===null||u,children:u?"Saving...":M===Tt.length-1?"Complete Check-in":"Next Question"})]},A.id),s.jsxs("div",{className:"questionnaire-wheel",children:[s.jsx("h4",{children:"Your Life Wheel"}),re?s.jsxs("svg",{className:"life-wheel__radar",viewBox:`0 0 ${Cr} ${Cr}`,role:"img","aria-label":"Your life wheel progress",children:[s.jsx("g",{className:"life-wheel__radar-grid",children:re.levelPolygons.map(k=>s.jsx("polygon",{points:k.points},k.ratio))}),s.jsx("g",{className:"life-wheel__radar-axes",children:re.axes.map(k=>s.jsx("line",{x1:k.x1,y1:k.y1,x2:k.x2,y2:k.y2},k.key))}),s.jsx("polygon",{className:"life-wheel__radar-shape",points:re.polygonPoints}),s.jsx("g",{className:"life-wheel__radar-labels",children:re.labels.map(k=>s.jsx("text",{x:k.x,y:k.y,textAnchor:k.anchor,dominantBaseline:k.baseline,children:k.text},k.key))})]}):s.jsx("div",{className:"life-wheel__empty",children:s.jsx("p",{children:"Your wheel will appear as you answer questions"})})]})]})})}return s.jsxs("section",{className:"life-wheel",children:[s.jsxs("header",{className:"life-wheel__header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Wellbeing Wheel Check-in"}),s.jsx("p",{children:"Take a calming questionnaire to reflect on your wellbeing across 8 life categories."})]}),s.jsx("button",{type:"button",className:"life-wheel__refresh",onClick:()=>void J(),disabled:o||!t&&!i,children:o?"Refreshing…":"Refresh history"})]}),i?s.jsx("p",{className:"life-wheel__status life-wheel__status--info",children:"Life wheel entries are stored locally in demo mode. Connect Supabase when you're ready to sync check-ins across devices."}):t?null:s.jsx("p",{className:"life-wheel__status life-wheel__status--warning",children:"Add your Supabase credentials so we can sync your check-ins across devices. Until then your entries stay local."}),h&&s.jsx("p",{className:"life-wheel__status life-wheel__status--error",children:h}),w&&s.jsx("p",{className:"life-wheel__status life-wheel__status--success",children:w}),s.jsx("div",{className:"life-wheel__start-section",children:s.jsx("button",{type:"button",className:"life-wheel__start-questionnaire",onClick:V,disabled:!t&&!i,children:"Start New Wellbeing Check-in"})}),s.jsxs("div",{className:"life-wheel__grid",children:[s.jsxs("div",{className:"life-wheel__panel life-wheel__panel--chart",children:[ie&&P?s.jsxs(s.Fragment,{children:[s.jsxs("svg",{className:"life-wheel__radar",viewBox:`0 0 ${Cr} ${Cr}`,role:"img","aria-label":`Life wheel radar chart for ${Ws.format(new Date(ie.date))}`,children:[s.jsx("g",{className:"life-wheel__radar-grid",children:P.levelPolygons.map(A=>s.jsx("polygon",{points:A.points},A.ratio))}),s.jsx("g",{className:"life-wheel__radar-axes",children:P.axes.map(A=>s.jsx("line",{x1:A.x1,y1:A.y1,x2:A.x2,y2:A.y2},A.key))}),s.jsx("polygon",{className:"life-wheel__radar-shape",points:P.polygonPoints}),s.jsx("g",{className:"life-wheel__radar-labels",children:P.labels.map(A=>s.jsx("text",{x:A.x,y:A.y,textAnchor:A.anchor,dominantBaseline:A.baseline,children:A.text},A.key))})]}),s.jsxs("div",{className:"life-wheel__snapshot",children:[s.jsx("h3",{children:Ws.format(new Date(ie.date))}),s.jsxs("p",{children:["Average score: ",s.jsx("strong",{children:R}),"/10. Track improvements by logging a new check-in whenever your priorities shift."]})]})]}):s.jsx("div",{className:"life-wheel__empty",children:s.jsx("p",{children:"Log your first check-in to unlock the radar chart and trend history."})}),s.jsxs("div",{className:"life-wheel__history",children:[s.jsx("h3",{children:"Recent check-ins"}),l.length===0?s.jsx("p",{children:"No check-ins yet. Share how each area feels to begin your streak."}):s.jsx("ul",{children:l.map(A=>{const K=ie?A.id===ie.id:!1,k=Kn(A.scores),F=yi(k);return s.jsx("li",{children:s.jsxs("button",{type:"button",className:`life-wheel__history-item ${K?"life-wheel__history-item--active":""}`,onClick:()=>x(A.id),children:[s.jsx("span",{children:Ws.format(new Date(A.date))}),s.jsxs("span",{children:[F,"/10 avg"]})]})},A.id)})})]}),s.jsxs("div",{className:"life-wheel__insights",children:[s.jsxs("div",{className:"life-wheel__insights-header",children:[s.jsx("h3",{children:"Trend insights"}),s.jsx("p",{children:B?B.averageDirection==="steady"?`Overall balance held steady compared to ${B.previousLabel}.`:`Overall balance ${B.averageDirection==="up"?"improved":"dipped"} by ${kg(B.averageDelta)} points compared to ${B.previousLabel}.`:"Log at least two check-ins to unlock week-over-week highlights."})]}),B?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"life-wheel__insights-meta",children:["Latest average ",s.jsx("strong",{children:B.latestAverage.toFixed(1)}),"/10 • Previous"," ",s.jsx("strong",{children:B.previousAverage.toFixed(1)}),"/10"]}),s.jsxs("div",{className:"life-wheel__insight-cards",children:[s.jsxs("section",{className:"life-wheel__insight-card life-wheel__insight-card--lift",children:[s.jsx("h4",{children:"Where you gained momentum"}),B.improvements.length>0?s.jsx("ul",{className:"life-wheel__insight-list",children:B.improvements.map(A=>s.jsxs("li",{children:[s.jsx("span",{className:"life-wheel__insight-label",children:A.label}),s.jsx("span",{className:"life-wheel__insight-delta life-wheel__insight-delta--positive",children:Ac(A.delta)}),s.jsxs("span",{className:"life-wheel__insight-score",children:["Now ",A.latest,"/10"]})]},A.key))}):s.jsx("p",{className:"life-wheel__insight-empty",children:"No gains yet—celebrate a win with your next check-in."})]}),s.jsxs("section",{className:"life-wheel__insight-card life-wheel__insight-card--dip",children:[s.jsx("h4",{children:"Where to focus next"}),B.declines.length>0?s.jsx("ul",{className:"life-wheel__insight-list",children:B.declines.map(A=>s.jsxs("li",{children:[s.jsx("span",{className:"life-wheel__insight-label",children:A.label}),s.jsx("span",{className:"life-wheel__insight-delta life-wheel__insight-delta--negative",children:Ac(A.delta)}),s.jsxs("span",{className:"life-wheel__insight-score",children:["Now ",A.latest,"/10"]})]},A.key))}):s.jsx("p",{className:"life-wheel__insight-empty",children:"No dips detected—keep nurturing these areas."})]})]}),B.stableCount>0?s.jsxs("p",{className:"life-wheel__insights-stable",children:[B.stableCount," ",B.stableCount===1?"area":"areas"," held steady. Consistency counts."]}):null]}):null]})]}),s.jsx("div",{className:"life-wheel__panel life-wheel__panel--form",children:s.jsxs("form",{className:"life-wheel__form",onSubmit:ae,children:[s.jsxs("div",{className:"life-wheel__field",children:[s.jsx("label",{htmlFor:"life-wheel-date",children:"Check-in date"}),s.jsx("input",{id:"life-wheel-date",type:"date",value:v,max:Rc(new Date),onChange:A=>S(A.target.value),required:!0})]}),s.jsx("div",{className:"life-wheel__field-group",children:xe.map(A=>s.jsxs("div",{className:"life-wheel__field",children:[s.jsx("label",{htmlFor:`life-wheel-${A.key}`,children:A.label}),s.jsxs("div",{className:"life-wheel__slider",children:[s.jsx("input",{id:`life-wheel-${A.key}`,type:"range",min:0,max:uo,step:1,value:p[A.key]??0,onChange:se(A.key)}),s.jsx("span",{children:p[A.key]??0})]})]},A.key))}),s.jsxs("div",{className:"life-wheel__actions",children:[s.jsx("button",{type:"button",className:"life-wheel__secondary",onClick:T,children:"Use latest scores"}),s.jsx("button",{type:"submit",className:"life-wheel__primary",disabled:u,children:u?"Saving…":"Save check-in"})]})]})})]})]})}const Bs=400,zc=5;function bg(){const e=Bs/2,t=e-40;return xe.map((n,r)=>{const i=Math.PI*2*r/xe.length-Math.PI/2,l=Math.PI*2*(r+1)/xe.length-Math.PI/2,a=(i+l)/2,o=e+Math.cos(i)*t,c=e+Math.sin(i)*t,u=e+Math.cos(l)*t,m=e+Math.sin(l)*t,h=`M ${e} ${e} L ${o} ${c} A ${t} ${t} 0 0 1 ${u} ${m} Z`,f=t+24,w=e+Math.cos(a)*f,_=e+Math.sin(a)*f;let v;Math.abs(Math.cos(a))<.2?v="middle":Math.cos(a)>0?v="start":v="end";let S;return Math.sin(a)>.2?S="text-before-edge":Math.sin(a)<-.2?S="text-after-edge":S="middle",{categoryKey:n.key,label:n.label,path:h,labelX:w,labelY:_,anchor:v,baseline:S,angle:a}})}function jg({onCategorySelect:e,selectedCategory:t}){const[n,r]=y.useState(null),i=y.useMemo(()=>bg(),[]),l=Bs/2,a=l-40,o=f=>{e(f)},c=f=>{r(f)},u=()=>{r(null)},m=Array.from({length:zc},(f,w)=>{const _=(w+1)/zc,v=a*_,S=xe.map((p,d)=>{const g=Math.PI*2*d/xe.length-Math.PI/2,x=l+Math.cos(g)*v,C=l+Math.sin(g)*v;return`${x},${C}`}).join(" ");return{ratio:_,points:S}}),h=xe.map((f,w)=>{const _=Math.PI*2*w/xe.length-Math.PI/2,v=l+Math.cos(_)*a,S=l+Math.sin(_)*a;return{key:f.key,x1:l,y1:l,x2:v,y2:S}});return s.jsx("div",{className:"interactive-life-wheel",children:s.jsxs("svg",{className:"interactive-life-wheel__svg",viewBox:`0 0 ${Bs} ${Bs}`,role:"img","aria-label":"Interactive life wheel - click a slice to add a goal",children:[s.jsx("g",{className:"interactive-life-wheel__grid",children:m.map((f,w)=>s.jsx("polygon",{points:f.points},w))}),s.jsx("g",{className:"interactive-life-wheel__axes",children:h.map(f=>s.jsx("line",{x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2},f.key))}),s.jsx("g",{className:"interactive-life-wheel__slices",children:i.map(f=>{const w=t===f.categoryKey,_=n===f.categoryKey,v=`interactive-life-wheel__slice ${w?"interactive-life-wheel__slice--selected":""} ${_?"interactive-life-wheel__slice--hovered":""}`;return s.jsx("path",{d:f.path,className:v,onClick:()=>o(f.categoryKey),onMouseEnter:()=>c(f.categoryKey),onMouseLeave:u,role:"button","aria-label":`${f.label} - click to add a goal`,tabIndex:0,onKeyDown:S=>{(S.key==="Enter"||S.key===" ")&&(S.preventDefault(),o(f.categoryKey))}},f.categoryKey)})}),s.jsx("g",{className:"interactive-life-wheel__labels",children:i.map(f=>s.jsx("text",{x:f.labelX,y:f.labelY,textAnchor:f.anchor,dominantBaseline:f.baseline,className:"interactive-life-wheel__label",style:{pointerEvents:"none"},children:f.label},f.categoryKey))})]})})}const Sg={spirituality_community:{title:"Spirituality & Community",description:"Connect with your spiritual practices and community involvement.",examples:["Develop a daily meditation practice","Join a community service group","Explore spiritual teachings"],icon:"🙏"},finance_wealth:{title:"Finance & Wealth",description:"Build financial security and grow your wealth.",examples:["Save for retirement","Create a budget plan","Invest in financial education"],icon:"💰"},love_relations:{title:"Love & Relations",description:"Nurture romantic relationships and intimate connections.",examples:["Plan regular date nights","Improve communication skills","Build emotional intimacy"],icon:"❤️"},fun_creativity:{title:"Fun & Creativity",description:"Express yourself creatively and enjoy recreational activities.",examples:["Learn a musical instrument","Start a creative hobby","Plan adventure activities"],icon:"🎨"},career_development:{title:"Career & Self Development",description:"Advance your career and invest in personal growth.",examples:["Earn a professional certification","Develop leadership skills","Network with industry professionals"],icon:"📈"},health_fitness:{title:"Health & Fitness",description:"Improve your physical health and fitness.",examples:["Train for a 5K race","Establish a workout routine","Improve nutrition habits"],icon:"💪"},family_friends:{title:"Family & Friends",description:"Strengthen bonds with family and friends.",examples:["Schedule regular family time","Reconnect with old friends","Create family traditions"],icon:"👨‍👩‍👧‍👦"},living_spaces:{title:"Living Spaces",description:"Create a comfortable and organized living environment.",examples:["Declutter and organize home","Improve home decor","Create a peaceful workspace"],icon:"🏠"}};function Ng({categoryKey:e,onAddGoal:t}){if(!e)return s.jsxs("div",{className:"category-info-card category-info-card--empty",children:[s.jsx("div",{className:"category-info-card__icon",children:"🎯"}),s.jsx("h3",{children:"Select a Life Area"}),s.jsx("p",{children:"Click on a slice of the life wheel to explore that area and add goals."})]});const n=Sg[e];return s.jsxs("div",{className:"category-info-card",children:[s.jsxs("div",{className:"category-info-card__header",children:[s.jsx("span",{className:"category-info-card__icon",children:n.icon}),s.jsx("h3",{children:n.title})]}),s.jsx("p",{className:"category-info-card__description",children:n.description}),s.jsxs("div",{className:"category-info-card__examples",children:[s.jsx("h4",{children:"Goal Ideas:"}),s.jsx("ul",{children:n.examples.map((r,i)=>s.jsx("li",{children:r},i))})]}),s.jsxs("button",{type:"button",className:"category-info-card__action",onClick:t,children:["Add Goal to ",n.title]})]})}function Cg({session:e,isOpen:t,onClose:n,onSave:r,initialCategory:i}){var ee,O;const[l,a]=y.useState(()=>({title:"",description:"",lifeWheelCategory:i||"health_fitness",startDate:"",targetDate:"",estimatedDurationDays:"",timingNotes:"",statusTag:ts,steps:[],alerts:[]})),[o,c]=y.useState({title:"",description:"",dueDate:"",substeps:[]}),[u,m]=y.useState(""),[h,f]=y.useState({alertType:"reminder",alertTime:"",title:"",message:"",repeatPattern:"once",enabled:!0}),[w,_]=y.useState(!1),[v,S]=y.useState("basic"),p=N=>W=>{a(U=>({...U,[N]:W.target.value}))},d=()=>{var W;if(!((W=o.title)!=null&&W.trim()))return;const N={id:crypto.randomUUID(),title:o.title,description:o.description||"",dueDate:o.dueDate||"",substeps:o.substeps||[]};a(U=>({...U,steps:[...U.steps,N]})),c({title:"",description:"",dueDate:"",substeps:[]})},g=N=>{a(W=>({...W,steps:W.steps.filter(U=>U.id!==N)}))},x=()=>{if(!u.trim())return;const N={id:crypto.randomUUID(),title:u};c(W=>({...W,substeps:[...W.substeps||[],N]})),m("")},C=N=>{c(W=>({...W,substeps:(W.substeps||[]).filter(U=>U.id!==N)}))},E=()=>{var W;if(!((W=h.title)!=null&&W.trim())||!h.alertTime)return;const N={id:crypto.randomUUID(),alertType:h.alertType||"reminder",alertTime:h.alertTime||"",title:h.title,message:h.message||"",repeatPattern:h.repeatPattern||"once",enabled:h.enabled!==!1};a(U=>({...U,alerts:[...U.alerts,N]})),f({alertType:"reminder",alertTime:"",title:"",message:"",repeatPattern:"once",enabled:!0})},M=N=>{a(W=>({...W,alerts:W.alerts.filter(U=>U.id!==N)}))},D=async N=>{N.preventDefault(),_(!0);try{await r(l),a({title:"",description:"",lifeWheelCategory:i||"health_fitness",startDate:"",targetDate:"",estimatedDurationDays:"",timingNotes:"",statusTag:ts,steps:[],alerts:[]}),n()}catch(W){console.error("Error saving life goal:",W)}finally{_(!1)}};return t?s.jsx("div",{className:"life-goal-dialog-overlay",onClick:n,children:s.jsxs("div",{className:"life-goal-dialog",onClick:N=>N.stopPropagation(),children:[s.jsxs("header",{className:"life-goal-dialog__header",children:[s.jsx("h2",{children:"Create Life Goal"}),s.jsx("button",{type:"button",className:"life-goal-dialog__close",onClick:n,"aria-label":"Close dialog",children:"×"})]}),s.jsxs("div",{className:"life-goal-dialog__tabs",children:[s.jsx("button",{type:"button",className:`life-goal-dialog__tab ${v==="basic"?"life-goal-dialog__tab--active":""}`,onClick:()=>S("basic"),children:"Basic Info"}),s.jsxs("button",{type:"button",className:`life-goal-dialog__tab ${v==="steps"?"life-goal-dialog__tab--active":""}`,onClick:()=>S("steps"),children:["Steps (",l.steps.length,")"]}),s.jsx("button",{type:"button",className:`life-goal-dialog__tab ${v==="timing"?"life-goal-dialog__tab--active":""}`,onClick:()=>S("timing"),children:"Timing"}),s.jsxs("button",{type:"button",className:`life-goal-dialog__tab ${v==="alerts"?"life-goal-dialog__tab--active":""}`,onClick:()=>S("alerts"),children:["Alerts (",l.alerts.length,")"]})]}),s.jsxs("form",{className:"life-goal-dialog__form",onSubmit:D,children:[v==="basic"&&s.jsxs("div",{className:"life-goal-dialog__section",children:[s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Goal Title *"}),s.jsx("input",{type:"text",value:l.title,onChange:p("title"),placeholder:"e.g., Run a marathon",required:!0})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Description"}),s.jsx("textarea",{value:l.description,onChange:p("description"),placeholder:"Describe what success looks like and why this goal matters to you...",rows:4})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Life Area"}),s.jsxs("select",{value:l.lifeWheelCategory,onChange:p("lifeWheelCategory"),children:[s.jsx("option",{value:"spirituality_community",children:"Spirituality & Community"}),s.jsx("option",{value:"finance_wealth",children:"Finance & Wealth"}),s.jsx("option",{value:"love_relations",children:"Love & Relations"}),s.jsx("option",{value:"fun_creativity",children:"Fun & Creativity"}),s.jsx("option",{value:"career_development",children:"Career & Self Development"}),s.jsx("option",{value:"health_fitness",children:"Health & Fitness"}),s.jsx("option",{value:"family_friends",children:"Family & Friends"}),s.jsx("option",{value:"living_spaces",children:"Living Spaces"})]})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Status"}),s.jsx("select",{value:l.statusTag,onChange:p("statusTag"),children:xf.map(N=>s.jsx("option",{value:N.value,children:N.label},N.value))})]})]}),v==="steps"&&s.jsxs("div",{className:"life-goal-dialog__section",children:[s.jsxs("div",{className:"life-goal-dialog__steps-form",children:[s.jsx("h3",{children:"Add a Step"}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Step Title *"}),s.jsx("input",{type:"text",value:o.title||"",onChange:N=>c({...o,title:N.target.value}),placeholder:"e.g., Complete 5K training program"})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Step Description"}),s.jsx("textarea",{value:o.description||"",onChange:N=>c({...o,description:N.target.value}),placeholder:"Additional details about this step...",rows:2})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Due Date"}),s.jsx("input",{type:"date",value:o.dueDate||"",onChange:N=>c({...o,dueDate:N.target.value})})]}),s.jsxs("div",{className:"life-goal-dialog__substeps",children:[s.jsx("h4",{children:"Substeps"}),s.jsxs("div",{className:"life-goal-dialog__substep-input",children:[s.jsx("input",{type:"text",value:u,onChange:N=>m(N.target.value),placeholder:"Add a substep..."}),s.jsx("button",{type:"button",onClick:x,disabled:!u.trim(),children:"Add"})]}),o.substeps&&o.substeps.length>0&&s.jsx("ul",{className:"life-goal-dialog__substep-list",children:o.substeps.map(N=>s.jsxs("li",{children:[s.jsx("span",{children:N.title}),s.jsx("button",{type:"button",onClick:()=>C(N.id),children:"Remove"})]},N.id))})]}),s.jsx("button",{type:"button",className:"life-goal-dialog__add-step",onClick:d,disabled:!((ee=o.title)!=null&&ee.trim()),children:"Add Step"})]}),l.steps.length>0&&s.jsxs("div",{className:"life-goal-dialog__steps-list",children:[s.jsxs("h3",{children:["Steps (",l.steps.length,")"]}),s.jsx("ul",{children:l.steps.map((N,W)=>s.jsxs("li",{className:"life-goal-dialog__step-item",children:[s.jsxs("div",{className:"life-goal-dialog__step-header",children:[s.jsxs("span",{className:"life-goal-dialog__step-number",children:[W+1,"."]}),s.jsx("strong",{children:N.title}),s.jsx("button",{type:"button",onClick:()=>g(N.id),children:"Remove"})]}),N.description&&s.jsx("p",{children:N.description}),N.dueDate&&s.jsxs("p",{className:"life-goal-dialog__step-date",children:["Due: ",N.dueDate]}),N.substeps.length>0&&s.jsx("ul",{className:"life-goal-dialog__step-substeps",children:N.substeps.map(U=>s.jsx("li",{children:U.title},U.id))})]},N.id))})]})]}),v==="timing"&&s.jsxs("div",{className:"life-goal-dialog__section",children:[s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Start Date"}),s.jsx("input",{type:"date",value:l.startDate,onChange:p("startDate")})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Target Date"}),s.jsx("input",{type:"date",value:l.targetDate,onChange:p("targetDate")})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Estimated Duration (days)"}),s.jsx("input",{type:"number",value:l.estimatedDurationDays,onChange:p("estimatedDurationDays"),placeholder:"e.g., 90",min:"1"})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Timing Notes"}),s.jsx("textarea",{value:l.timingNotes,onChange:p("timingNotes"),placeholder:"Add notes about your schedule, milestones, or important dates...",rows:4})]})]}),v==="alerts"&&s.jsxs("div",{className:"life-goal-dialog__section",children:[s.jsxs("div",{className:"life-goal-dialog__alert-form",children:[s.jsx("h3",{children:"Add an Alert"}),s.jsx("p",{className:"life-goal-dialog__hint",children:"Alerts work as PWA notifications and will appear even when the app is closed (on supported devices)."}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Alert Type"}),s.jsxs("select",{value:h.alertType||"reminder",onChange:N=>f({...h,alertType:N.target.value}),children:[s.jsx("option",{value:"reminder",children:"Reminder"}),s.jsx("option",{value:"milestone",children:"Milestone"}),s.jsx("option",{value:"deadline",children:"Deadline"}),s.jsx("option",{value:"custom",children:"Custom"})]})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Alert Time *"}),s.jsx("input",{type:"datetime-local",value:h.alertTime||"",onChange:N=>f({...h,alertTime:N.target.value})})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Alert Title *"}),s.jsx("input",{type:"text",value:h.title||"",onChange:N=>f({...h,title:N.target.value}),placeholder:"e.g., Time to train!"})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Alert Message"}),s.jsx("textarea",{value:h.message||"",onChange:N=>f({...h,message:N.target.value}),placeholder:"Additional message for the notification...",rows:2})]}),s.jsxs("label",{className:"life-goal-dialog__field",children:[s.jsx("span",{children:"Repeat"}),s.jsxs("select",{value:h.repeatPattern||"once",onChange:N=>f({...h,repeatPattern:N.target.value}),children:[s.jsx("option",{value:"once",children:"Once"}),s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]}),s.jsx("button",{type:"button",className:"life-goal-dialog__add-alert",onClick:E,disabled:!((O=h.title)!=null&&O.trim())||!h.alertTime,children:"Add Alert"})]}),l.alerts.length>0&&s.jsxs("div",{className:"life-goal-dialog__alerts-list",children:[s.jsxs("h3",{children:["Alerts (",l.alerts.length,")"]}),s.jsx("ul",{children:l.alerts.map(N=>s.jsxs("li",{className:"life-goal-dialog__alert-item",children:[s.jsxs("div",{className:"life-goal-dialog__alert-header",children:[s.jsx("strong",{children:N.title}),s.jsx("span",{className:"life-goal-dialog__alert-type",children:N.alertType}),s.jsx("button",{type:"button",onClick:()=>M(N.id),children:"Remove"})]}),s.jsxs("p",{className:"life-goal-dialog__alert-time",children:[new Date(N.alertTime).toLocaleString()," • ",N.repeatPattern]}),N.message&&s.jsx("p",{children:N.message})]},N.id))})]})]}),s.jsxs("div",{className:"life-goal-dialog__actions",children:[s.jsx("button",{type:"button",className:"life-goal-dialog__cancel",onClick:n,children:"Cancel"}),s.jsx("button",{type:"submit",className:"life-goal-dialog__save",disabled:w||!l.title.trim(),children:w?"Saving...":"Save Goal"})]})]})]})}):null}async function Eg(e){return ve()?ye().from("life_goal_steps").insert(e).select().returns().single():{data:{id:crypto.randomUUID(),goal_id:e.goal_id,step_order:e.step_order??0,title:e.title,description:e.description??null,completed:e.completed??!1,completed_at:e.completed_at??null,due_date:e.due_date??null,created_at:new Date().toISOString()},error:null}}async function Dg(e){return ve()?ye().from("life_goal_substeps").insert(e).select().returns().single():{data:{id:crypto.randomUUID(),step_id:e.step_id,substep_order:e.substep_order??0,title:e.title,completed:e.completed??!1,completed_at:e.completed_at??null,created_at:new Date().toISOString()},error:null}}async function Tg(e){return ve()?ye().from("life_goal_alerts").insert(e).select().returns().single():{data:{id:crypto.randomUUID(),goal_id:e.goal_id,user_id:e.user_id,alert_type:e.alert_type,alert_time:e.alert_time,title:e.title,message:e.message??null,sent:e.sent??!1,sent_at:e.sent_at??null,repeat_pattern:e.repeat_pattern??null,enabled:e.enabled??!0,created_at:new Date().toISOString()},error:null}}function Pg({session:e}){const[t,n]=y.useState(null),[r,i]=y.useState(!1),[l,a]=y.useState(!1),[o,c]=y.useState(null),[u,m]=y.useState(null),h=v=>{n(v)},f=()=>{i(!0)},w=()=>{i(!1)},_=y.useCallback(async v=>{a(!0),c(null),m(null);try{const S={user_id:e.user.id,title:v.title,description:v.description||null,life_wheel_category:v.lifeWheelCategory,start_date:v.startDate||null,target_date:v.targetDate||null,estimated_duration_days:v.estimatedDurationDays?parseInt(v.estimatedDurationDays,10):null,timing_notes:v.timingNotes||null,status_tag:v.statusTag},{data:p,error:d}=await wf(S);if(d)throw d;if(!p)throw new Error("Failed to create goal");for(let g=0;g<v.steps.length;g++){const x=v.steps[g],C={goal_id:p.id,step_order:g,title:x.title,description:x.description||null,due_date:x.dueDate||null},{data:E,error:M}=await Eg(C);if(M)throw M;if(E)for(let D=0;D<x.substeps.length;D++){const ee=x.substeps[D],O={step_id:E.id,substep_order:D,title:ee.title},{error:N}=await Dg(O);if(N)throw N}}for(const g of v.alerts){const x={goal_id:p.id,user_id:e.user.id,alert_type:g.alertType,alert_time:g.alertTime,title:g.title,message:g.message||null,repeat_pattern:g.repeatPattern,enabled:g.enabled},{error:C}=await Tg(x);if(C)throw C}m("Life goal created successfully!"),setTimeout(()=>m(null),3e3)}catch(S){throw c(S instanceof Error?S.message:"Failed to save life goal"),S}finally{a(!1)}},[e.user.id]);return s.jsxs("section",{className:"life-goals-section",children:[s.jsxs("header",{className:"life-goals-section__header",children:[s.jsx("h2",{children:"Life Goals"}),s.jsx("p",{children:"Use the life wheel to explore different areas of your life. Click on a slice to view goal ideas and create detailed life goals with steps, timing, and notifications."})]}),o&&s.jsx("p",{className:"life-goals-section__status life-goals-section__status--error",children:o}),u&&s.jsx("p",{className:"life-goals-section__status life-goals-section__status--success",children:u}),s.jsxs("div",{className:"life-goals-section__interactive",children:[s.jsx("div",{className:"life-goals-section__wheel",children:s.jsx(jg,{onCategorySelect:h,selectedCategory:t})}),s.jsx("div",{className:"life-goals-section__info",children:s.jsx(Ng,{categoryKey:t,onAddGoal:f})})]}),s.jsx(Cg,{session:e,isOpen:r,onClose:w,onSave:_,initialCategory:t})]})}async function bf(e){if(!ve()){const n=Cm(e||ge),r=_f(e||ge),i=new Map(r.map(a=>[a.id,{id:a.id,title:a.title,target_date:a.target_date}]));return{data:n.map(a=>({...a,goal:i.get(a.goal_id)??null})),error:null}}return ye().from("habits").select("id, goal_id, name, frequency, schedule, goal:goals(id, title, target_date)").eq("goals.user_id",e).order("name").returns()}async function Mg(e){return ve()?ye().from("habits").upsert(e,{onConflict:"id"}).select().returns().single():{data:Em(e),error:null}}async function Lg(e){return ve()?ye().from("habit_logs").insert(e).select().returns().single():{data:Dm(e),error:null}}async function Rg(e,t){return ve()?ye().from("habit_logs").delete().eq("habit_id",e).eq("date",t).select().returns().single():{data:Tm(e,t),error:null}}async function jf(e,t,n){return e.length?ve()?ye().from("habit_logs").select("*").in("habit_id",e).gte("date",t).lte("date",n).returns():{data:Pm(e,t,n),error:null}:{data:[],error:null}}const ua=60,$c="You’re offline. Updates will sync automatically once you reconnect.",Oc="Offline updates are still queued and will retry shortly.";function da({session:e,variant:t="full"}){var ae;const{isConfigured:n,mode:r,isAuthenticated:i}=Ut(),l=r==="demo"||!i,a=t==="compact",[o,c]=y.useState([]),[u,m]=y.useState(!1),[h,f]=y.useState(null),[w,_]=y.useState({}),[v,S]=y.useState({}),[p,d]=y.useState({}),[g,x]=y.useState({}),[C,E]=y.useState(()=>Kt(new Date)),[M,D]=y.useState([]),[ee,O]=y.useState({}),[N,W]=y.useState({}),[U,I]=y.useState([]);y.useMemo(()=>{var Y,$;if(!o.length||!M.length)return{scheduledTotal:0,scheduledComplete:0};let T=0,V=0;for(const X of o)for(const re of M){if(!Ds(X,re))continue;T+=1,!!(($=(Y=v[X.id])==null?void 0:Y[re])!=null&&$.completed)&&(V+=1)}return{scheduledTotal:T,scheduledComplete:V}},[o,M,v]);const J=y.useCallback(async()=>{if(!n){c([]),_({}),S({}),O({}),I([]),D([]);return}m(!0),f(null);const T=new Date,V=Kt(T),Y=new Date(T.getFullYear(),T.getMonth(),1),$=new Date(T.getFullYear(),T.getMonth()+1,0),X=Kt(Y),re=Kt($),fe=Vg(Y,$);E(V),D(fe);try{const{data:A,error:K}=await bf(e.user.id);if(K)throw K;const k=A??[];if(c(k),k.length===0){_({}),S({}),O({}),I([]);return}const F=k.map(ce=>ce.id),H=fa(T,ua-1),j=Y<H?Y:H,{data:b,error:z}=await jf(F,Kt(j),re);if(z)throw z;const G=b??[],Z=F.reduce((ce,Me)=>(ce[Me]={logId:null,completed:!1},ce),{}),pe=k.reduce((ce,Me)=>{const Ue=fe.reduce((yt,pn)=>(yt[pn]={logId:null,completed:!1},yt),{});return ce[Me.id]=Ue,ce},{});for(const ce of G){const Me={logId:ce.id,completed:!!ce.completed};if(ce.date===V&&(Z[ce.habit_id]=Me),ce.date>=X&&ce.date<=re){const Ue=pe[ce.habit_id];Ue&&(Ue[ce.date]=Me)}}_(Z),S(pe),I(G),O(ul(k,G,V))}catch(A){f(A instanceof Error?A.message:"Unable to load habits right now. Try refreshing shortly.")}finally{m(!1)}},[e,n,l]);y.useEffect(()=>{n&&J()},[(ae=e==null?void 0:e.user)==null?void 0:ae.id,n,l,J]),y.useEffect(()=>{!n&&!l&&(c([]),_({}),S({}),O({}),I([]),D([]))},[n,l]),y.useEffect(()=>{if(!("serviceWorker"in navigator))return;const T=V=>{const Y=V.data;if(!Y||typeof Y!="object")return;const{type:$,detail:X}=Y;$==="SUPABASE_WRITE_QUEUED"?f($c):$==="SUPABASE_QUEUE_FLUSHED"?(f(re=>re?re===$c||re===Oc?null:re:null),(X==null?void 0:X.pending)===0&&J()):$==="SUPABASE_QUEUE_REPLAY_FAILED"&&f(Oc)};return navigator.serviceWorker.addEventListener("message",T),()=>{navigator.serviceWorker.removeEventListener("message",T)}},[J]),y.useEffect(()=>{if(!("serviceWorker"in navigator))return;const T=()=>{navigator.serviceWorker.ready.then(V=>{var Y;(Y=V.active)==null||Y.postMessage({type:"PROCESS_SUPABASE_QUEUE"})}).catch(()=>{})};return window.addEventListener("online",T),T(),()=>{window.removeEventListener("online",T)}},[]);const ie=async(T,V)=>{var A;if(!n&&!l){f("Supabase credentials are not configured yet.");return}const Y=V===C,$=`${T.id}:${V}`;Y&&d(K=>({...K,[T.id]:!0})),x(K=>({...K,[$]:!0})),f(null);const X=w[T.id],re=(A=v[T.id])==null?void 0:A[V],fe=!!(re!=null&&re.completed||Y&&(X!=null&&X.completed));try{if(fe){const{error:K}=await Rg(T.id,V);if(K)throw K;Y&&_(k=>({...k,[T.id]:{logId:null,completed:!1}})),S(k=>{const F={...k},H={...F[T.id]??{}};return H[V]={logId:null,completed:!1},F[T.id]=H,F}),I(k=>{const F=k.filter(H=>!(H.habit_id===T.id&&H.date===V));return O(ul(o,F,C)),F})}else{const K={habit_id:T.id,date:V,completed:!0},{data:k,error:F}=await Lg(K);if(F)throw F;const H=k??{id:(re==null?void 0:re.logId)??`temp-${T.id}-${V}`,habit_id:T.id,date:V,completed:!0};Y&&_(j=>({...j,[T.id]:{logId:H.id,completed:!0}})),S(j=>{const b={...j},z={...b[T.id]??{}};return z[V]={logId:H.id,completed:!0},b[T.id]=z,b}),I(j=>{const b=j.filter(z=>!(z.habit_id===T.id&&z.date===V));return b.push(H),O(ul(o,b,C)),b})}}catch(K){f(K instanceof Error?K.message:"Unable to update the habit.")}finally{Y&&d(K=>({...K,[T.id]:!1})),x(K=>{const k={...K};return delete k[$],k})}},le=async T=>{await ie(T,C)},P=y.useMemo(()=>{var Y;if(o.length===0)return{total:0,scheduled:0,completed:0};let T=0,V=0;for(const $ of o){const X=ee[$.id];((X==null?void 0:X.scheduledToday)??Ds($,C))&&(T+=1),(Y=w[$.id])!=null&&Y.completed&&(V+=1)}return{total:o.length,scheduled:T,completed:V}},[o,w,ee,C]),R=T=>{W(V=>({...V,[T]:!V[T]}))},B=()=>s.jsx("ul",{className:"habit-checklist",role:"list",children:o.map(T=>{var z,G;const V=w[T.id],Y=!!(V!=null&&V.completed),$=!!p[T.id],X=ee[T.id],re=(X==null?void 0:X.scheduledToday)??Ds(T,C),fe=(X==null?void 0:X.lastCompletedOn)??(Y?C:null),A=Wc(fe,C),K=Ag(T.schedule),k=K?Ig(K):null,F=((z=T.goal)==null?void 0:z.title)??"Unassigned goal",H=`habit-checkbox-${T.id}`,j=`habit-details-${T.id}`,b=!!N[T.id];return s.jsxs("li",{className:`habit-checklist__item ${re?"":"habit-checklist__item--rest"} ${Y?"habit-checklist__item--completed":""}`,children:[s.jsxs("div",{className:`habit-checklist__row ${b?"habit-checklist__row--expanded":""}`,role:"button",tabIndex:0,"aria-expanded":b,"aria-controls":j,onClick:()=>R(T.id),onKeyDown:Z=>{Z.currentTarget===Z.target&&(Z.key==="Enter"||Z.key===" ")&&(Z.preventDefault(),R(T.id))},children:[s.jsx("input",{id:H,type:"checkbox",className:"habit-checklist__checkbox",checked:Y,onClick:Z=>Z.stopPropagation(),onChange:Z=>{Z.stopPropagation(),le(T)},disabled:$||!re&&!Y}),s.jsx("label",{htmlFor:H,className:"habit-checklist__name",onClick:Z=>Z.stopPropagation(),children:T.name}),s.jsx("span",{className:`habit-checklist__chevron ${b?"habit-checklist__chevron--open":""}`,"aria-hidden":"true"})]}),s.jsxs("div",{className:`habit-checklist__details-panel ${b?"habit-checklist__details-panel--open":""}`,id:j,children:[s.jsx("p",{className:"habit-checklist__meta",children:k?`Life wheel • ${k}`:`Goal • ${F}`}),k&&((G=T.goal)!=null&&G.title)?s.jsxs("p",{className:"habit-checklist__meta habit-checklist__meta--secondary",children:["Goal • ",T.goal.title]}):null,A?s.jsx("p",{className:"habit-checklist__note",children:A}):null,s.jsxs("div",{className:"habit-checklist__detail-actions",children:[re?null:s.jsx("span",{className:"habit-checklist__pill",children:"Rest day"}),$?s.jsx("span",{className:"habit-checklist__saving",children:"Updating…"}):null]})]})]},T.id)})}),se=()=>{const T=Bg(C),V=Gg(),Y=P.scheduled||P.total,$=Y?`${Math.min(P.completed,Y)}/${Y} done`:"No habits scheduled",X=h||(l?"Habit progress is stored locally in demo mode. Connect Supabase to sync across devices.":n?"Tap refresh if you updated habits elsewhere to pull in the latest list.":"Connect Supabase to sync your rituals and keep streaks backed up."),re=h?"error":l?"info":n?"muted":"warning";return s.jsxs("div",{className:"habit-checklist-card",role:"region","aria-label":"Today's habit checklist",children:[s.jsxs("div",{className:"habit-checklist-card__board",children:[s.jsxs("div",{className:"habit-checklist-card__board-head",children:[s.jsxs("div",{className:"habit-checklist-card__date-group",children:[s.jsx("p",{className:"habit-checklist-card__date",children:T}),s.jsx("p",{className:"habit-checklist-card__time",children:V})]}),s.jsxs("div",{className:"habit-checklist-card__head-actions",children:[s.jsx("span",{className:"habit-checklist-card__progress",children:$}),s.jsx("button",{type:"button",className:"habit-checklist-card__refresh",onClick:()=>void J(),disabled:u||!n&&!l,children:u?"Refreshing…":"Refresh"})]})]}),s.jsxs("div",{className:"habit-checklist-card__board-body",children:[s.jsxs("div",{className:"habit-checklist-card__title",children:[s.jsx("h2",{children:"Things to do today"}),s.jsx("p",{children:"Check off the rituals that keep your life wheel balanced."})]}),o.length===0?s.jsxs("div",{className:"habit-checklist-card__empty",children:[s.jsx("p",{children:"No habits scheduled for today."}),s.jsx("p",{children:"Add a ritual to any goal and it will show up here for quick check-ins."})]}):B()]})]}),s.jsx("p",{className:`habit-checklist-card__status habit-checklist-card__status--${re}`,children:X})]})};return a?s.jsx("section",{className:"habit-tracker habit-tracker--compact",children:se()}):s.jsxs("section",{className:"habit-tracker",children:[s.jsxs("header",{className:"habit-tracker__header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:`Monthly habits dashboard • ${Wg(C)} (${M.length} days)`}),s.jsx("p",{children:"Use the monthly grid to see every habit alongside the life wheel domains they support."})]}),s.jsx("button",{type:"button",className:"habit-tracker__refresh",onClick:()=>void J(),disabled:u||!n&&!l,children:u?"Refreshing…":"Refresh habits"})]}),l?s.jsx("p",{className:"habit-tracker__status habit-tracker__status--info",children:"Habit progress updates are stored locally in demo mode. Connect Supabase to sync completions across devices."}):n?null:s.jsx("p",{className:"habit-tracker__status habit-tracker__status--warning",children:"Connect your Supabase credentials to sync habits and log completions across devices."}),h?s.jsx("p",{className:"habit-tracker__status habit-tracker__status--error",children:h}):null,o.length===0?s.jsxs("div",{className:"habit-tracker__empty",children:[s.jsx("h3",{children:"No habits scheduled for today"}),s.jsx("p",{children:"Once you add habits to your goals, they will appear here so you can check in daily and keep your streak alive."})]}):s.jsx("ul",{className:"habit-tracker__list",children:o.map(T=>{var H;const V=w[T.id],Y=!!(V!=null&&V.completed),$=!!p[T.id],X=ee[T.id],re=(X==null?void 0:X.scheduledToday)??Ds(T,C),fe=(X==null?void 0:X.currentStreak)??(Y?1:0),A=(X==null?void 0:X.longestStreak)??Math.max(fe,0),K=(X==null?void 0:X.lastCompletedOn)??(Y?C:null),k=re?Y?"Completed for today. Keep the streak going!":"Tap the toggle when you finish this habit.":"Today is a rest day for this habit.",F=Wc(K,C);return s.jsxs("li",{className:`habit-card ${Y?"habit-card--completed":""}`,children:[s.jsxs("div",{className:"habit-card__content",children:[s.jsxs("div",{children:[s.jsx("h3",{children:T.name}),s.jsxs("p",{className:"habit-card__goal",children:["Goal: ",s.jsx("span",{children:((H=T.goal)==null?void 0:H.title)??"Unassigned goal"})]}),s.jsx("p",{className:"habit-card__meta",children:Fg(T.frequency,T.schedule)})]}),s.jsx("button",{type:"button",className:`habit-card__toggle ${Y?"habit-card__toggle--active":""}`,onClick:()=>void le(T),disabled:$,children:$?"Saving…":Y?"Mark incomplete":"Mark complete"})]}),s.jsxs("footer",{className:"habit-card__footer",children:[s.jsxs("div",{className:"habit-card__streaks",children:[s.jsxs("div",{className:"habit-card__streak habit-card__streak--current",children:[s.jsx("span",{className:"habit-card__streak-label",children:"Current streak"}),s.jsx("span",{className:"habit-card__streak-value",children:Hc(fe)})]}),s.jsxs("div",{className:"habit-card__streak habit-card__streak--longest",children:[s.jsx("span",{className:"habit-card__streak-label",children:"Longest streak"}),s.jsx("span",{className:"habit-card__streak-value",children:Hc(A)})]})]}),s.jsxs("p",{className:`habit-card__status ${re?"":"habit-card__status--rest"}`,children:[k,F?` ${F}`:""]})]})]},T.id)})})]})}function Ag(e){if(!e||typeof e!="object")return null;const n=e.life_wheel_domain;if(!n)return null;if(typeof n=="string")return{key:n,label:null};if(typeof n=="object"&&n!==null){const r=n,i=typeof r.key=="string"?r.key:null,l=typeof r.label=="string"?r.label:null;if(i||l)return{key:i,label:l}}return null}function Ig(e){return e.label?e.label:e.key?e.key.split("_").filter(Boolean).map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" "):null}function Fg(e,t){const n=zg(t);return n?`${e} • ${n}`:e}function zg(e){if(!e)return null;if(Array.isArray(e))return e.join(", ");if(typeof e=="object"){const t=e;if(Array.isArray(t.days))return t.days.filter(n=>typeof n=="string").map($g).join(", ");if(typeof t.time=="string")return`at ${t.time}`}return null}function $g(e){return e.charAt(0).toUpperCase()+e.slice(1)}const Og=new Intl.DateTimeFormat(void 0,{month:"long",year:"numeric"}),Ug=new Intl.DateTimeFormat(void 0,{weekday:"short",day:"numeric",month:"long",year:"numeric"}),Hg=new Intl.DateTimeFormat(void 0,{hour:"2-digit",minute:"2-digit",hour12:!1});function Wg(e){return Og.format(un(e))}function Bg(e){return Ug.format(un(e))}function Gg(e=new Date){return Hg.format(e)}function Kt(e){const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`}function Vg(e,t){const n=[],r=new Date(e.getTime());for(;r<=t;)n.push(Kt(r)),r.setDate(r.getDate()+1);return n}function fa(e,t){const n=new Date(e.getTime());return n.setDate(n.getDate()-t),n}const Uc={sun:0,sunday:0,mon:1,monday:1,tue:2,tues:2,tuesday:2,wed:3,wednesday:3,thu:4,thur:4,thurs:4,thursday:4,fri:5,friday:5,sat:6,saturday:6};function Sf(e,t){if(t&&Array.isArray(t)){const n=t.map(r=>typeof r=="string"?Uc[r.toLowerCase()]:void 0).filter(r=>typeof r=="number");if(n.length>0)return r=>n.includes(r.getDay())}if(t&&typeof t=="object"&&t!==null){const n=t,r=typeof n.type=="string"?n.type.toLowerCase():"";if(r==="weekly"&&Array.isArray(n.days)){const i=n.days.map(l=>typeof l=="string"?Uc[l.toLowerCase()]:void 0).filter(l=>typeof l=="number");if(i.length>0)return l=>i.includes(l.getDay())}if(r==="daily")return()=>!0}return typeof e=="string"&&e.toLowerCase().includes("weekly")?()=>!0:()=>!0}function un(e){const[t,n,r]=e.split("-"),i=Number(t),l=Number(n),a=Number(r);return[i,l,a].some(o=>Number.isNaN(o))?new Date(e):new Date(i,l-1,a)}function Ds(e,t){const n=un(t);return Sf(e.frequency,e.schedule)(n)}function ul(e,t,n){if(e.length===0)return{};const r=un(n),i=fa(r,ua-1),l=Kt(i),a=new Map,o=new Map;for(const u of t){if(!u.completed||u.date<l||u.date>n)continue;let m=a.get(u.habit_id);m||(m=new Set,a.set(u.habit_id,m)),m.add(u.date);const h=o.get(u.habit_id);(!h||u.date>h)&&o.set(u.habit_id,u.date)}const c={};for(const u of e){const m=Sf(u.frequency,u.schedule),h=m(r),f=a.get(u.id)??new Set;let w=0,_=0,v=0,S=!0;for(let p=0;p<ua;p+=1){const d=fa(r,p);if(d<i)break;if(!m(d))continue;const g=Kt(d);f.has(g)?(v+=1,S&&(w+=1),v>_&&(_=v)):(S&&(S=!1),v=0)}c[u.id]={scheduledToday:h,currentStreak:w,longestStreak:Math.max(_,w),lastCompletedOn:o.get(u.id)??null}}return c}function Hc(e){const t=Math.max(0,Math.round(e));return`${t} ${t===1?"day":"days"}`}function qg(e,t){const n=un(e),r=un(t),i=n.getTime()-r.getTime();return Math.round(i/(1e3*60*60*24))}function Wc(e,t){if(!e)return null;if(e===t)return"Last completed today.";const n=qg(t,e);if(n===1)return"Last completed yesterday.";if(n>1&&n<=7)return`Last completed ${n} days ago.`;const r=un(e);return`Last completed on ${r.toLocaleDateString(void 0,{month:"short",day:"numeric",year:r.getFullYear()!==un(t).getFullYear()?"numeric":void 0})}.`}function Yg({session:e}){const[t,n]=y.useState(!0);return s.jsxs("div",{className:"habits-module-container",style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem 1rem"},children:[s.jsxs("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"3rem 2rem",borderRadius:"16px",marginBottom:"2rem",boxShadow:"0 10px 30px rgba(102, 126, 234, 0.3)"},children:[s.jsx("h1",{style:{margin:"0 0 1rem 0",fontSize:"2.5rem",fontWeight:"800"},children:"🎯 Comprehensive Habits System"}),s.jsx("p",{style:{margin:0,fontSize:"1.125rem",opacity:.95},children:"A complete habit tracking module with templates, challenges, auto-progression, and more!"})]}),t&&s.jsxs("div",{style:{background:"#f8fafc",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"2rem",marginBottom:"2rem"},children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1.5rem"},children:[s.jsx("h2",{style:{margin:0,fontSize:"1.5rem"},children:"✨ Setup Instructions"}),s.jsx("button",{onClick:()=>n(!1),style:{background:"transparent",border:"none",fontSize:"1.5rem",cursor:"pointer",opacity:.6},children:"×"})]}),s.jsxs("div",{style:{fontSize:"1rem",lineHeight:"1.75"},children:[s.jsx("p",{children:s.jsx("strong",{children:"🚀 The comprehensive habits module has been created!"})}),s.jsx("p",{children:"All the code and SQL migrations are ready in your repository:"}),s.jsxs("ul",{style:{marginLeft:"1.5rem"},children:[s.jsxs("li",{children:[s.jsx("code",{children:"/supabase/migrations/"})," - Database schema (0001-0003)"]}),s.jsxs("li",{children:[s.jsx("code",{children:"/supabase/functions/"})," - Edge Functions for reminders & auto-progression"]}),s.jsxs("li",{children:[s.jsx("code",{children:"/app/habits/"})," - Complete vanilla JS/HTML/CSS implementation"]})]}),s.jsx("h3",{style:{marginTop:"1.5rem",marginBottom:"0.75rem"},children:"📋 Next Steps:"}),s.jsxs("ol",{style:{marginLeft:"1.5rem"},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Run SQL Migrations:"})," Open Supabase SQL Editor and run:",s.jsxs("ul",{style:{marginLeft:"1rem",marginTop:"0.5rem"},children:[s.jsx("li",{children:s.jsx("code",{children:"supabase/migrations/0001_habits_core.sql"})}),s.jsx("li",{children:s.jsx("code",{children:"supabase/migrations/0002_push.sql"})}),s.jsx("li",{children:s.jsx("code",{children:"supabase/migrations/0003_challenges_autoprog.sql"})})]})]}),s.jsxs("li",{style:{marginTop:"1rem"},children:[s.jsx("strong",{children:"Generate VAPID Keys:"}),s.jsx("pre",{style:{background:"#1e293b",color:"#e2e8f0",padding:"0.75rem",borderRadius:"6px",overflow:"auto",marginTop:"0.5rem"},children:"npx web-push generate-vapid-keys"})]}),s.jsxs("li",{style:{marginTop:"1rem"},children:[s.jsx("strong",{children:"Set Environment Variables:"}),s.jsxs("ul",{style:{marginLeft:"1rem",marginTop:"0.5rem"},children:[s.jsx("li",{children:s.jsx("code",{children:"VITE_VAPID_PUBLIC_KEY=your-public-key"})}),s.jsxs("li",{children:["Add to Supabase Edge Functions secrets: ",s.jsx("code",{children:"VAPID_PRIVATE_KEY"})]})]})]}),s.jsxs("li",{style:{marginTop:"1rem"},children:[s.jsx("strong",{children:"Deploy Edge Functions:"}),s.jsxs("pre",{style:{background:"#1e293b",color:"#e2e8f0",padding:"0.75rem",borderRadius:"6px",overflow:"auto",marginTop:"0.5rem"},children:["supabase functions deploy send-reminders",`
`,"supabase functions deploy auto-progression"]})]}),s.jsxs("li",{style:{marginTop:"1rem"},children:[s.jsx("strong",{children:"Load Demo Data (Optional):"}),s.jsx("br",{}),"Run ",s.jsx("code",{children:"supabase/migrations/demo_data.sql"})," after replacing ",s.jsx("code",{children:"YOUR_USER_ID_HERE"})," with your user ID"]})]}),s.jsxs("div",{style:{background:"#eff6ff",border:"1px solid #93c5fd",borderRadius:"8px",padding:"1rem",marginTop:"1.5rem"},children:[s.jsx("strong",{children:"📚 Documentation:"})," See ",s.jsx("code",{children:"/app/habits/README.md"})," for detailed setup instructions, SQL patch guide, and architecture notes."]})]})]}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem",marginBottom:"2rem"},children:[s.jsx(Bt,{emoji:"🧙",title:"3-Step Wizard",description:"Create habits with an intuitive wizard: Basics → Schedule → Targets & Reminders"}),s.jsx(Bt,{emoji:"📋",title:"12 Templates",description:"Pre-filled templates for common habits: meditation, hydration, reading, and more"}),s.jsx(Bt,{emoji:"✅",title:"Smart Tracking",description:"Boolean (done/not done), Quantity (with stepper), and Duration (with timer) types"}),s.jsx(Bt,{emoji:"🔥",title:"Streaks & Insights",description:"31-day heatmap, success rates (7/30/90 days), current & best streaks"}),s.jsx(Bt,{emoji:"🔔",title:"Web Push Reminders",description:"Smart notifications with quick Done/Skip action buttons"}),s.jsx(Bt,{emoji:"🏆",title:"Challenges",description:"Create challenges, invite friends, compete on leaderboards"}),s.jsx(Bt,{emoji:"📈",title:"Auto-Progression",description:"Automatically increase difficulty when you hit success rate targets"}),s.jsx(Bt,{emoji:"💾",title:"Offline Support",description:"Queue habit logs when offline, auto-sync when back online"})]}),s.jsxs("div",{style:{background:"#fef2f2",border:"2px solid #fecaca",borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[s.jsx("h3",{style:{margin:"0 0 1rem 0",color:"#991b1b"},children:"⚠️ Implementation Status"}),s.jsxs("p",{style:{margin:0,lineHeight:"1.75"},children:["The habits module is built as a standalone vanilla JavaScript system in ",s.jsx("code",{children:"/app/habits/"}),". To fully integrate it into this React app, you have two options:"]}),s.jsxs("ul",{style:{marginLeft:"1.5rem",marginTop:"1rem"},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Option 1:"})," Create a separate route (e.g., ",s.jsx("code",{children:"/habits"}),") that serves the vanilla JS version"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Option 2:"})," Port the components to React (recommended for long-term maintenance)"]})]})]}),s.jsxs("div",{style:{background:"white",border:"2px solid #e2e8f0",borderRadius:"12px",padding:"2rem"},children:[s.jsx("h2",{style:{marginTop:0},children:"📦 What's Included"}),s.jsxs("div",{style:{marginTop:"1.5rem"},children:[s.jsx("h3",{style:{fontSize:"1.125rem",marginBottom:"0.75rem"},children:"SQL Migrations"}),s.jsxs("ul",{style:{marginLeft:"1.5rem",lineHeight:"1.75"},children:[s.jsxs("li",{children:[s.jsx("code",{children:"habits_v2"})," table with emoji, type (boolean/quantity/duration), schedule JSON, auto-progression config"]}),s.jsxs("li",{children:[s.jsx("code",{children:"habit_logs_v2"})," with value field for quantity/duration tracking"]}),s.jsxs("li",{children:[s.jsx("code",{children:"habit_reminders"})," with time, days, and geo fields"]}),s.jsxs("li",{children:[s.jsx("code",{children:"push_subscriptions"})," for Web Push endpoints"]}),s.jsxs("li",{children:[s.jsx("code",{children:"habit_challenges"})," and ",s.jsx("code",{children:"habit_challenge_members"})," for social features"]}),s.jsxs("li",{children:[s.jsx("code",{children:"v_habit_streaks"})," view for calculating current and best streaks"]}),s.jsxs("li",{children:[s.jsx("code",{children:"v_challenge_scores"})," view for leaderboards"]})]})]}),s.jsxs("div",{style:{marginTop:"1.5rem"},children:[s.jsx("h3",{style:{fontSize:"1.125rem",marginBottom:"0.75rem"},children:"Edge Functions"}),s.jsxs("ul",{style:{marginLeft:"1.5rem",lineHeight:"1.75"},children:[s.jsxs("li",{children:[s.jsx("strong",{children:"send-reminders:"})," Handles Web Push subscriptions, sends notifications, logs habit completions from notification actions"]}),s.jsxs("li",{children:[s.jsx("strong",{children:"auto-progression:"})," Daily cron job to analyze success rates and adjust habit schedules automatically"]})]})]}),s.jsxs("div",{style:{marginTop:"1.5rem"},children:[s.jsx("h3",{style:{fontSize:"1.125rem",marginBottom:"0.75rem"},children:"Frontend Files"}),s.jsxs("ul",{style:{marginLeft:"1.5rem",lineHeight:"1.75"},children:[s.jsxs("li",{children:[s.jsx("code",{children:"habits.js"})," - Main logic with wizard, active habits, insights, challenges"]}),s.jsxs("li",{children:[s.jsx("code",{children:"habits.css"})," - Modern, mobile-first styles"]}),s.jsxs("li",{children:[s.jsx("code",{children:"templates.json"})," - 12 curated habit templates"]}),s.jsxs("li",{children:[s.jsx("code",{children:"buildplan.json"})," - Implementation checklist"]}),s.jsxs("li",{children:[s.jsx("code",{children:"BuildChecklist.js"})," - On-page progress tracker"]}),s.jsxs("li",{children:[s.jsx("code",{children:"README.md"})," - Complete documentation"]})]})]})]}),s.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f0fdf4",border:"2px solid #86efac",borderRadius:"12px",textAlign:"center"},children:[s.jsx("p",{style:{margin:0,fontSize:"1.125rem"},children:s.jsx("strong",{children:"✅ All code has been generated and committed to the repository!"})}),s.jsx("p",{style:{margin:"0.5rem 0 0 0",color:"#15803d"},children:"Follow the setup steps above to enable the full habits experience."})]})]})}function Bt({emoji:e,title:t,description:n}){return s.jsxs("div",{style:{background:"white",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"1.5rem",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",transition:"all 0.2s ease"},children:[s.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.75rem"},children:e}),s.jsx("h3",{style:{margin:"0 0 0.5rem 0",fontSize:"1.125rem"},children:t}),s.jsx("p",{style:{margin:0,color:"#64748b",fontSize:"0.9375rem",lineHeight:"1.6"},children:n})]})}function Kg({session:e,navItems:t,onSelectNav:n}){return s.jsxs("div",{className:"mobile-habit-home",children:[s.jsxs("header",{className:"mobile-habit-home__header",children:[s.jsx("h1",{children:"Daily habit checklist"}),s.jsx("p",{children:"Stay focused on today's rituals. When you're ready for more, jump into any area of your workspace."})]}),s.jsx(da,{session:e,variant:"compact"}),s.jsxs("nav",{className:"mobile-habit-home__nav","aria-label":"Navigate to other areas",children:[s.jsx("h2",{children:"Jump to another area"}),s.jsx("ul",{className:"mobile-habit-home__nav-list",children:t.map(r=>s.jsx("li",{className:"mobile-habit-home__nav-item",children:s.jsxs("button",{type:"button",className:"mobile-habit-home__nav-button",onClick:()=>n(r.id),children:[s.jsx("span",{className:"mobile-habit-home__nav-icon","aria-hidden":"true",children:r.icon}),s.jsxs("span",{className:"mobile-habit-home__nav-text",children:[s.jsx("span",{className:"mobile-habit-home__nav-label",children:r.label}),s.jsx("span",{className:"mobile-habit-home__nav-summary",children:r.summary})]})]})},r.id))})]})]})}function Qg({onClose:e,children:t}){return s.jsx("div",{className:"ideas-page",role:"dialog","aria-modal":"true","aria-label":"Developer ideas page",children:s.jsxs("div",{className:"ideas-page__content",children:[s.jsxs("header",{className:"ideas-page__header",children:[s.jsxs("div",{children:[s.jsx("p",{className:"ideas-page__eyebrow",children:"Developer Ideas"}),s.jsx("h2",{children:"Focus fuels compounding progress"}),s.jsx("p",{children:"Let’s start with a question: Why do some people get so much further ahead than others? For Warren Buffett, the answer comes down to ruthless focus. His famous 5/25 Rule is all about this idea."}),s.jsx("p",{children:"Here’s how it works: Write down the 25 goals or interests you have. Then circle the top 5. Now — and this is the hard part — avoid the other 20 at all costs. Because according to Buffett, your biggest threat isn’t failure. It’s distraction."})]}),s.jsx("button",{type:"button",className:"ideas-page__close",onClick:e,children:"Close"})]}),t?s.jsx("div",{className:"ideas-page__body",children:t}):null]})})}const Xg={stabilize:{label:"Stabilize"},boost:{label:"Boost"},celebrate:{label:"Celebrate"}};function nr(e){return e.toISOString().slice(0,10)}function Nf(e){const t=new Date(e.getFullYear(),e.getMonth(),1),n=new Date(e.getFullYear(),e.getMonth()+1,0);return{start:t,end:n}}function Jg(e,t){const{start:n,end:r}=Nf(e),i=r.getDate(),l=nr(e);return Array.from({length:i},(a,o)=>{const c=new Date(e.getFullYear(),e.getMonth(),o+1),u=nr(c);return{date:u,label:c.getDate().toString(),completions:t[u]??0,isToday:u===l}})}function Zg(e,t){const n=new Intl.DateTimeFormat(void 0,{weekday:"short"});return Array.from({length:7},(r,i)=>{const l=new Date(e);l.setDate(e.getDate()-(6-i));const a=nr(l);return{date:a,label:n.format(l),completions:t[a]??0}})}function ey({session:e}){var F,H;const{isConfigured:t,mode:n,isAuthenticated:r}=Ut(),i=n==="demo"||!r,[l,a]=y.useState([]),[o,c]=y.useState([]),[u,m]=y.useState([]),[h,f]=y.useState(!1),[w,_]=y.useState(null),[v,S]=y.useState(""),[p,d]=y.useState(""),[g,x]=y.useState(((F=xe[0])==null?void 0:F.key)??""),[C,E]=y.useState(null),[M,D]=y.useState(null),[ee,O]=y.useState(!1),[N,W]=y.useState(!1),U=y.useMemo(()=>new Date,[]),{start:I,end:J}=y.useMemo(()=>Nf(U),[U]),ie=y.useId(),le=y.useId(),P=y.useId(),R=t||i,B=l.length>0,se=y.useCallback(async()=>{if(!e||!t&&!i){a([]),c([]),m([]);return}f(!0),_(null);try{const[{data:j,error:b},{data:z,error:G}]=await Promise.all([co(),bf(e.user.id)]);if(b)throw b;if(G)throw G;const Z=(j??[]).filter(yt=>yt.user_id===e.user.id);a(Z);const pe=z??[];if(c(pe),pe.length===0){m([]);return}const ce=pe.map(yt=>yt.id),{data:Me,error:Ue}=await jf(ce,nr(I),nr(J));if(Ue)throw Ue;m(Me??[])}catch(j){_(j instanceof Error?j.message:"Unable to load dashboard insights. Please try again shortly.")}finally{f(!1)}},[e,t,i,I,J]);y.useEffect(()=>{t&&se()},[(H=e==null?void 0:e.user)==null?void 0:H.id,t,i,se]),y.useEffect(()=>{!t&&!i&&(a([]),c([]),m([]))},[t,i]),y.useEffect(()=>{var j;p||l.length===0||d(((j=l[0])==null?void 0:j.id)??"")},[l,p]);const ae=async j=>{var z;if(j.preventDefault(),E(null),D(null),!R){D("Connect Supabase to create new habits from the dashboard.");return}const b=v.trim();if(!b){D("Name your habit to save it.");return}if(!p){D("Choose a goal so we can attach this habit to your life wheel focus.");return}O(!0);try{const G=xe.find(ce=>ce.key===g)??null,Z={type:"daily"};G?Z.life_wheel_domain={key:G.key,label:G.label}:g&&(Z.life_wheel_domain={key:g});const{error:pe}=await Mg({goal_id:p,name:b,frequency:"daily",schedule:Z});if(pe)throw pe;E("Habit added to your daily checklist."),S(""),d(""),x(((z=xe[0])==null?void 0:z.key)??""),await se()}catch(G){D(G instanceof Error?G.message:"Unable to save the habit. Please try again shortly.")}finally{O(!1)}},T=y.useMemo(()=>u.reduce((j,b)=>(b.completed&&(j[b.date]=(j[b.date]??0)+1),j),{}),[u]),V=y.useMemo(()=>Jg(U,T),[U,T]),Y=y.useMemo(()=>Zg(U,T),[U,T]),$=o.length,X=y.useMemo(()=>{const j=Y.reduce((G,Z)=>G+Z.completions,0),b=$*Y.length,z=b>0?Math.min(100,Math.round(j/b*100)):0;return{completed:j,possible:b,completionRate:z}},[Y,$]),re=y.useMemo(()=>{const j=nr(U);return l.filter(b=>b.target_date&&b.target_date>=j).sort((b,z)=>(b.target_date??"").localeCompare(z.target_date??"")).slice(0,4)},[l,U]),fe=y.useMemo(()=>{var pe,ce;const j={on_track:0,at_risk:0,off_track:0,achieved:0},b={};for(const Me of l){const Ue=bn(Me.status_tag);j[Ue]+=1;const yt=((pe=Me.title)==null?void 0:pe.trim())||"Untitled goal",pn=((ce=Me.progress_notes)==null?void 0:ce.trim())??"",mn=pn||null,cs=b[Ue];(!cs||mn&&!cs.note)&&(b[Ue]={title:yt,note:mn})}const z=ur.reduce((Me,Ue)=>Me+j[Ue],0),G=z-j.achieved,Z=j.at_risk+j.off_track;return{counts:j,total:z,activeTotal:G,flagged:Z,examples:b}},[l]),A=y.useMemo(()=>{const{total:j,flagged:b,counts:z}=fe;if(j===0)return"Add your first goal to start tracking progress health.";if(b>0){if(z.off_track>0){const Z=z.off_track;return`${Z} goal${Z===1?" is":"s are"} off track. Use the latest notes to plan a reset.`}const G=z.at_risk;return`${G} goal${G===1?" needs":"s need"} a boost this week to stay on track.`}if(z.achieved>0&&z.achieved===j)return"All of your goals here are achieved—time to dream up the next milestone!";if(z.achieved>0){const G=z.achieved;return`Celebrate ${G} recent ${G===1?"win":"wins"} while keeping the rest in motion.`}return"Everything is trending smoothly—keep showing up for your rituals."},[fe]),K=y.useMemo(()=>sy(l,U),[l,U]),k=y.useMemo(()=>[{id:"client-sync",title:"Client strategy sync",detail:"Finalize the talking points and share the deck before the call.",dueLabel:"Today · 2:30 PM",accent:"sunrise"},{id:"habit-journal",title:"Evening reflection",detail:"Log your top three wins and note one improvement for tomorrow.",dueLabel:"Tonight · 9:00 PM",accent:"ocean"}],[]);return s.jsxs("section",{className:"progress-dashboard",children:[N?s.jsx(Qg,{onClose:()=>W(!1)}):null,s.jsxs("header",{className:"progress-dashboard__header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Progress dashboard"}),s.jsx("p",{children:"Visualize your month at a glance, track streaks, and keep upcoming goal milestones on your radar."})]}),s.jsxs("div",{className:"progress-dashboard__actions",children:[s.jsx("button",{type:"button",className:"progress-dashboard__ideas",onClick:()=>W(!0),children:"Developer ideas"}),s.jsx("button",{type:"button",className:"progress-dashboard__refresh",onClick:()=>void se(),disabled:h||!t&&!i,children:h?"Refreshing…":"Refresh insights"})]})]}),s.jsxs("section",{className:"urgent-tasks","aria-label":"Urgent tasks",children:[s.jsxs("div",{className:"urgent-tasks__header",children:[s.jsx("h3",{children:"Urgent tasks"}),s.jsx("p",{children:"Pin a couple of sticky notes to spotlight what needs your focus first."})]}),s.jsx("div",{className:"urgent-tasks__board",children:k.map(j=>s.jsxs("article",{className:`sticky-note sticky-note--${j.accent}`,children:[s.jsx("span",{className:"sticky-note__pin","aria-hidden":"true"}),s.jsx("h4",{children:j.title}),s.jsx("p",{children:j.detail}),s.jsxs("p",{className:"sticky-note__due",children:[s.jsx("strong",{children:"Due"})," ",j.dueLabel]})]},j.id))})]}),i?s.jsx("p",{className:"progress-dashboard__status progress-dashboard__status--info",children:"Dashboard metrics are generated from demo data stored locally. Connect Supabase to analyze real habit completions and goal milestones."}):t?null:s.jsx("p",{className:"progress-dashboard__status progress-dashboard__status--warning",children:"Add your Supabase credentials to enable analytics, calendar history, and personalized goal summaries."}),w?s.jsx("p",{className:"progress-dashboard__status progress-dashboard__status--error",children:w}):null,t&&o.length===0?s.jsxs("div",{className:"progress-dashboard__empty",children:[s.jsx("h3",{children:"No habits to visualize yet"}),s.jsx("p",{children:"Capture habits inside the Goals & Habits workspace and they'll populate the dashboard with streaks and completion stats."})]}):s.jsxs("div",{className:"progress-dashboard__grid",children:[s.jsxs("article",{className:"progress-card progress-card--habit-create",children:[s.jsxs("header",{children:[s.jsx("h3",{children:"Capture a new daily habit"}),s.jsx("p",{children:"Align a fresh ritual with your life wheel so it appears on today's checklist."})]}),s.jsxs("form",{className:"habit-create-form",onSubmit:ae,children:[s.jsxs("label",{className:"habit-create-form__field",htmlFor:ie,children:[s.jsx("span",{children:"Habit name"}),s.jsx("input",{id:ie,type:"text",value:v,onChange:j=>S(j.target.value),placeholder:"Evening wind-down ritual",autoComplete:"off",disabled:!R})]}),s.jsxs("div",{className:"habit-create-form__row",children:[s.jsxs("label",{className:"habit-create-form__field",htmlFor:le,children:[s.jsx("span",{children:"Life wheel focus"}),s.jsx("select",{id:le,value:g,onChange:j=>x(j.target.value),disabled:!R,children:xe.map(j=>s.jsx("option",{value:j.key,children:j.label},j.key))})]}),s.jsxs("label",{className:"habit-create-form__field",htmlFor:P,children:[s.jsx("span",{children:"Attach to goal"}),s.jsxs("select",{id:P,value:p,onChange:j=>d(j.target.value),disabled:!R||!B,children:[s.jsx("option",{value:"",disabled:!0,children:B?"Choose a goal":"No goals yet"}),l.map(j=>s.jsx("option",{value:j.id,children:j.title??"Untitled goal"},j.id))]})]})]}),C?s.jsx("p",{className:"habit-create-form__status habit-create-form__status--success",children:C}):null,M?s.jsx("p",{className:"habit-create-form__status habit-create-form__status--error",children:M}):null,s.jsx("button",{type:"submit",className:"habit-create-form__submit",disabled:ee||!R||!B,children:ee?"Saving…":"Add daily habit"})]}),R?null:s.jsx("p",{className:"habit-create-form__hint",children:"Connect Supabase or explore demo mode to create habits from the dashboard."}),R&&!B?s.jsx("p",{className:"habit-create-form__hint",children:"Create a goal first to anchor your new habit to your life wheel."}):null]}),s.jsxs("article",{className:"progress-card progress-card--digest",children:[s.jsxs("header",{children:[s.jsx("h3",{children:"Weekly focus digest"}),s.jsx("p",{children:K.intro}),K.headline?s.jsx("p",{className:"focus-digest__headline",children:K.headline}):null]}),K.actions.length===0?s.jsx("p",{className:"progress-card__empty",children:K.emptyMessage}):s.jsx("ul",{className:"focus-digest__actions",children:K.actions.map(j=>s.jsxs("li",{className:`focus-digest__action focus-digest__action--${j.tone}`,children:[s.jsxs("div",{className:"focus-digest__meta",children:[s.jsx("span",{className:`goal-status goal-status--${j.status}`,children:Jt[j.status].label}),s.jsx("span",{className:`focus-digest__tone focus-digest__tone--${j.tone}`,children:Xg[j.tone].label})]}),s.jsx("p",{className:"focus-digest__action-title",children:j.title}),s.jsx("p",{className:"focus-digest__action-summary",children:j.summary}),j.note?s.jsx("p",{className:"focus-digest__action-note",children:j.note}):null]},j.id))})]}),s.jsxs("article",{className:"progress-card progress-card--summary",children:[s.jsxs("header",{children:[s.jsx("h3",{children:"This week's momentum"}),s.jsx("p",{children:$>0?`You checked off ${X.completed} of ${X.possible} planned habits this week.`:"Add habits to start measuring your streaks."})]}),s.jsxs("div",{className:"progress-card__metric",children:[s.jsxs("span",{className:"progress-card__metric-value",children:[X.completionRate,"%"]}),s.jsx("span",{className:"progress-card__metric-label",children:"Completion rate"})]}),s.jsx("ul",{className:"progress-card__trend","aria-label":"Daily habit completions for the past 7 days",children:Y.map(j=>s.jsxs("li",{children:[s.jsx("span",{className:"progress-card__trend-label",children:j.label}),s.jsx("span",{className:"progress-card__trend-value",children:j.completions})]},j.date))})]}),s.jsxs("article",{className:"progress-card progress-card--statuses",children:[s.jsxs("header",{children:[s.jsx("h3",{children:"Goal health snapshot"}),s.jsx("p",{children:A})]}),fe.total===0?s.jsx("p",{className:"progress-card__empty",children:"Add at least one goal to see the health breakdown."}):s.jsx("ul",{className:"progress-status-list",children:ur.map(j=>{const b=fe.counts[j],z=fe.total>0?Math.round(b/fe.total*100):0,G=Jt[j],Z=fe.examples[j],pe=Z!=null&&Z.note?Cf(Z.note):"",ce=!!pe;return s.jsxs("li",{className:`progress-status progress-status--${j}`,children:[s.jsxs("div",{className:"progress-status__label",children:[s.jsx("span",{className:`goal-status goal-status--${j}`,children:G.label}),s.jsxs("span",{className:"progress-status__count",children:[b," ",b===1?"goal":"goals",s.jsxs("span",{className:"progress-status__percent",children:["(",z,"%)"]})]})]}),s.jsx("div",{className:"progress-status__bar",role:"progressbar","aria-valuenow":z,"aria-valuemin":0,"aria-valuemax":100,children:s.jsx("span",{className:`progress-status__bar-fill progress-status__bar-fill--${j}`,style:{width:`${z}%`}})}),ce?s.jsxs("div",{className:"progress-status__note",children:[s.jsx("span",{className:"progress-status__note-title",children:(Z==null?void 0:Z.title)??G.label}),s.jsx("span",{className:"progress-status__note-text",children:pe})]}):s.jsx("p",{className:"progress-status__description",children:b===0?G.empty:G.description})]},j)})})]}),s.jsxs("article",{className:"progress-card progress-card--calendar",children:[s.jsxs("header",{children:[s.jsx("h3",{children:U.toLocaleString(void 0,{month:"long",year:"numeric"})}),s.jsx("p",{children:"Each dot represents habits you completed on that day."})]}),s.jsx("div",{className:"progress-calendar",role:"grid","aria-label":"Habit completion calendar",children:V.map(j=>s.jsxs("div",{role:"gridcell","aria-label":`${j.date}: ${j.completions} habits completed`,className:`progress-calendar__day ${j.isToday?"progress-calendar__day--today":""}`,children:[s.jsx("span",{className:"progress-calendar__date",children:j.label}),s.jsx("span",{className:`progress-calendar__dot progress-calendar__dot--level-${ty(j.completions)}`}),s.jsx("span",{className:"progress-calendar__count",children:j.completions})]},j.date))})]}),s.jsxs("article",{className:"progress-card progress-card--goals",children:[s.jsxs("header",{children:[s.jsx("h3",{children:"Upcoming goal milestones"}),s.jsx("p",{children:"Stay ahead of deadlines by keeping these target dates in focus."})]}),re.length===0?s.jsx("p",{className:"progress-card__empty",children:"No upcoming target dates. Set target dates when creating your goals."}):s.jsx("ul",{className:"progress-card__goal-list",children:re.map(j=>s.jsxs("li",{children:[s.jsx("span",{className:"progress-card__goal-title",children:j.title}),s.jsx("span",{className:"progress-card__goal-date",children:Ef(j.target_date)})]},j.id))})]})]})]})}function ty(e){return e===0?0:e===1?1:e===2?2:e<=4?3:4}function Cf(e,t=160){const n=e.replace(/\s+/g," ").trim();return n?n.length<=t?n:`${n.slice(0,Math.max(0,t-1))}…`:""}function Ef(e){return new Date(e).toLocaleDateString(void 0,{month:"short",day:"numeric"})}function ny(e,t){if(!e.target_date)return null;const n=new Date(e.target_date);if(Number.isNaN(n.getTime()))return null;const r=f=>{const w=new Date(f);return w.setHours(0,0,0,0),w},i=r(t).getTime(),a=r(n).getTime()-i,o=Math.round(a/(1e3*60*60*24)),c=Math.abs(o),u=new Intl.RelativeTimeFormat(void 0,{numeric:"auto"});let m="day",h=o;return c>=60?(m="month",h=Math.round(o/30)):c>=14&&(m="week",h=Math.round(o/7)),{relative:u.format(h,m),readable:Ef(e.target_date),isPast:o<0}}function _i(e){if(e.target_date){const t=new Date(e.target_date).getTime();if(!Number.isNaN(t))return t}if(e.created_at){const t=new Date(e.created_at).getTime();if(!Number.isNaN(t))return t}return Number.POSITIVE_INFINITY}function dl(e,t){const n=_i(e),r=_i(t);return!Number.isFinite(n)&&!Number.isFinite(r)?0:Number.isFinite(n)?Number.isFinite(r)?n-r:-1:1}function ry(e){return e.length===0?null:e.slice().sort((t,n)=>{const r=_i(t),i=_i(n);return Number.isFinite(i)&&Number.isFinite(r)?i-r:Number.isFinite(i)?-1:Number.isFinite(r)?1:0})[0]}function Ts(e,t,n,r){var c;const i=((c=e.title)==null?void 0:c.trim())||"Untitled goal",l=Cf(e.progress_notes??""),a=ny(e,r);let o;return t==="off_track"?a?o=a.isPast?`Target date was ${a.relative} (${a.readable}). Plan a reset and log next steps.`:`Target date is ${a.relative} (${a.readable}). Rebuild the plan and confirm support.`:o="Define a new checkpoint and list the blockers so you can tackle them head-on.":t==="at_risk"?a?o=`Protect momentum before ${a.relative} (${a.readable}) by booking time for the next milestone.`:o="Schedule a working session and capture the next milestone to keep things moving.":t==="achieved"?a?o=`Celebrate the win and share highlights from ${a.readable}.`:o="Celebrate the win and document what made it successful for future projects.":a?o=`Lock in your next micro-win ${a.relative} (${a.readable}) so progress stays steady.`:o="Capture the very next action and set a target date to keep momentum focused.",{id:e.id,tone:n,status:t,title:i,summary:o,note:l?`Latest note: ${l}`:void 0}}function sy(e,t){if(e.length===0)return{intro:"Use this digest to plan your weekly sprint once goals are in place.",headline:"",actions:[],emptyMessage:"Add your first goal to unlock personalized focus prompts."};const n=e.map(_=>({goal:_,status:bn(_.status_tag)})),r=n.filter(_=>_.status==="off_track").map(_=>_.goal),i=n.filter(_=>_.status==="at_risk").map(_=>_.goal),l=n.filter(_=>_.status==="on_track").map(_=>_.goal),a=n.filter(_=>_.status==="achieved").map(_=>_.goal),o=r.length+i.length,c=n.length;let u,m;o>0?(u=`You have ${o} goal${o===1?"":"s"} that need attention this week.`,m=r.length>0?"Stabilize off-track goals first, then boost the ones losing momentum.":"Give at-risk goals a boost so they stay out of the danger zone."):l.length>0?(u=`All ${c===1?"goal is":"goals are"} currently on track.`,m="Lock in the next milestone while energy is high."):(u="Wins are rolling in—capture what worked and plan the next adventure.",m="Celebrate progress and choose the next big focus.");const h=[],f=r.slice().sort((_,v)=>dl(_,v));for(const _ of f.slice(0,2))h.push(Ts(_,"off_track","stabilize",t));if(h.length<3){const _=i.slice().sort((v,S)=>dl(v,S));for(const v of _.slice(0,3-h.length))h.push(Ts(v,"at_risk","boost",t))}if(h.length<3&&l.length>0){const _=l.slice().sort((v,S)=>dl(v,S))[0];_&&h.push(Ts(_,"on_track","boost",t))}if(h.length<3&&a.length>0){const _=ry(a);_&&h.push(Ts(_,"achieved","celebrate",t))}const w=o>0?"Once these goals are stabilized we will suggest the next set of focus moves here.":"Capture new goals or progress notes to unlock personalized focus ideas.";return{intro:u,headline:m,actions:h,emptyMessage:w}}const fo="vision-board";async function iy(e){if(!ve())return{data:Mm(e||ge),error:null};const n=await ye().from("vision_images").select("*").eq("user_id",e).order("created_at",{ascending:!1}).returns();return{data:n.data,error:n.error}}function Bc(e){if(!ve())return e;const t=ye(),{data:n}=t.storage.from(fo).getPublicUrl(e);return n.publicUrl}async function ly({userId:e,file:t,fileName:n,caption:r}){var _;if(!ve())try{const v=await Um(t);return{data:Lm({user_id:e||ge,image_path:v,caption:r!=null&&r.trim()?r.trim():null}),error:null}}catch(v){return{data:null,error:v instanceof Error?v:new Error("Unable to store vision image.")}}const i=ye(),l=((_=n.split(".").pop())==null?void 0:_.toLowerCase())??"jpeg",a=typeof crypto<"u"&&"randomUUID"in crypto?crypto.randomUUID():`${Date.now()}`,o=n.replace(/\.[^/.]+$/,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").slice(0,40),c=`${e}/${a}-${o||"vision-image"}.${l}`,{data:u,error:m}=await i.storage.from(fo).upload(c,t,{cacheControl:"3600",upsert:!1,contentType:t instanceof File?t.type:void 0});if(m)return{data:null,error:new Error(m.message)};const h={user_id:e,image_path:(u==null?void 0:u.path)??c,caption:r!=null&&r.trim()?r.trim():null},{data:f,error:w}=await i.from("vision_images").insert(h).select().returns().single();return w?{data:null,error:w}:{data:f,error:null}}async function ay(e){if(!ve())return Rm(e.id),null;const t=ye(),{error:n}=await t.from("vision_images").delete().eq("id",e.id);if(n)return n;if(e.image_path){const{error:r}=await t.storage.from(fo).remove([e.image_path]);if(r)return new Error(r.message)}return null}const oy=5*1024*1024;function fl({session:e}){var O;const{isConfigured:t,mode:n,isAuthenticated:r}=Ut(),i=n==="demo"||!r,[l,a]=y.useState([]),[o,c]=y.useState(!1),[u,m]=y.useState(null),[h,f]=y.useState(!1),[w,_]=y.useState(null),[v,S]=y.useState(""),[p,d]=y.useState("newest"),[g,x]=y.useState(!1),C=y.useCallback(async()=>{if(!t&&!i){a([]),x(!1);return}c(!0),m(null);try{const{data:N,error:W}=await iy(e.user.id);if(W)throw W;const U=(N??[]).map(I=>({...I,publicUrl:I.image_path?Bc(I.image_path):""}));a(U)}catch(N){m(N instanceof Error?N.message:"Unable to load your vision board.")}finally{x(!0),c(!1)}},[t,i,e.user.id]);y.useEffect(()=>{!e||!t&&!i||C()},[(O=e==null?void 0:e.user)==null?void 0:O.id,t,i,C]),y.useEffect(()=>{!t&&!i&&(a([]),x(!1))},[t,i]);const E=y.useMemo(()=>{const N=[...l];return p==="caption"?N.sort((W,U)=>(W.caption??"").localeCompare(U.caption??"")):N.sort((W,U)=>{const I=W.created_at?new Date(W.created_at).getTime():0,J=U.created_at?new Date(U.created_at).getTime():0;return p==="newest"?J-I:I-J})},[l,p]),M=N=>{var U;const W=((U=N.target.files)==null?void 0:U[0])??null;_(W)},D=async N=>{if(N.preventDefault(),!e){m("You need to sign in to curate your vision board.");return}if(!t&&!i){m("Supabase credentials are missing. Update your environment variables to continue.");return}if(!w){m("Choose an image to upload.");return}if(w.size>oy){m("Images must be 5MB or smaller.");return}f(!0),m(null);try{const{data:W,error:U}=await ly({userId:e.user.id,file:w,fileName:w.name,caption:v});if(U)throw U;W&&a(I=>[{...W,publicUrl:W.image_path?Bc(W.image_path):""},...I]),_(null),S(""),N.target.reset()}catch(W){m(W instanceof Error?W.message:"Unable to upload the image right now.")}finally{f(!1)}},ee=async N=>{if(!t&&!i){m("Connect Supabase to remove items from your vision board.");return}if(window.confirm("Remove this vision board entry? This cannot be undone.")){m(null);try{const U=await ay(N);if(U)throw U;a(I=>I.filter(J=>J.id!==N.id))}catch(U){m(U instanceof Error?U.message:"Unable to delete the entry.")}}};return s.jsxs("section",{className:"vision-board",children:[s.jsxs("header",{className:"vision-board__header",children:[s.jsxs("div",{children:[s.jsx("h2",{children:"Vision board"}),s.jsx("p",{children:"Collect the imagery that inspires your next milestone. Upload photos, set a caption, and revisit the gallery whenever you need a boost."})]}),s.jsxs("div",{className:"vision-board__sort",children:[s.jsx("label",{htmlFor:"vision-board-sort",children:"Sort by"}),s.jsxs("select",{id:"vision-board-sort",value:p,onChange:N=>d(N.target.value),children:[s.jsx("option",{value:"newest",children:"Newest first"}),s.jsx("option",{value:"oldest",children:"Oldest first"}),s.jsx("option",{value:"caption",children:"Caption (A–Z)"})]})]})]}),i?s.jsx("p",{className:"vision-board__status vision-board__status--info",children:"Vision board uploads are stored locally while you explore the demo workspace. Connect Supabase storage to keep a cloud-synced gallery."}):t?null:s.jsx("p",{className:"vision-board__status vision-board__status--warning",children:"Add your Supabase credentials and storage bucket to enable uploads and syncing for the vision board. Until then you can sketch ideas offline."}),u&&s.jsx("p",{className:"vision-board__status vision-board__status--error",children:u}),s.jsxs("form",{className:"vision-board__form",onSubmit:D,children:[s.jsxs("div",{className:"vision-board__field",children:[s.jsx("label",{htmlFor:"vision-board-file",children:"Image"}),s.jsx("input",{id:"vision-board-file",type:"file",accept:"image/*",onChange:M,disabled:!t&&!i||h,required:!0}),s.jsx("span",{className:"vision-board__hint",children:"PNG, JPG, or WEBP up to 5MB."})]}),s.jsxs("div",{className:"vision-board__field",children:[s.jsx("label",{htmlFor:"vision-board-caption",children:"Caption"}),s.jsx("input",{id:"vision-board-caption",type:"text",value:v,onChange:N=>S(N.target.value),placeholder:"Describe why this image matters",disabled:!t&&!i||h})]}),s.jsx("button",{type:"submit",className:"vision-board__submit",disabled:h||!t&&!i,children:h?"Uploading…":"Add to board"})]}),s.jsx("div",{className:"vision-board__grid",role:"list",children:!t&&!i?s.jsx("p",{className:"vision-board__empty",children:"Connect Supabase to sync your gallery."}):o&&!g?s.jsx("p",{className:"vision-board__empty",children:"Loading your inspiration…"}):E.length===0?s.jsx("p",{className:"vision-board__empty",children:"No images yet—upload your first motivator to get started."}):E.map(N=>s.jsxs("article",{className:"vision-board__card",role:"listitem",children:[N.publicUrl?s.jsx("img",{src:N.publicUrl,alt:N.caption??"Vision board entry",loading:"lazy"}):s.jsx("div",{className:"vision-board__placeholder","aria-hidden":!0,children:s.jsx("span",{children:"No preview"})}),s.jsxs("div",{className:"vision-board__card-body",children:[s.jsx("p",{children:N.caption??"Untitled inspiration"}),s.jsx("button",{type:"button",onClick:()=>ee(N),className:"vision-board__delete",disabled:!t&&!i,children:"Remove"})]})]},N.id))})]})}function Gc(e){return e||null}async function cy(e){return ve()?ye().from("notification_preferences").select("*").eq("user_id",e).maybeSingle():{data:zm(e||ge),error:null}}async function uy(e,t){if(!ve()){const i={user_id:e||ge,habit_reminders_enabled:t.habitRemindersEnabled,habit_reminder_time:t.reminderTime,checkin_nudges_enabled:t.checkinNudgesEnabled,timezone:t.timezone,subscription:Gc(t.subscription)};return{data:$m(e||ge,i),error:null}}const n=ye(),r={user_id:e,habit_reminders_enabled:t.habitRemindersEnabled,habit_reminder_time:t.reminderTime,checkin_nudges_enabled:t.checkinNudgesEnabled,timezone:t.timezone,subscription:Gc(t.subscription)};return n.from("notification_preferences").upsert(r,{onConflict:"user_id"}).select().single()}async function dy(e){if(!ve())return{data:Om(e||ge),error:null};const t=ye(),n={habit_reminders_enabled:!1,checkin_nudges_enabled:!1,habit_reminder_time:null,subscription:null};return t.from("notification_preferences").update(n).eq("user_id",e).select().maybeSingle()}function Df(){return typeof window<"u"&&"Notification"in window&&typeof navigator<"u"&&"serviceWorker"in navigator&&"PushManager"in window}async function Tf(){if(typeof navigator>"u"||!("serviceWorker"in navigator))return null;try{return await navigator.serviceWorker.ready}catch(e){return console.error("Failed to resolve service worker registration.",e),null}}async function ha(){const e=await Tf();if(!e)return null;try{return await e.pushManager.getSubscription()}catch(t){return console.error("Failed to fetch current push subscription.",t),null}}async function fy(e){throw new Error("VITE_VAPID_PUBLIC_KEY is not configured.")}async function hy(){if(!Df())throw new Error("Push messaging is not supported in this browser.");if((Notification.permission==="default"?await Notification.requestPermission():Notification.permission)!=="granted")throw new Error("Enable notifications to subscribe to reminders.");const t=await Tf();if(!t)throw new Error("Service worker registration is not ready.");const n=await t.pushManager.getSubscription();return n||fy()}async function py(){const e=await ha();if(!e)return!1;try{return await e.unsubscribe()}catch(t){return console.error("Failed to unsubscribe from push notifications.",t),!1}}const pa="08:00";function my(e,t){return e?{state:{habitRemindersEnabled:e.habit_reminders_enabled,checkinNudgesEnabled:e.checkin_nudges_enabled,reminderTime:e.habit_reminder_time??pa,timezone:e.timezone??t},subscription:e.subscription??null}:{state:{habitRemindersEnabled:!0,checkinNudgesEnabled:!0,reminderTime:pa,timezone:t},subscription:null}}function gy({session:e}){const{mode:t,isAuthenticated:n}=Ut(),r=t==="demo"||!n,i=y.useMemo(()=>typeof Intl<"u"&&typeof Intl.DateTimeFormat=="function"?Intl.DateTimeFormat().resolvedOptions().timeZone??"UTC":"UTC",[]),[l,a]=y.useState(!1),[o,c]=y.useState(!1),[u,m]=y.useState(!0),[h,f]=y.useState(!1),[w,_]=y.useState({habitRemindersEnabled:!0,checkinNudgesEnabled:!0,reminderTime:pa,timezone:i}),[v,S]=y.useState(null),[p,d]=y.useState(null),[g,x]=y.useState("default"),[C,E]=y.useState(i);y.useEffect(()=>{const I=Df();a(I),c(!0),x(I&&typeof Notification<"u"?Notification.permission:"denied")},[]),y.useEffect(()=>{let I=!0;return m(!0),cy(e.user.id).then(async({data:J,error:ie})=>{if(!I)return;if(ie){console.error("Failed to load notification preferences:",ie),d({kind:"error",message:"Unable to load your notification preferences right now."});const R=await ha();if(!I)return;S(R?R.toJSON():null);return}const{state:le,subscription:P}=my(J,i);if(_(le),E(le.timezone),P)S(P);else{const R=await ha();if(!I)return;S(R?R.toJSON():null)}}).finally(()=>{I&&m(!1)}),()=>{I=!1}},[e.user.id,i]),y.useEffect(()=>{if(!("serviceWorker"in navigator))return;const I=J=>{var ie;((ie=J.data)==null?void 0:ie.type)==="PUSH_SUBSCRIPTION_EXPIRED"&&(S(null),d({kind:"error",message:"Push subscription expired. Enable notifications again to resume reminders."}))};return navigator.serviceWorker.addEventListener("message",I),()=>{navigator.serviceWorker.removeEventListener("message",I)}},[]),y.useEffect(()=>{E(w.timezone)},[w.timezone]);const M=g==="granted"&&!!v,D=async(I,J,ie="Notification preferences updated.")=>{f(!0),d(null);const le=w,P=v;_(I),S(J);try{const{error:R}=await uy(e.user.id,{habitRemindersEnabled:I.habitRemindersEnabled,checkinNudgesEnabled:I.checkinNudgesEnabled,reminderTime:I.reminderTime||null,timezone:I.timezone,subscription:J});if(R)throw R;return d({kind:"success",message:ie}),!0}catch(R){return _(le),S(P),d({kind:"error",message:R instanceof Error?R.message:"Unable to save notification preferences."}),!1}finally{f(!1)}},ee=async()=>{if(!l){d({kind:"error",message:"Push notifications are not supported in this browser."});return}f(!0),d(null);try{const I=await hy();x("granted");const J=I.toJSON(),ie={...w,habitRemindersEnabled:!0,checkinNudgesEnabled:!0};await D(ie,J,"Notifications enabled for habit reminders and check-ins.")}catch(I){const J=I instanceof Error?I.message:"Unable to enable notifications.";d({kind:"error",message:J}),typeof Notification<"u"&&x(Notification.permission)}finally{f(!1)}},O=async()=>{f(!0),d(null);try{await py();const{error:I}=await dy(e.user.id);if(I)throw I;S(null),_(J=>({...J,habitRemindersEnabled:!1,checkinNudgesEnabled:!1})),d({kind:"success",message:"Push notifications disabled."}),typeof Notification<"u"&&x(Notification.permission)}catch(I){d({kind:"error",message:I instanceof Error?I.message:"Unable to disable notifications."})}finally{f(!1)}},N=async(I,J)=>{if(w[I]===J)return;const ie={...w,[I]:J};await D(ie,v)},W=async I=>{if(I===w.reminderTime)return;const J={...w,reminderTime:I};await D(J,v)},U=async()=>{const I=C.trim()||i;if(I===w.timezone)return;const J={...w,timezone:I};await D(J,v)};return s.jsxs("section",{className:"notification-preferences",children:[s.jsxs("header",{className:"notification-preferences__header",children:[s.jsx("h2",{children:"Habit & Check-in Notifications"}),s.jsx("p",{children:"Configure push reminders so LifeGoalApp can nudge you when it's time to complete habits or capture a life wheel check-in."})]}),r&&s.jsx("p",{className:"notification-preferences__message notification-preferences__message--info",children:"Demo mode stores notification preferences locally. Connect Supabase and configure web push credentials to deliver reminders across your devices."}),!o||u?s.jsx("p",{className:"notification-preferences__loading",children:"Checking notification settings…"}):l?s.jsxs("div",{className:"notification-preferences__card",children:[s.jsxs("div",{className:"notification-preferences__status-row",children:[s.jsx("span",{className:"notification-preferences__label",children:"Permission"}),s.jsx("span",{className:`notification-preferences__permission notification-preferences__permission--${g}`,children:g})]}),p&&s.jsx("p",{className:`notification-preferences__message notification-preferences__message--${p.kind}`,role:p.kind==="error"?"alert":"status",children:p.message}),M?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"notification-preferences__control",children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:w.habitRemindersEnabled,onChange:I=>N("habitRemindersEnabled",I.target.checked),disabled:h}),"Habit reminders"]}),s.jsx("p",{children:"Receive a nudge when a habit is due on today's checklist."})]}),s.jsxs("div",{className:"notification-preferences__control",children:[s.jsxs("label",{children:[s.jsx("input",{type:"checkbox",checked:w.checkinNudgesEnabled,onChange:I=>N("checkinNudgesEnabled",I.target.checked),disabled:h}),"Life wheel check-in nudges"]}),s.jsx("p",{children:"Get prompted to log a new check-in so your radar chart stays fresh."})]}),s.jsxs("div",{className:"notification-preferences__control notification-preferences__control--inline",children:[s.jsxs("label",{className:"notification-preferences__inline",children:["Reminder time",s.jsx("input",{type:"time",value:w.reminderTime,onChange:I=>W(I.target.value),disabled:h})]}),s.jsx("p",{children:"We'll queue reminders around this local time."})]}),s.jsxs("div",{className:"notification-preferences__control notification-preferences__control--inline",children:[s.jsxs("label",{className:"notification-preferences__inline",children:["Time zone",s.jsx("input",{type:"text",value:C,onChange:I=>E(I.target.value),onBlur:U,placeholder:"America/New_York",disabled:h})]}),s.jsx("p",{children:"Detected from your device. Adjust if you prefer reminders in another time zone."})]}),s.jsx("button",{type:"button",className:"notification-preferences__action notification-preferences__action--secondary",onClick:O,disabled:h,children:h?"Disabling…":"Disable notifications"})]}):s.jsx("button",{type:"button",className:"notification-preferences__action",onClick:ee,disabled:h,children:h?"Enabling…":"Enable notifications"})]}):s.jsx("p",{className:"notification-preferences__unsupported",children:"Push notifications are not supported in this browser. Try using a Chromium-based or Safari browser on desktop or mobile."})]})}function hl(e,t){if(!e)return"Not available";const n=new Date(e);return Number.isNaN(n.getTime())?e:new Intl.DateTimeFormat(void 0,t).format(n)}function yy({session:e,isDemoExperience:t,isAuthenticated:n,onSignOut:r}){var v,S,p,d,g;const i=e.user,l=((v=i.user_metadata)==null?void 0:v.full_name)||i.email||"Workspace member",a=i.email||"No email on file",o=l.trim().charAt(0).toUpperCase()||"U",c=((S=i.user_metadata)==null?void 0:S.subscription_plan)||(t?"Demo preview":"LifeGoal workspace"),u=((p=i.user_metadata)==null?void 0:p.subscription_status)||(t?"Preview mode":"Active"),m=hl(((d=i.user_metadata)==null?void 0:d.subscription_renews_on)??null,{dateStyle:"medium"}),h=!!((g=i.user_metadata)!=null&&g.onboarding_complete),f=hl(i.created_at,{dateStyle:"medium"}),w=hl(i.last_sign_in_at,{dateStyle:"medium",timeStyle:"short"}),_=t?"Demo (local device only)":"Connected to Supabase";return s.jsxs("div",{className:"account-panel",children:[s.jsxs("section",{className:"account-panel__card account-panel__profile","aria-labelledby":"account-profile",children:[s.jsx("div",{className:"account-panel__avatar","aria-hidden":"true",children:o}),s.jsxs("div",{className:"account-panel__profile-text",children:[s.jsx("p",{className:"account-panel__eyebrow",children:"Profile"}),s.jsx("h2",{id:"account-profile",children:"My account"}),s.jsx("p",{className:"account-panel__lead",children:"Review your identity details and workspace access."}),s.jsxs("dl",{className:"account-panel__details",children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Name"}),s.jsx("dd",{children:l})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Email"}),s.jsx("dd",{children:a})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Workspace mode"}),s.jsx("dd",{children:_})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Onboarding"}),s.jsx("dd",{children:h?"Complete":"In progress"})]})]})]})]}),s.jsxs("section",{className:"account-panel__card","aria-labelledby":"account-subscription",children:[s.jsx("p",{className:"account-panel__eyebrow",children:"Subscription"}),s.jsx("h3",{id:"account-subscription",children:"Plan overview"}),s.jsx("p",{className:"account-panel__hint",children:"Manage billing from your Supabase dashboard. Updates sync instantly to this workspace."}),s.jsxs("dl",{className:"account-panel__details",children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Plan"}),s.jsx("dd",{children:c})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Status"}),s.jsx("dd",{children:u})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Renews"}),s.jsx("dd",{children:m})]})]})]}),s.jsxs("section",{className:"account-panel__card","aria-labelledby":"account-data",children:[s.jsx("p",{className:"account-panel__eyebrow",children:"Data & security"}),s.jsx("h3",{id:"account-data",children:"Workspace data"}),s.jsx("p",{className:"account-panel__hint",children:"View high-level metadata about your profile. Detailed exports are available through Supabase."}),s.jsxs("dl",{className:"account-panel__details",children:[s.jsxs("div",{children:[s.jsx("dt",{children:"Member since"}),s.jsx("dd",{children:f})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Last sign-in"}),s.jsx("dd",{children:w})]}),s.jsxs("div",{children:[s.jsx("dt",{children:"Account ID"}),s.jsx("dd",{className:"account-panel__code",children:i.id})]})]})]}),s.jsxs("div",{className:"account-panel__actions",children:[s.jsxs("div",{children:[s.jsx("p",{className:"account-panel__eyebrow",children:"Session"}),s.jsx("p",{className:"account-panel__hint",children:n?"Sign out to switch to a different Supabase project.":"Sign in with Supabase to sync your personal rituals."})]}),n?s.jsx("button",{type:"button",className:"btn btn--primary",onClick:()=>r(),children:"Sign out"}):null]})]})}const Pf=y.createContext(void 0),Mf="lifegoal-theme",_y=()=>{if(typeof window>"u"||!window.localStorage)return null;try{return window.localStorage.getItem(Mf)||null}catch(e){return console.warn("Unable to access theme preference from storage.",e),null}},vy=e=>{if(!(typeof window>"u"||!window.localStorage))try{window.localStorage.setItem(Mf,e)}catch(t){console.warn("Unable to persist theme preference.",t)}};function wy({children:e}){const[t,n]=y.useState(()=>_y()||"bright-sky");y.useEffect(()=>{document.documentElement.setAttribute("data-theme",t),vy(t);const l=document.querySelector('meta[name="theme-color"]');l&&l.setAttribute("content",t==="bright-sky"?"#e0f2fe":"#0f172a")},[t]);const r=l=>{n(l)},i=()=>{n(l=>l==="bright-sky"?"dark-glass":"bright-sky")};return s.jsx(Pf.Provider,{value:{theme:t,setTheme:r,toggleTheme:i},children:e})}function xy(){const e=y.useContext(Pf);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}function Vc({className:e}){const{theme:t,toggleTheme:n}=xy(),r=t==="bright-sky"?"Dark Glass":"Bright Sky",i=t==="bright-sky"?"Dark mode":"Light mode",l=t==="bright-sky"?"🌙":"☀️";return s.jsxs("button",{type:"button",className:["theme-toggle",e].filter(Boolean).join(" "),onClick:n,"aria-label":`Switch to the ${r} theme`,title:`Switch to the ${r} theme`,"aria-pressed":t!=="bright-sky",children:[s.jsx("span",{className:"theme-toggle__icon","aria-hidden":"true",children:l}),s.jsx("span",{className:"theme-toggle__label",children:i})]})}function qc({items:e,activeId:t,onSelect:n}){return s.jsx("nav",{className:"mobile-footer-nav","aria-label":"Primary navigation",children:s.jsx("ul",{className:"mobile-footer-nav__list",children:e.map(r=>{const i=r.id===t;return s.jsx("li",{className:"mobile-footer-nav__item",children:s.jsxs("button",{type:"button",className:`mobile-footer-nav__button ${i?"mobile-footer-nav__button--active":""}`,onClick:()=>n(r.id),"aria-label":r.ariaLabel??r.label,"aria-pressed":i,children:[s.jsx("span",{"aria-hidden":"true",className:"mobile-footer-nav__icon",children:r.icon}),s.jsx("span",{className:"mobile-footer-nav__label",children:r.label})]})},r.id)})})})}function ky(e){const t=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia(e).matches,[n,r]=y.useState(t);return y.useEffect(()=>{if(typeof window>"u"||typeof window.matchMedia!="function")return()=>{};const i=window.matchMedia(e),l=a=>{r(a.matches)};return r(i.matches),i.addEventListener("change",l),()=>{i.removeEventListener("change",l)}},[e]),n}const An=[{id:"goals",label:"Dashboard",summary:"Review upcoming milestones and daily focus from a unified dashboard.",icon:"📊",shortLabel:"HOME"},{id:"planning",label:"Today's Habits & Routines",summary:"Check in on the rituals that keep today on track.",icon:"✅",shortLabel:"TODAY"},{id:"rituals",label:"Wellbeing Wheel Check-in",summary:"Reflect on your wellbeing balance with a quick wheel check-in.",icon:"🧭",shortLabel:"CHECK-IN"},{id:"insights",label:"Vision Board",summary:"Stay inspired with highlights from your evolving vision board.",icon:"🖼️",shortLabel:"VISION"},{id:"support",label:"Life Goals",summary:"Review your long-term goals and celebrate progress milestones.",icon:"🎯",shortLabel:"GOALS"},{id:"setup-habits",label:"Set Up Habits",summary:"Create or refine the habits that support your life goals.",icon:"🔁",shortLabel:"HABITS"},{id:"setup-goals",label:"Set Up Goals",summary:"Define clear, motivating goals to guide your next steps.",icon:"🛠️",shortLabel:"PLANS"},{id:"settings",label:"Settings",summary:"Adjust preferences and configure your workspace experience.",icon:"⚙️",shortLabel:"PREFS"},{id:"account",label:"My account",summary:"Review your profile, subscription status, and workspace data.",icon:"👤",shortLabel:"ACCOUNT"}],by=["planning","support","insights","rituals","account"];function jy(){var po;const[e,t]=y.useState(null),{session:n,initializing:r,isConfigured:i,isAuthenticated:l,mode:a,signInWithPassword:o,signUpWithPassword:c,signInWithGoogle:u,signOut:m}=Ut(),[h,f]=y.useState(""),[w,_]=y.useState(""),[v,S]=y.useState(""),[p,d]=y.useState("password"),[g,x]=y.useState(null),[C,E]=y.useState(null),[M,D]=y.useState(!1),[ee,O]=y.useState("login"),[N,W]=y.useState(!1),[U,I]=y.useState(""),[J,ie]=y.useState("settings"),[le,P]=y.useState(!1),R=ky("(max-width: 720px)"),[B,se]=y.useState(!1),ae=y.useMemo(()=>{const ne=De=>An.find(He=>He.id===De);return by.map(De=>{const He=ne(De),Ln=(He==null?void 0:He.shortLabel)??(He==null?void 0:He.label)??De,us=Ln.length>0?`${Ln.charAt(0)}${Ln.slice(1).toLowerCase()}`:Ln;return{id:De,label:us,ariaLabel:(He==null?void 0:He.label)??us,icon:(He==null?void 0:He.icon)??"•"}})},[]),T=y.useMemo(()=>An.filter(ne=>ne.id!=="goals"),[]),V=B?null:J,Y=a==="demo",$=y.useMemo(()=>n||Nr(),[n]);y.useEffect(()=>{var ne,De;if(!n){I(((ne=$.user.user_metadata)==null?void 0:ne.full_name)??""),W(!1);return}I(((De=n.user.user_metadata)==null?void 0:De.full_name)??"")},[n,$]),y.useEffect(()=>{const ne=De=>{De.preventDefault(),t(De)};return window.addEventListener("beforeinstallprompt",ne),()=>{window.removeEventListener("beforeinstallprompt",ne)}},[]),y.useEffect(()=>{if(!R){se(!1);return}se(ne=>ne||!0)},[R]),y.useEffect(()=>{d(ee==="signup"?"signup":"password")},[ee]);const X=y.useMemo(()=>{var ne;return!!((ne=$.user.user_metadata)!=null&&ne.onboarding_complete)},[$]),re=async ne=>{if(ne.preventDefault(),x(null),E(null),!h){E("Enter an email address to continue.");return}D(!0);try{if(p==="password"){if(!w){E("Enter a password to continue.");return}await o({email:h,password:w}),x("Signed in successfully.")}else if(p==="signup"){if(!w){E("Create a password to finish signing up.");return}if(!v.trim()){E("Share your name so we can personalize your workspace.");return}await c({email:h,password:w,options:{data:{full_name:v.trim(),onboarding_complete:!1}}}),x("Check your email to confirm your account, then sign in to continue.")}}catch(De){E(De instanceof Error?De.message:"Unable to complete the request.")}finally{D(!1)}},fe=(ne="login")=>{O(ne),P(!0)},A=()=>{if(l){ie("account"),P(!1);return}fe("login")},K=async()=>{x(null),E(null),D(!0);try{await o({email:gf,password:"demo-password"}),x("Signed in to the demo workspace.")}catch(ne){E(ne instanceof Error?ne.message:"Unable to sign in right now.")}finally{D(!1)}},k=async()=>{x(null),E(null),D(!0);try{await u(),x("Redirecting to Google…")}catch(ne){E(ne instanceof Error?ne.message:"Unable to open Google sign-in.")}finally{D(!1)}},F=async()=>{E(null),x(null);try{await m(),x("Signed out."),f(""),_(""),S("")}catch(ne){E(ne instanceof Error?ne.message:"Unable to sign out.")}},H=async()=>{e&&(e.prompt(),await e.userChoice,t(null))},j=ne=>{ie(ne),se(!1)},b=s.jsxs(s.Fragment,{children:[g&&s.jsx("p",{className:"supabase-auth__status supabase-auth__status--success",children:g}),C&&s.jsx("p",{className:"supabase-auth__status supabase-auth__status--error",children:C})]}),z=()=>{const ne=[{id:"login",label:"Log in"},{id:"signup",label:"Sign up"},{id:"demo",label:"Demo Account"}],De={login:{title:"Welcome back",subtitle:"Log in to sync your rituals, goals, and check-ins across devices."},signup:{title:"Create your LifeGoal account",subtitle:"Sign up with email or Google to unlock the full workspace."},demo:{title:"Take the demo for a spin",subtitle:`Instantly browse the workspace as ${ca}.`}},He=()=>s.jsxs("div",{className:"auth-tab-panel",role:"tabpanel",id:"auth-panel-login","aria-labelledby":"auth-tab-login",children:[s.jsxs("form",{className:"supabase-auth__form",onSubmit:re,children:[s.jsxs("label",{className:"supabase-auth__field",children:[s.jsx("span",{children:"Email"}),s.jsx("input",{type:"email",name:"email",value:h,onChange:We=>f(We.target.value),placeholder:"you@example.com",autoComplete:"email",required:!0})]}),s.jsxs("label",{className:"supabase-auth__field",children:[s.jsx("span",{children:"Password"}),s.jsx("input",{type:"password",name:"password",value:w,onChange:We=>_(We.target.value),placeholder:"••••••••",autoComplete:"current-password",required:!0})]}),s.jsx("div",{className:"supabase-auth__actions",children:s.jsx("button",{type:"submit",className:"supabase-auth__action auth-card__primary",disabled:M,children:M?"Signing in…":"Log in"})})]}),s.jsx("div",{className:"auth-card__providers",children:s.jsx("button",{type:"button",className:"auth-provider auth-provider--google",onClick:k,disabled:M||!i,children:"Continue with Google"})})]}),Ln=()=>s.jsxs("div",{className:"auth-tab-panel",role:"tabpanel",id:"auth-panel-signup","aria-labelledby":"auth-tab-signup",children:[s.jsxs("form",{className:"supabase-auth__form",onSubmit:re,children:[s.jsxs("label",{className:"supabase-auth__field",children:[s.jsx("span",{children:"Your name"}),s.jsx("input",{type:"text",name:"fullName",value:v,onChange:We=>S(We.target.value),placeholder:"Jordan Goalsetter",autoComplete:"name",required:!0})]}),s.jsxs("label",{className:"supabase-auth__field",children:[s.jsx("span",{children:"Email"}),s.jsx("input",{type:"email",name:"email",value:h,onChange:We=>f(We.target.value),placeholder:"you@example.com",autoComplete:"email",required:!0})]}),s.jsxs("label",{className:"supabase-auth__field",children:[s.jsx("span",{children:"Password"}),s.jsx("input",{type:"password",name:"password",value:w,onChange:We=>_(We.target.value),placeholder:"Create a secure password",autoComplete:"new-password",required:!0})]}),s.jsx("div",{className:"supabase-auth__actions",children:s.jsx("button",{type:"submit",className:"supabase-auth__action auth-card__primary",disabled:M,children:M?"Creating account…":"Sign up with email"})})]}),s.jsx("div",{className:"auth-card__providers",children:s.jsx("button",{type:"button",className:"auth-provider auth-provider--google",onClick:k,disabled:M||!i,children:"Sign up with Google"})})]}),us=()=>s.jsxs("div",{className:"auth-tab-panel",role:"tabpanel",id:"auth-panel-demo","aria-labelledby":"auth-tab-demo",children:[s.jsx("p",{className:"auth-card__hint",children:"Launch the fully-populated demo workspace to explore rituals, goal planning boards, and daily trackers without creating an account."}),s.jsxs("ul",{className:"auth-demo-list",children:[s.jsx("li",{children:"Preview Today's Habits and goal dashboards."}),s.jsx("li",{children:"Make changes locally without affecting production data."}),s.jsx("li",{children:"Decide later if you want to connect your own Supabase project."})]}),s.jsx("button",{type:"button",className:"supabase-auth__action auth-card__primary",onClick:K,disabled:M,children:"Enter the demo workspace"})]}),Af=()=>r?s.jsx("p",{className:"supabase-auth__status supabase-auth__status--info",children:"Loading session…"}):ee==="login"?He():ee==="signup"?Ln():us();return s.jsxs("div",{className:"auth-card",children:[s.jsxs("header",{className:"auth-card__header",children:[s.jsx("h2",{children:De[ee].title}),s.jsx("p",{children:De[ee].subtitle})]}),s.jsx("div",{className:"auth-card__tabs",role:"tablist","aria-label":"Choose how to access LifeGoal",children:ne.map(We=>{const mo=ee===We.id;return s.jsx("button",{type:"button",role:"tab",id:`auth-tab-${We.id}`,"aria-controls":`auth-panel-${We.id}`,"aria-selected":mo,className:`auth-tab ${mo?"auth-tab--active":""}`,onClick:()=>O(We.id),children:We.label},We.id)})}),s.jsxs("div",{className:"auth-card__body",children:[Af(),i?null:s.jsx("p",{className:"supabase-auth__status supabase-auth__status--error",children:"Supabase credentials are not configured. Update your environment variables to enable live authentication."}),b]})]})},G=U||((po=$.user.user_metadata)==null?void 0:po.full_name)||$.user.email,Z=(G||"").trim().charAt(0).toUpperCase()||"U",pe=An.find(ne=>ne.id===J)??An[An.length-1],ce=Y||!l,Me=!ce,Ue=!Me||X,yt=!Y&&!l;if(yt&&R)return s.jsxs("div",{className:"app app--auth-gate",children:[s.jsxs("header",{className:"auth-gate__masthead",children:[s.jsx("a",{className:"auth-gate__brand",href:"/","aria-label":"LifeGoalApp home",children:"LifeGoalApp"}),s.jsx(Vc,{className:"auth-gate__theme-toggle"})]}),s.jsxs("main",{className:"auth-layout auth-gate__layout",children:[s.jsxs("section",{className:"auth-hero",children:[s.jsx("span",{className:"auth-hero__badge",children:"Secure workspace"}),s.jsx("h1",{children:"Sign in to keep your rituals in sync"}),s.jsx("p",{className:"auth-hero__lead",children:"Access your personalized habit checklist and goal planning tools from any device."}),s.jsxs("ul",{className:"auth-hero__list",children:[s.jsxs("li",{children:[s.jsx("h3",{children:"Daily rituals, anywhere"}),s.jsx("p",{children:"Review Today's Habits once you're signed in to your workspace."})]}),s.jsxs("li",{children:[s.jsx("h3",{children:"Private progress"}),s.jsx("p",{children:"Your life wheel check-ins and reflections stay linked to your secure account."})]})]})]}),s.jsx("div",{className:"auth-panel auth-gate__panel",children:z()})]})]});const pn=yt&&!R,mn=pn||!R&&le,cs=()=>{if(J==="goals")return s.jsxs(s.Fragment,{children:[Me&&s.jsx(Sy,{session:$,displayName:U,setDisplayName:I,profileSaving:N,setProfileSaving:W,setAuthMessage:x,setAuthError:E,isOnboardingComplete:X}),Ue?s.jsxs("div",{className:"workspace-content",children:[s.jsx(ey,{session:$}),s.jsx(al,{session:$}),s.jsx(Pc,{session:$}),s.jsx(da,{session:$}),s.jsx(fl,{session:$}),s.jsx(Fc,{session:$})]}):s.jsx("p",{className:"workspace-onboarding-hint",children:"Finish onboarding to unlock the goal workspace and habit trackers."})]});if(J==="settings")return s.jsx("div",{className:"workspace-content",children:s.jsx(gy,{session:$})});if(J==="account")return s.jsx("div",{className:"workspace-content",children:s.jsx(yy,{session:$,isDemoExperience:ce,isAuthenticated:l,onSignOut:F})});if(!Ue)return s.jsx("p",{className:"workspace-onboarding-hint",children:"Finish onboarding to unlock this area."});switch(J){case"planning":return s.jsx("div",{className:"workspace-content",children:s.jsx(da,{session:$})});case"rituals":return s.jsxs("div",{className:"workspace-content",children:[s.jsx(Fc,{session:$}),s.jsx(Pc,{session:$}),s.jsx(fl,{session:$})]});case"insights":return s.jsx("div",{className:"workspace-content",children:s.jsx(fl,{session:$})});case"support":return s.jsxs("div",{className:"workspace-content",children:[s.jsx(Pg,{session:$}),s.jsx(al,{session:$})]});case"setup-habits":return s.jsx("div",{className:"workspace-content",children:s.jsx(Yg,{session:$})});case"setup-goals":return s.jsx("div",{className:"workspace-content",children:s.jsx(al,{session:$})});default:return s.jsx("div",{className:"workspace-stage__placeholder",children:s.jsxs("div",{className:"workspace-stage__placeholder-content",children:[s.jsx("h2",{children:pe.label}),s.jsx("p",{children:pe.summary}),s.jsx("p",{className:"workspace-stage__placeholder-hint",children:'Select "Goals & Habits" to access the full workspace preview.'})]})})}};if(R&&B)return s.jsxs(s.Fragment,{children:[s.jsx(Kg,{session:$,navItems:T,onSelectNav:j}),s.jsx(qc,{items:ae,activeId:null,onSelect:j})]});const Lf=`app app--workspace ${mn?"app--auth-overlay":""}`,Rf=`workspace-shell ${mn?"workspace-shell--blurred":""}`,ho=mn&&!pn;return s.jsxs("div",{className:Lf,children:[s.jsxs("div",{className:Rf,children:[!R&&s.jsxs("aside",{className:"workspace-sidebar","aria-label":"Workspace navigation",children:[s.jsxs("div",{className:"workspace-sidebar__masthead",children:[s.jsx("a",{className:"workspace-sidebar__brand",href:"/","aria-label":"LifeGoalApp home",children:"LifeGoalApp"}),s.jsxs("div",{className:"workspace-sidebar__masthead-actions",children:[s.jsx(Vc,{className:"btn btn--ghost workspace-sidebar__masthead-toggle"}),l?s.jsx("button",{type:"button",className:"btn btn--primary workspace-sidebar__masthead-button",onClick:F,children:"Sign out"}):s.jsx("button",{type:"button",className:"btn btn--primary workspace-sidebar__masthead-button",onClick:()=>le?P(!1):fe("login"),children:le?"Hide sign-in":"Sign in"})]})]}),s.jsxs("div",{className:"workspace-sidebar__profile",children:[s.jsx("div",{className:"workspace-avatar","aria-hidden":"true",children:Z}),s.jsxs("div",{className:"workspace-sidebar__profile-text",children:[s.jsx("span",{className:"workspace-sidebar__welcome",children:ce?"Demo creator":"Welcome back"}),s.jsx("span",{className:"workspace-sidebar__name",children:G})]})]}),s.jsx("nav",{className:"workspace-sidebar__nav",children:s.jsx("div",{className:"workspace-sidebar__nav-list",children:An.map(ne=>{const De=J===ne.id;return s.jsxs("button",{type:"button",className:`workspace-sidebar__nav-button ${De?"workspace-sidebar__nav-button--active":""}`,onClick:()=>ie(ne.id),"aria-pressed":De,"aria-label":ne.label,title:`${ne.label} • ${ne.summary}`,children:[s.jsx("span",{className:"workspace-sidebar__nav-icon","aria-hidden":"true",children:ne.icon}),s.jsx("span",{className:"workspace-sidebar__nav-text","aria-hidden":"true",children:ne.shortLabel}),s.jsx("span",{className:"sr-only workspace-sidebar__nav-label",children:ne.label}),s.jsx("span",{className:"sr-only workspace-sidebar__nav-summary",children:ne.summary})]},ne.id)})})}),s.jsxs("div",{className:"workspace-sidebar__actions",children:[e&&s.jsx("button",{type:"button",className:"workspace-sidebar__install",onClick:H,children:"Install app"}),s.jsx("div",{className:"workspace-sidebar__actions-divider",role:"presentation"}),s.jsxs("button",{type:"button",className:`workspace-sidebar__account-button ${l&&J==="account"?"workspace-sidebar__account-button--active":""}`,onClick:A,"aria-pressed":l&&J==="account","aria-label":l?"Open my account":"Sign in to your account",title:l?"Open my account":"Sign in to your account",children:[s.jsx("span",{"aria-hidden":"true",className:"workspace-sidebar__nav-icon",children:"👤"}),s.jsx("span",{className:"sr-only",children:l?"Open my account settings":"Open the sign-in dialog"})]})]})]}),s.jsxs("main",{className:"workspace-main",children:[(!l||g||C)&&s.jsxs("div",{className:"workspace-status",children:[!l&&s.jsx("p",{className:"workspace-status__message",children:"You’re exploring demo data. Sign in to sync with your Supabase project."}),b,!l&&s.jsx("button",{type:"button",className:"supabase-auth__action workspace-status__cta",onClick:()=>fe("login"),children:"Connect Supabase"})]}),R?s.jsx("button",{type:"button",className:"workspace-main__mobile-cta",onClick:()=>se(!0),children:"Back to daily checklist"}):null,s.jsxs("section",{className:`workspace-stage ${J==="goals"?"workspace-stage--detail":"workspace-stage--placeholder"}`,"aria-live":"polite",children:[s.jsxs("header",{className:"workspace-stage__header",children:[s.jsx("h1",{children:pe.label}),s.jsx("p",{children:pe.summary})]}),s.jsx("div",{className:"workspace-stage__body",children:cs()})]})]})]}),R?s.jsx(qc,{items:ae,activeId:V,onSelect:j}):null,mn?s.jsxs("div",{className:"auth-overlay",role:"dialog","aria-modal":"true","aria-label":"Authenticate with LifeGoalApp",children:[s.jsx("div",{className:"auth-overlay__backdrop",onClick:()=>ho?P(!1):null,role:"presentation"}),s.jsxs("div",{className:"auth-overlay__dialog",children:[ho?s.jsxs("button",{type:"button",className:"auth-overlay__close",onClick:()=>P(!1),children:[s.jsx("span",{"aria-hidden":"true",children:"×"}),s.jsx("span",{className:"sr-only",children:"Close sign-in dialog"})]}):null,z()]})]}):null]})}function Sy({session:e,displayName:t,setDisplayName:n,profileSaving:r,setProfileSaving:i,setAuthMessage:l,setAuthError:a,isOnboardingComplete:o}){const{client:c}=Ut(),u=async m=>{if(m.preventDefault(),!c){a("Supabase client is not ready.");return}i(!0),l(null),a(null);try{const h=t.trim(),{error:f}=await c.auth.updateUser({data:{full_name:h||null,onboarding_complete:!0}});if(f)throw f;l("Profile saved! Let’s capture your first goal next.")}catch(h){a(h instanceof Error?h.message:"Unable to save your profile.")}finally{i(!1)}};return s.jsxs("div",{className:"supabase-onboarding",children:[s.jsxs("header",{className:"supabase-onboarding__header",children:[s.jsx("h3",{children:o?"You’re all set 🎉":"Finish onboarding"}),s.jsx("p",{children:o?"Jump into the goals workspace to start charting your milestones.":"Add a display name so teammates know who is shaping these goals. We will mark onboarding as complete for you."})]}),s.jsxs("form",{className:"supabase-onboarding__form",onSubmit:u,children:[s.jsxs("label",{className:"supabase-auth__field",children:[s.jsx("span",{children:"Display name"}),s.jsx("input",{type:"text",value:t,onChange:m=>n(m.target.value),placeholder:e.user.email??"you@example.com"})]}),s.jsx("button",{type:"submit",className:"supabase-auth__action",disabled:r,children:r?"Saving…":o?"Update name":"Save & complete onboarding"})]})]})}async function Ny(){var e,t,n;if(!("serviceWorker"in navigator)){console.warn("Service workers are not supported in this browser."),typeof window<"u"&&((e=window.__LifeGoalAppDebugger)==null||e.warn("Service workers are not supported in this browser."));return}try{const r=await navigator.serviceWorker.register("/sw.js",{scope:"/",type:"classic"});typeof window<"u"&&((t=window.__LifeGoalAppDebugger)==null||t.log("Service worker registered.",{scope:r.scope})),r.onupdatefound=()=>{const i=r.installing;i&&(i.onstatechange=()=>{var l;i.state==="installed"&&navigator.serviceWorker.controller&&(console.info("New content is available; please refresh."),typeof window<"u"&&((l=window.__LifeGoalAppDebugger)==null||l.log("Service worker installed an update.")))})}}catch(r){console.error("Failed to register service worker:",r),typeof window<"u"&&((n=window.__LifeGoalAppDebugger)==null||n.error("Failed to register service worker.",{message:r instanceof Error?r.message:String(r),stack:r instanceof Error?r.stack:void 0}))}}var Yc;typeof window<"u"&&((Yc=window.__LifeGoalAppDebugger)==null||Yc.log("Initializing React root.",{mode:"production"}));gl.createRoot(document.getElementById("root")).render(s.jsx(lh.StrictMode,{children:s.jsx(wy,{children:s.jsx(Gm,{children:s.jsx(jy,{})})})}));var Kc;typeof window<"u"&&((Kc=window.__LifeGoalAppDebugger)==null||Kc.log("React root rendered successfully.",{strictMode:!0}));Ny();const Cy=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));
