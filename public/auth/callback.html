<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Signing you in…</title>
    <style>
      body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial;background:#0f172a;color:#e2e8f0;display:flex;align-items:center;justify-content:center;min-height:100vh;margin:0}
    </style>
  </head>
  <body>
    Signing you in…
    <script type="module">
      import { supabase } from "/assets/supaClient.js";
      const { data } = await supabase.auth.getSession();
      if (data?.session) {
        location.replace('/dashboard');
      }
      supabase.auth.onAuthStateChange((_event, session) => {
        if (session) {
          location.replace('/dashboard');
        }
      });
    </script>
  </body>
</html>
